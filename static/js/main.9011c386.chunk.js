(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{135:function(e,t,n){"use strict";t.a=n.p+"static/media/standUserAva.ab7efdc7.png"},136:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"h",(function(){return A})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return M}));var r=n(4),a=n.n(r),s=n(9),o=n(25),c=n(2),i=n(7),u=n(24),l="UNFOLLOW",d="FOLLOW",g="SET_USERS",f="SET_USERS_TOTAL_COUNT",p="SET_CURRENT_USERS_PAGE",j="SET_IS_WROTE",h="UP_TOGGLE_IS_WROTE_PROGRESS",b="UP_TOGGLE_FOLLOWING_PROGRESS",O="TOGGLE_SEARCH_USERS_PROGRESS",m={usersData:[],currentPage:1,pageSize:7,totalUsersCount:0,isFetching:!1,isWrote:!1,followingInProgress:[],setIsWroteInProgress:[],searchUsersInProgress:!1},_=function(e,t){return{type:l,userId:e,message:t}},P=function(e,t,n){return{type:d,userId:e,message:t,error:n}},v=function(e){return{type:g,usersData:e}},x=function(e){return{type:p,number:e}},I=function(e){return{type:f,count:e}},D=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},w=function(e){return{type:j,isWrote:e}},S=function(e,t){return{type:h,inProgress:e,userId:t}},N=function(e,t){return{type:b,inProgress:e,userId:t}},k=function(e){return{type:O,searchUsersInProgress:e}},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),n.next=3,Object(i.n)(e,t);case 3:s=n.sent,r(D(!1)),r(v(s.items)),r(I(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return k(!0),r.next=3,Object(i.p)(e,t,!0,n);case 3:o=r.sent,s(v(o.items)),s(I(o.totalCount)),s(k(!1));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(i.s)(e);case 3:r=t.sent,n(_(e,r.message)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(i.f)(e);case 3:r=t.sent,n(P(e,r.message,r.error)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(e)),r(D(!0)),n.next=4,Object(i.n)(e,t);case 4:s=n.sent,r(D(!1)),r(v(s.items)),r(I(s.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0,e)),t.next=3,Object(i.o)(e);case 3:r=t.sent,n(w(!0)),n(Object(u.f)(r.idDialog)),n(S(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case d:return Object(c.a)(Object(c.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!t.error}):e}))});case g:return Object(c.a)(Object(c.a)({},e),{},{usersData:Object(o.a)(t.usersData)});case p:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.number});case f:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.count});case j:return Object(c.a)(Object(c.a)({},e),{},{isWrote:t.isWrote});case h:return Object(c.a)(Object(c.a)({},e),{},{setIsWroteInProgress:t.inProgress?[].concat(Object(o.a)(e.setIsWroteInProgress),[t.userId]):e.setIsWroteInProgress.filter((function(e){return e!=t.userId}))});case b:return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case O:return Object(c.a)(Object(c.a)({},e),{},{searchUsersInProgress:t.searchUsersInProgress});default:return e}}},140:function(e,t,n){e.exports={footer:"Footer_footer__3GEEm"}},141:function(e,t,n){e.exports={settings:"Settings_settings__37aTB"}},143:function(e,t,n){e.exports={profilePage:"ProfilePage_profilePage__1v0sS"}},173:function(e,t,n){},19:function(e,t,n){e.exports={profileInfoWrap:"ProfileInfo_profileInfoWrap__21npk",profileInfo:"ProfileInfo_profileInfo__37NZF",profileStatus:"ProfileInfo_profileStatus__FoHF9",statusValue:"ProfileInfo_statusValue__3-Pw3",userStatusValue:"ProfileInfo_userStatusValue__1Uyw_",inputStatus:"ProfileInfo_inputStatus__2r1-C",inputStatusArea:"ProfileInfo_inputStatusArea__jIbXg",ava:"ProfileInfo_ava__2MQDi",userData:"ProfileInfo_userData__3M54u",name:"ProfileInfo_name__lNL1_",modal:"ProfileInfo_modal__28SLg",modalName:"ProfileInfo_modalName__1fTWo",choiceFile:"ProfileInfo_choiceFile__2X3Rr",modalContent:"ProfileInfo_modalContent__DXr_w",addImgInput:"ProfileInfo_addImgInput__YUEp_",submitInput:"ProfileInfo_submitInput__2D1ZT",changeAvaStatus:"ProfileInfo_changeAvaStatus__1YHab",loadedImg:"ProfileInfo_loadedImg__1IYp9",activity:"ProfileInfo_activity__3513U",activityButton:"ProfileInfo_activityButton__3bT-Y",followedStatus:"ProfileInfo_followedStatus__3dRvw"}},21:function(e,t,n){e.exports={main:"AuthoReg_main__2SsnM",form:"AuthoReg_form__FkHsO",autoReg:"AuthoReg_autoReg__YtsmX",authorisation:"AuthoReg_authorisation__2sirQ",entryButton:"AuthoReg_entryButton__3joip",imgLoadWrap:"AuthoReg_imgLoadWrap__2tnHN",registration:"AuthoReg_registration__1DiEh",regButton:"AuthoReg_regButton__3wMbq",authLink:"AuthoReg_authLink__3AwIA",link:"AuthoReg_link__1ADaR",addImg:"AuthoReg_addImg__39XFH",loadedImg:"AuthoReg_loadedImg__6qvu_",summaryErrorBar:"AuthoReg_summaryErrorBar__3OO6I"}},23:function(e,t,n){e.exports={nav:"Nav_nav__1IZr-",navItem:"Nav_navItem__1qv9U",link:"Nav_link__1BqEI",logoutLink:"Nav_logoutLink__N7lpE",activeLink:"Nav_activeLink__1kvgm",logoutButton:"Nav_logoutButton__3A0cD"}},24:function(e,t,n){"use strict";n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return A}));var r=n(4),a=n.n(r),s=n(9),o=n(25),c=n(2),i=n(7),u="SEND_MESSAGE",l="SET_MESSAGES",d="SET_DIALOGS",g="SET_CURRENT_DIALOG",f="DELETE_DIALOG",p="DELETE_MESSAGE",j="TOGGLE_SET_CURRENT_DIALOG_PROGRESS",h="TOGGLE_DELETE_DIALOG_PROGRESS",b="TOGGLE_DELETE_MESSAGE_PROGRESS",O="TOGGLE_SEND_MESSAGE_PROGRESS",m={dialogsData:[],messagesData:[],currentDialogId:"",setCurrentDialogInProgress:!1,deleteDialogInProgress:!1,deleteMessageInProgress:!1,sendMessageInProgress:!1},_=function(e,t){return{type:f,idDialog:e,message:t}},P=function(e){return{type:l,messagesData:e}},v=function(e,t){return{type:p,idMessage:e,message:t}},x=function(e){return{type:g,selectedDialogId:e}},I=function(e){return{type:j,setCurrentDialogInProgress:e}},D=function(e){return{type:h,deleteDialogInProgress:e}},w=function(e){return{type:b,deleteMessageInProgress:e}},S=function(e){return{type:O,sendMessageInProgress:e}},N=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)();case 2:if((r=t.sent)&&n((a=r.items,{type:d,dialogsData:a})),!e){t.next=9;break}return t.next=7,Object(i.i)(e);case 7:(s=t.sent)?n(P(s.items)):null===s&&n(P([]));case 9:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),n.next=3,Object(i.c)(e);case 3:s=n.sent,r(_(e,s.message)),t===e&&r(x("")),r(D(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),n.next=3,Object(i.d)(e,t);case 3:s=n.sent,r(v(t,s.message)),r(w(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(I(!0)),t.next=3,Object(i.i)(e);case 3:(r=t.sent)?n(P(r.items)):null===r&&n(P([])),n(I(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(S(!0)),n.next=3,Object(i.q)(e,t);case 3:s=n.sent,r((a=s[0].name,o=s[0].img,c=s[0].id,l=s[0].text,d=s[0].time,{type:u,name:a,img:o,id:c,text:l,time:d})),r(S(!1));case 6:case"end":return n.stop()}var a,o,c,l,d}),n)})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:t.id,name:t.name,text:t.text,img:t.img,time:t.time};return Object(c.a)(Object(c.a)({},e),{},{messagesData:[].concat(Object(o.a)(e.messagesData),[n])});case l:return Object(c.a)(Object(c.a)({},e),{},{messagesData:Object(o.a)(t.messagesData)});case f:return Object(c.a)(Object(c.a)({},e),{},{dialogsData:e.dialogsData.map((function(e){return e.idDialog===t.idDialog?Object(c.a)(Object(c.a)({},e),{},{isDeleted:!0}):e}))});case p:return Object(c.a)(Object(c.a)({},e),{},{messagesData:e.messagesData.map((function(e){return e.id===t.idMessage?Object(c.a)(Object(c.a)({},e),{},{isDeleted:!0}):e}))});case d:return Object(c.a)(Object(c.a)({},e),{},{dialogsData:Object(o.a)(t.dialogsData)});case g:return Object(c.a)(Object(c.a)({},e),{},{currentDialogId:t.selectedDialogId});case j:return Object(c.a)(Object(c.a)({},e),{},{setCurrentDialogInProgress:t.setCurrentDialogInProgress});case h:return Object(c.a)(Object(c.a)({},e),{},{deleteDialogInProgress:t.deleteDialogInProgress});case b:return Object(c.a)(Object(c.a)({},e),{},{deleteMessageInProgress:t.deleteMessageInProgress});case O:return Object(c.a)(Object(c.a)({},e),{},{sendMessageInProgress:t.sendMessageInProgress});default:return e}}},301:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=(n(173),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,302)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))}),o=n(78),c=n.n(o),i=n(15),u=n(16),l=n(18),d=n(17),g=n(140),f=n.n(g),p=n(0),j=function(){return Object(p.jsx)("footer",{className:f.a.footer,children:"FOOTER"})},h=n(68),b=n.n(h),O=function(){return Object(p.jsx)("header",{className:b.a.header,children:Object(p.jsxs)("div",{className:b.a.headerWRap,children:[Object(p.jsx)("div",{className:b.a.logo,children:Object(p.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/10/wonder-day-among-us-21.png"})}),Object(p.jsx)("div",{className:b.a.title,children:Object(p.jsx)("p",{children:"VLopatiche"})})]})})},m=n(57),_=n.n(m),P=n(22),v=n(141),x=n.n(v),I=n(10),D=n(11),w=n(36),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(N,{})}}]),n}(a.a.Component),N=function(){return Object(p.jsx)("div",{className:x.a.settings,children:Object(p.jsx)("h1",{children:"\u0421\u0422\u0420\u0410\u041d\u0418\u0426\u0410 \u041d\u0410\u0421\u0422\u0420\u041e\u0415\u041a (\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415)"})})},k=Object(D.d)(Object(I.b)((function(e){return{}}),{}),w.a)(S),T=n(83),C=n.n(T),A=n(46),y=n.n(A),E=n(13),M=function(e){return Object(p.jsxs)("div",{className:y.a.news,children:[Object(p.jsx)("div",{className:y.a.avaNews,children:Object(p.jsx)("img",{src:e.img,alt:"avaNews"})}),Object(p.jsxs)("div",{className:y.a.newsContent,children:[Object(p.jsx)("div",{className:y.a.resourceName,children:Object(p.jsx)(E.b,{className:y.a.resourceLink,to:"/AuthUser/ProfilePage/"+e.resourceId,children:Object(p.jsx)("h2",{children:e.name})})}),Object(p.jsx)("div",{className:y.a.newsText,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:y.a.dateTime,children:Object(p.jsx)("p",{children:e.dateTime})})]})]})},F=a.a.memo(M),U=n(79),L=function(e){var t=e.newsData.map((function(e){return Object(p.jsx)(F,{id:e.idPost,resourceId:e.resourceId,img:e.img,name:e.name,text:e.text,dateTime:e.dateTime},e.idPost)}));return Object(p.jsx)("div",{className:C.a.newsPage,children:Object(p.jsxs)("div",{className:C.a.newsList,children:[t,Object(p.jsx)("div",{className:C.a.selectingPageMenu,children:Object(p.jsx)(U.a,{totalCount:e.totalNewsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage})})]})})},R=a.a.memo(L),W=n(4),B=n.n(W),G=n(9),z=n(25),V=n(2),H=n(7),X="SET_NEWS",q="SET_CURRENT_NEWS_PAGE",Z="SET_NEWS_TOTAL_COUNT",J={newsData:[],currentPage:1,pageSize:10,totalNewsCount:0},Q=function(e){return{type:X,newsData:e}},Y=function(e){return{type:q,number:e}},K=function(e){return{type:Z,count:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(V.a)(Object(V.a)({},e),{},{newsData:Object(z.a)(t.newsData)});case q:return Object(V.a)(Object(V.a)({},e),{},{currentPage:t.number});case Z:return Object(V.a)(Object(V.a)({},e),{},{totalNewsCount:t.count});default:return e}},ee=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onSetCurrentPage=function(t){e.props.setCurrentPageThunkCreator(t,e.props.newsPage.pageSize)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){this.props.setNewsThunkCreator(this.props.newsPage.currentPage,this.props.newsPage.pageSize)}},{key:"render",value:function(){return Object(p.jsx)(R,{onSetCurrentPage:this.onSetCurrentPage,currentPage:this.props.newsPage.currentPage,totalNewsCount:this.props.newsPage.totalNewsCount,pageSize:this.props.newsPage.pageSize,newsData:this.props.newsPage.newsData})}}]),n}(a.a.Component),te=Object(D.d)(Object(I.b)((function(e){return{newsPage:e.newsPage}}),{setNewsThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(H.j)(e,t);case 2:(a=n.sent)&&(r(Q(a.items)),r(K(a.totalCount)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setCurrentPageThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Y(e)),n.next=3,Object(H.j)(e,t);case 3:a=n.sent,r(Q(a.items)),r(K(a.totalCount));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),w.a)(ee),ne=n(143),re=n.n(ne),ae=n(84),se=n.n(ae),oe=n(47),ce=n.n(oe),ie=function(e){return Object(p.jsxs)("div",{className:ce.a.postBox,children:[Object(p.jsx)("div",{className:ce.a.avaPost,children:Object(p.jsx)("img",{src:e.avaImg,alt:"avapost"})}),Object(p.jsxs)("div",{className:ce.a.postContent,children:[Object(p.jsx)("div",{className:ce.a.name,children:Object(p.jsx)("p",{children:e.name})}),Object(p.jsx)("div",{className:ce.a.postText,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:ce.a.dateTime,children:Object(p.jsx)("p",{children:e.dateTime})})]}),e.profileId?null:Object(p.jsx)("div",{className:ce.a.deletePost,children:Object(p.jsx)("button",{disabled:e.deletePostInProgress,onClick:function(){return e.onDeletePost(e.idPost)},children:Object(p.jsx)("p",{children:"\xd7"})})})]})},ue=a.a.memo(ie),le=n(38),de=n(137),ge=n(138),fe=n(146),pe=n(45),je=n.n(pe),he=["input","meta"],be=function(e){return function(t){var n=t.input,r=t.meta,a=Object(fe.a)(t,he),s=r.touched&&r.error;return Object(p.jsxs)("div",{className:je.a.formBar,children:[Object(p.jsx)(e,Object(V.a)(Object(V.a)(Object(V.a)({},n),a),{},{className:"textarea"===e?je.a.textareaForm:je.a.inputForm+" "+(s?je.a.error:null)})),s?Object(p.jsx)("span",{className:je.a.errorText,children:r.error}):null]})}},Oe=function(e){if(!e)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},me=function(e,t){return function(n){return n&&n.length>t?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(t):n&&n.length<e?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(e):void 0}},_e=function(e){var t=e.postsData.map((function(t){return t.isDeleted?null:Object(p.jsx)(ue,{avaImg:e.avaImg,name:e.name,text:t.text,dateTime:t.dateTime,idPost:t.idPost,onDeletePost:e.onDeletePost,deletePostInProgress:e.deletePostInProgress,profileId:e.profileId},t.idPost)}));return Object(p.jsxs)("div",{className:se.a.myPosts,children:[e.profileId?null:Object(p.jsx)(xe,{addPostInProgress:e.addPostInProgress,onSubmit:function(t,n){e.onAddNewPost(t.postText),n(Object(le.a)("addPost"))}}),Object(p.jsx)("h2",{children:e.profileId?"\u041f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:":"\u0412\u0430\u0448\u0438 \u043f\u043e\u0441\u0442\u044b:"}),e.postsData.length>0?t:"\u0412 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432"]})},Pe=be("textarea"),ve=me(0,500),xe=Object(ge.a)({form:"addPost"})((function(e){return Object(p.jsxs)("form",{className:se.a.addPostForm,onSubmit:e.handleSubmit,children:[Object(p.jsx)(de.a,{placeholder:"\u0415\u0441\u0442\u044c \u0447\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e ?",name:"postText",validate:[ve],component:Pe}),Object(p.jsx)("button",{disabled:e.addPostInProgress,className:se.a.addPostButton,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})),Ie=a.a.memo(_e),De=n(24),we="ADD_POST",Se="SET_POSTS",Ne="SET_PROFILE_INFO",ke="DELETE_POST",Te="SET_CHANGE_AVA_IS_ACTIVE",Ce="SET_CHANGE_AVA_STATUS",Ae="SET_IS_WROTE",ye="TOGGLE_ADD_POST_PROGRESS",Ee="TOGGLE_DELETE_POST_PROGRESS",Me="SET_STATUS",Fe="UNFOLLOW",Ue="FOLLOW",Le="TOGGLE_FOLLOWING_PROGRESS",Re="TOGGLE_IS_WROTE_PROGRESS",We={postsData:[],profileData:[{}],changeAvaIsActive:!1,changeAvaStatus:null,addPostInProgress:!1,deletePostInProgress:!1,status:"",isWrote:!1,followingInProgress:!1,setIsWroteInProgress:!1},Be=function(e){return{type:Ae,isWrote:e}},Ge=function(e){return{type:Me,statusText:e}},ze=function(e,t){return{type:ke,idPost:e,message:t}},Ve=function(e){return{type:Se,postsData:e}},He=function(e){return{type:Te,changeAvaIsActive:e}},Xe=function(e){return{type:ye,addPostInProgress:e}},qe=function(e){return{type:Ee,deletePostInProgress:e}},Ze=function(e){return{type:Le,followingInProgress:e}},Je=function(e){return{type:Re,setIsWroteInProgress:e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:var n={idPost:t.idPost,text:t.text,dateTime:t.dateTime};return Object(V.a)(Object(V.a)({},e),{},{postsData:[n].concat(Object(z.a)(e.postsData))});case Te:return Object(V.a)(Object(V.a)({},e),{},{changeAvaIsActive:t.changeAvaIsActive});case Ce:return Object(V.a)(Object(V.a)({},e),{},{changeAvaStatus:t.status});case ke:return Object(V.a)(Object(V.a)({},e),{},{postsData:e.postsData.map((function(e){return e.idPost===t.idPost?Object(V.a)(Object(V.a)({},e),{},{isDeleted:!0}):e}))});case Ne:return Object(V.a)(Object(V.a)({},e),{},{profileData:[t.profileData]});case Se:if(t.postsData)return Object(V.a)(Object(V.a)({},e),{},{postsData:Object(z.a)(t.postsData)});case ye:return Object(V.a)(Object(V.a)({},e),{},{addPostInProgress:t.addPostInProgress});case Ee:return Object(V.a)(Object(V.a)({},e),{},{deletePostInProgress:t.deletePostInProgress});case Me:return Object(V.a)(Object(V.a)({},e),{},{status:t.statusText});case Fe:return Object(V.a)(Object(V.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{followed:!1})}))});case Ue:return Object(V.a)(Object(V.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{followed:!0})}))});case Le:return Object(V.a)(Object(V.a)({},e),{},{followingInProgress:t.followingInProgress});case Ae:return Object(V.a)(Object(V.a)({},e),{},{isWrote:t.isWrote});default:return e}},Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAddNewPost=function(t){t&&e.props.addPostThunkCreator(t)},e.onDeletePost=function(t){e.props.deletePostThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setPostsThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setPostsThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(p.jsx)(Ie,{postsData:this.props.profilePage.postsData,onAddNewPost:this.onAddNewPost,onDeletePost:this.onDeletePost,avaImg:this.props.profilePage.profileData[0].img,name:this.props.profilePage.profileData[0].name,addPostInProgress:this.props.profilePage.addPostInProgress,deletePostInProgress:this.props.profilePage.deletePostInProgress,profileId:this.props.profileId})}}]),n}(a.a.Component),Ke=Object(I.b)((function(e){return{profilePage:e.profilePage}}),{setPostsThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.k)(e);case 2:r=t.sent,n(Ve(r?r.items:[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPostThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Xe(!0)),t.next=3,Object(H.a)(e);case 3:r=t.sent,n((a=r[0].idPost,s=r[0].text,o=r[0].dateTime,{type:we,idPost:a,text:s,dateTime:o})),n(Xe(!1));case 6:case"end":return t.stop()}var a,s,o}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePostThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(qe(!0)),t.next=3,Object(H.e)(e);case 3:r=t.sent,n(ze(e,r.message)),n(qe(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ye),$e=n(19),et=n.n($e),tt=n(20),nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).custom_file_upload_url="".concat(H.r,"/uploadImg"),r.onSetChangeAvaIsActive=function(e){r.props.setChangeAvaIsActive(e),!e&&r.props.changeAvaStatus&&window.location.reload()},r.onSetChangeAvaStatus=function(e){r.props.setChangeAvaStatus(e)},r.handleImagePreview=function(e){var t=URL.createObjectURL(e.target.files[0]),n=e.target.files[0];r.setState({image_preview:t,image_file:n})},r.handleSubmitFile=function(){if(null!==r.state.image_file){var e=new FormData;e.append("file",r.state.image_file),e.append("token",localStorage.getItem("userToken")),tt.post(r.custom_file_upload_url,e,{headers:{Accept:"application/json","Content-type":"multipart/form-data"}}).then((function(e){r.onSetChangeAvaStatus(e.data.message||e.data.error)}))}},r.state={image_file:null,image_preview:""},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:et.a.modal,onClick:function(){return e.onSetChangeAvaIsActive(!1)},children:Object(p.jsxs)("div",{className:et.a.modalContent,onClick:function(e){return e.stopPropagation()},children:[Object(p.jsx)("div",{className:et.a.modalName,children:Object(p.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u043e\u0442\u043e"})}),Object(p.jsx)("input",{className:et.a.addImgInput,type:"file",onChange:this.handleImagePreview}),Object(p.jsx)("img",{className:et.a.loadedImg,src:this.state.image_preview}),Object(p.jsx)("div",{className:et.a.changeAvaStatus,children:Object(p.jsx)("p",{children:this.props.changeAvaStatus})}),Object(p.jsx)("input",{className:et.a.submitInput,type:"submit",onClick:this.handleSubmitFile,value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})})}}]),n}(a.a.Component),rt=Object(I.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,changeAvaStatus:e.profilePage.changeAvaStatus,registrationPage:e.registrationPage,serverLink:e.authorizationPage.serverLink}}),(function(e){return{setChangeAvaIsActive:function(t){e(He(t))},setChangeAvaStatus:function(t){e(function(e){return{type:Ce,status:e}}(t))}}}))(nt),at=n(67),st=function(e){var t=Object(r.useState)(!1),n=Object(at.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.status),c=Object(at.a)(o,2),i=c[0],u=c[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(p.jsx)("div",{className:et.a.profileStatus,children:a?Object(p.jsx)("div",{className:et.a.inputStatusArea,children:Object(p.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.onSetNewStatus(i)},className:et.a.inputStatus,value:i})}):Object(p.jsx)("div",{children:Object(p.jsx)("span",{className:e.isAuthProfile?et.a.userStatusValue:et.a.statusValue,onDoubleClick:e.isAuthProfile?null:function(){s(!0)},children:e.status})})})},ot=a.a.memo(st),ct=function(e){return Object(p.jsxs)("div",{className:et.a.profileInfoWrap,children:[Object(p.jsxs)("div",{className:et.a.profileInfo,children:[Object(p.jsx)("div",{className:et.a.ava,children:Object(p.jsx)("img",{alt:"ava",src:e.profileData[0].img})}),Object(p.jsxs)("div",{className:et.a.userData,children:[Object(p.jsx)("p",{className:et.a.name,children:e.profileData[0].name}),Object(p.jsx)(ot,{isAuthProfile:e.isAuthProfile,onSetNewStatus:e.onSetNewStatus,status:e.status}),Object(p.jsxs)("p",{children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",e.profileData[0].age]}),Object(p.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441: ",e.profileData[0].address]}),e.isAuthProfile&&e.profileData[0].followed?Object(p.jsx)("div",{className:et.a.followedStatus,children:Object(p.jsx)("p",{children:"\u0412\u0430\u0448 \u0434\u0440\u0443\u0433"})}):null]})]}),Object(p.jsxs)("div",{className:et.a.activity,children:[e.isAuthProfile?Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{disabled:e.setIsWroteInProgress,onClick:function(){e.onMessage(e.profileData[0].userId)},className:et.a.activityButton,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.profileData[0].followed?Object(p.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onUnfollow(e.profileData[0].userId)},className:et.a.activityButton,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(p.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onFollow(e.profileData[0].userId)},className:et.a.activityButton,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}):Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return e.onSetChangeAvaIsActive(!0)},className:et.a.activityButton,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})}),e.changeAvaIsActive?Object(p.jsx)(rt,{}):null]})]})},it=a.a.memo(ct),ut=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onSetChangeAvaIsActive=function(t){e.props.setChangeAvaIsActive(t)},e.onSetNewStatus=function(t){e.props.setNewStatusThunkCreator(t)},e.onUnfollow=function(t){e.props.unFollowThunkCreator(t)},e.onFollow=function(t){e.props.followThunkCreator(t)},e.onMessage=function(t){e.props.goToDialogThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(p.jsx)(it,{isAuthProfile:this.props.profileId,changeAvaIsActive:this.props.changeAvaIsActive,profileData:this.props.profileData,status:this.props.status,onSetChangeAvaIsActive:this.onSetChangeAvaIsActive,onSetNewStatus:this.onSetNewStatus,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,followingInProgress:this.props.followingInProgress})}}]),n}(a.a.Component),lt=Object(D.d)(Object(I.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,profileData:e.profilePage.profileData,status:e.profilePage.status,followingInProgress:e.profilePage.followingInProgress}}),{setChangeAvaIsActive:He,setProfileInfoThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.l)(e);case 2:return r=t.sent,n({type:Ne,profileData:r}),t.next=6,Object(H.m)(e);case 6:a=t.sent,n(Ge(a.userStatus));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewStatusThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.t)(e);case 2:(r=t.sent).error||n(Ge(r.userStatus));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ze(!0)),t.next=3,Object(H.s)(e);case 3:r=t.sent,n((a=r.message,{type:Fe,message:a})),n(Ze(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ze(!0)),t.next=3,Object(H.f)(e);case 3:r=t.sent,n((a=r.message,{type:Ue,message:a})),n(Ze(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},goToDialogThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Je(!0)),t.next=3,Object(H.o)(e);case 3:r=t.sent,n(Be(!0)),n(Object(De.f)(r.idDialog)),n(Je(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ut),dt=function(e){return Object(p.jsxs)("div",{className:re.a.profilePage,children:[Object(p.jsx)(lt,{profileId:e.profileId}),Object(p.jsx)(Ke,{profileId:e.profileId})]})},gt=a.a.memo(dt),ft=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.isWrote&&this.props.setIsWrote(!1)}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){var e=this.props.match.params.profileId;return this.props.isWrote&&this.props.currentDialogId?Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage/"+this.props.currentDialogId}):Object(p.jsx)(gt,{profileId:e})}}]),n}(a.a.Component),pt=Object(D.d)(P.f,Object(I.b)((function(e){return{isWrote:e.profilePage.isWrote,currentDialogId:e.dialogsPage.currentDialogId}}),{setIsWrote:Be}),w.a)(ft),jt=n(39),ht=n.n(jt),bt=n(32),Ot=n.n(bt),mt=n(135),_t=function(e){return e.isWrote&&e.currentDialogId?Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage/"+e.currentDialogId}):Object(p.jsxs)("div",{className:Ot.a.friend,children:[Object(p.jsx)("div",{className:Ot.a.friendAva,children:Object(p.jsx)("img",{src:null!=e.img?e.img:mt.a,alt:"userAva"})}),Object(p.jsxs)("div",{className:Ot.a.friendInfo,children:[Object(p.jsx)(E.b,{className:Ot.a.friendLink,to:"/AuthUser/ProfilePage/"+e.id,children:"".concat(e.name)}),Object(p.jsx)("button",{disabled:e.isWroteInProgress.some((function(t){return t==e.id})),onClick:function(){e.onMessage(e.id)},className:"".concat(Ot.a.toMessageButton," ").concat(Ot.a.button),children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.followed?Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onUnfollow(e.id)},className:"".concat(Ot.a.unfollowButton," ").concat(Ot.a.button),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onFollow(e.id)},className:"".concat(Ot.a.followButton," ").concat(Ot.a.button),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),e.followed?null:Object(p.jsx)("div",{className:Ot.a.followedStatus,children:Object(p.jsx)("p",{children:"\u0423\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})})]})]})},Pt=a.a.memo(_t),vt=function(e){var t=e.friendsData.map((function(t){return Object(p.jsx)(Pt,{img:t.img,id:t.id,name:t.name,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followed:t.followed,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress},t.id)}));return Object(p.jsx)("div",{className:ht.a.friendList,children:e.friendsData.length>0?t:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439"})},xt=a.a.memo(vt),It=function(e){return Object(p.jsxs)("div",{className:ht.a.friendsPage,children:[Object(p.jsx)("div",{className:ht.a.searchFriendsButtonWrap,children:Object(p.jsx)("button",{className:ht.a.searchFriendsButton,children:Object(p.jsx)(E.b,{className:ht.a.searchFriends,to:"/AuthUser/UsersPage",children:"Search new friends"})})}),Object(p.jsxs)("div",{className:ht.a.usersListArea,children:[Object(p.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f:"}),Object(p.jsx)(xt,{friendsData:e.friendsData,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress})]}),Object(p.jsx)("div",{className:ht.a.selectingPageMenu,children:e.friendsData.length>0?Object(p.jsx)(U.a,{totalCount:e.totalFriendsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage}):null})]})},Dt=a.a.memo(It),wt="SET_FRIENDS",St="SET_FRIENDS_TOTAL_COUNT",Nt="SET_CURRENT_FRIENDS_PAGE",kt="SET_IS_WROTE",Tt="UNFOLLOW",Ct="FOLLOW",At="FP_TOGGLE_FOLLOWING_PROGRESS",yt="FP_TOGGLE_IS_WROTE_PROGRESS",Et={friendsData:[],currentPage:1,pageSize:7,totalFriendsCount:0,isFetching:!1,followingInProgress:[],isWrote:!1,isWroteInProgress:[]},Mt=function(e){return{type:wt,friendsData:e}},Ft=function(e){return{type:Nt,number:e}},Ut=function(e){return{type:St,count:e}},Lt=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},Rt=function(e){return{type:kt,isWrote:e}},Wt=function(e,t){return{type:Tt,userId:e,message:t}},Bt=function(e,t){return{type:At,inProgress:e,userId:t}},Gt=function(e,t){return{type:yt,inProgress:e,userId:t}},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(V.a)(Object(V.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.userId?Object(V.a)(Object(V.a)({},e),{},{followed:!1}):e}))});case Ct:return Object(V.a)(Object(V.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.friendId?Object(V.a)(Object(V.a)({},e),{},{followed:!0}):e}))});case kt:return Object(V.a)(Object(V.a)({},e),{},{isWrote:t.isWrote});case wt:if(t.friendsData)return Object(V.a)(Object(V.a)({},e),{},{friendsData:Object(z.a)(t.friendsData)});case Nt:return Object(V.a)(Object(V.a)({},e),{},{currentPage:t.number});case St:return Object(V.a)(Object(V.a)({},e),{},{totalFriendsCount:t.count});case At:return Object(V.a)(Object(V.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(z.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});case yt:return Object(V.a)(Object(V.a)({},e),{},{isWroteInProgress:t.inProgress?[].concat(Object(z.a)(e.isWroteInProgress),[t.userId]):e.isWroteInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Vt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUnfollow=function(t){e.props.unFollowThunkActionCreator(t)},e.onFollow=function(t){e.props.followThunkActionCreator(t)},e.onSetCurrentPage=function(t){e.props.setCurrentPageThunkActionCreator(t,e.props.pageSize)},e.onMessage=function(t){e.props.goToDialogThunkActionCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setFriendsThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.setIsWrote(!1),this.props.setCurrentPage(1)}},{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Dt,{totalFriendsCount:this.props.totalFriendsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,friendsData:this.props.friendsData,currentDialogId:this.props.currentDialogId,onSetCurrentPage:this.onSetCurrentPage,isWrote:this.props.isWrote,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,followingInProgress:this.props.followingInProgress,isWroteInProgress:this.props.isWroteInProgress})})}}]),n}(a.a.Component),Ht=Object(D.d)(Object(I.b)((function(e){return{friendsData:e.friendsPage.friendsData,pageSize:e.friendsPage.pageSize,totalFriendsCount:e.friendsPage.totalFriendsCount,currentPage:e.friendsPage.currentPage,isFetching:e.friendsPage.isFetching,isWrote:e.friendsPage.isWrote,serverLink:e.authorizationPage.serverLink,currentDialogId:e.dialogsPage.currentDialogId,followingInProgress:e.friendsPage.followingInProgress,isWroteInProgress:e.friendsPage.isWroteInProgress,auth:e.authorizationPage.auth}}),{setIsWrote:Rt,setCurrentPage:Ft,setFriendsThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Lt(!0)),n.next=3,Object(H.h)(e,t);case 3:a=n.sent,r(Lt(!1)),a&&(r(Mt(a.items)),r(Ut(a.totalCount)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unFollowThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Bt(!0,e)),t.next=3,Object(H.s)(e);case 3:r=t.sent,n(Wt(e,r.message)),n(Bt(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Bt(!0,e)),t.next=3,Object(H.f)(e);case 3:r=t.sent,n((a=e,s=r.message,{type:Ct,friendId:a,message:s})),n(Bt(!1,e));case 6:case"end":return t.stop()}var a,s}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPageThunkActionCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ft(e)),r(Lt(!0)),n.next=4,Object(H.h)(e,t);case 4:a=n.sent,r(Lt(!1)),r(Mt(a.items)),r(Ut(a.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},goToDialogThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Gt(!0,e)),t.next=3,Object(H.o)(e);case 3:r=t.sent,n(Rt(!0)),n(Object(De.f)(r.idDialog)),n(Gt(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w.a)(Vt),Xt=n(23),qt=n.n(Xt),Zt=function(e){return Object(p.jsxs)("nav",{className:qt.a.nav,children:[Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:qt.a.link,activeClassName:qt.a.activeLink,to:"/AuthUser/ProfilePage",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("p",{onClick:function(){return e.onGoToDialogsPage("")},children:Object(p.jsx)(E.b,{className:qt.a.link,activeClassName:qt.a.activeLink,to:"/AuthUser/DialogsPage",children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"})})}),Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:qt.a.link,activeClassName:qt.a.activeLink,to:"/AuthUser/FriendsPage",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})})}),Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:qt.a.link,activeClassName:qt.a.activeLink,to:"/AuthUser/NewsPage",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})})}),Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:qt.a.link,activeClassName:qt.a.activeLink,to:"/AuthUser/Settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})}),Object(p.jsx)("div",{className:qt.a.navItem,children:Object(p.jsx)("button",{className:qt.a.logoutButton,onClick:function(){e.onExit()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})},Jt="USER_VERIFICATION",Qt="RESET_VERIFICATION",Yt="SET_USER_TOKEN",Kt="TOGGLE_AUTHORISATION_PROGRESS",$t={auth:!1,authorisationInProgress:!1},en=function(){return{type:Jt}},tn=function(e){return{type:Kt,authorisationInProgress:e}},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jt:return Object(V.a)(Object(V.a)({},e),{},{auth:!0});case Qt:return localStorage.removeItem("userToken"),Object(V.a)(Object(V.a)({},e),{},{auth:!1});case Yt:localStorage.setItem("userToken",t.token);default:return e;case Kt:return Object(V.a)(Object(V.a)({},e),{},{authorisationInProgress:t.authorisationInProgress})}},rn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onGoToDialogsPage=function(t){e.props.setCurrentDialog(t)},e.onExit=function(){e.props.resetVerificationThunkCreator()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(p.jsx)(Zt,{onGoToDialogsPage:this.onGoToDialogsPage,onExit:this.onExit})}}]),n}(a.a.Component),an=Object(I.b)((function(e){return{}}),{setCurrentDialog:De.f,resetVerificationThunkCreator:function(){return function(e){e({type:Qt})}}})(rn),sn=n(37),on=n.n(sn),cn=n(40),un=n.n(cn),ln=function(e){return Object(p.jsxs)("div",{className:un.a.message,children:[Object(p.jsx)("div",{className:un.a.senderAva,children:Object(p.jsx)("img",{src:e.senderAva,alt:"senderava"})}),Object(p.jsxs)("div",{className:un.a.messageContent,children:[Object(p.jsx)("div",{className:un.a.senderName,children:Object(p.jsx)(E.b,{className:un.a.senderLink,to:"/AuthUser/ProfilePage/"+e.senderId,children:e.senderName})}),Object(p.jsx)("div",{className:un.a.text,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:un.a.time,children:e.time})]}),Object(p.jsx)("div",{className:un.a.deleteMessage,children:Object(p.jsx)("button",{disabled:e.deleteMessageInProgress,onClick:function(){return e.onDeleteMessage(e.idMessage)},children:Object(p.jsx)("p",{children:"\xd7"})})})]})},dn=a.a.memo(ln),gn=function(e){var t=e.messagesData.map((function(t){return t.isDeleted?null:Object(p.jsx)(dn,{deleteMessageInProgress:e.deleteMessageInProgress,senderName:t.name,text:t.text,senderAva:t.img,time:t.time,idMessage:t.id,onDeleteMessage:e.onDeleteMassage,senderId:t.senderId},t.id)}));return Object(p.jsxs)("div",{className:on.a.messageBar,children:[e.messagesData.length>0?t:Object(p.jsx)("p",{className:on.a.nullMessagesMessage,children:"\u0412 \u044d\u0442\u043e\u043c \u0434\u0438\u0430\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"}),Object(p.jsx)(jn,{sendMessageInProgress:e.sendMessageInProgress,onSubmit:function(t,n){e.onSendNewMessage(t.messageText),n(Object(le.a)("sendMessage"))}})]})},fn=be("textarea"),pn=me(0,350),jn=Object(ge.a)({form:"sendMessage"})((function(e){return Object(p.jsxs)("form",{className:on.a.sendMessageForm,onSubmit:e.handleSubmit,children:[Object(p.jsx)(de.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"messageText",validate:[pn],component:fn}),Object(p.jsx)("button",{disabled:e.sendMessageInProgress,className:on.a.sendMessageButton,children:"Send message"})]})})),hn=a.a.memo(gn),bn=n(51),On=n.n(bn),mn=function(e){return Object(p.jsxs)("div",{className:On.a.dialog,children:[Object(p.jsx)("div",{className:On.a.dialogAva,children:Object(p.jsx)("img",{src:e.dialogAva,alt:"dialogAva"})}),Object(p.jsx)("button",{disabled:e.setCurrentDialogInProgress,onClick:function(){return e.onSetCurrentDialog(e.idDialog)},className:On.a.dialogLinkButton,children:Object(p.jsx)(E.b,{className:On.a.dialogLink,activeClassName:On.a.activeDialog,to:"/AuthUser/DialogsPage/".concat(e.idDialog),children:e.chatName})}),Object(p.jsx)("div",{className:On.a.deleteDialog,children:Object(p.jsx)("button",{disabled:e.deleteDialogInProgress,onClick:function(){return e.onDeleteDialog(e.idDialog)},children:Object(p.jsx)("p",{children:"\xd7"})})})]})},_n=a.a.memo(mn),Pn=function(e){var t=e.dialogsData.map((function(t){return t.isDeleted?null:Object(p.jsx)(_n,{deleteDialogInProgress:e.deleteDialogInProgress,setCurrentDialogInProgress:e.setCurrentDialogInProgress,onSetCurrentDialog:e.onSetCurrentDialog,dialogAva:t.img,idDialog:t.idDialog,chatName:t.name,onDeleteDialog:e.onDeleteDialog},t.idDialog)}));return Object(p.jsxs)("div",{className:on.a.dialogList,children:[Object(p.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432:"}),e.dialogsData.length>0?Object(p.jsx)("div",{className:on.a.dialogsBar,children:t}):Object(p.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u044b\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432. \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u0443 - \u043d\u0438\u0431\u0443\u0434\u044c, \u0438 \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0434\u0438\u0430\u043b\u043e\u0433"})]})},vn=a.a.memo(Pn),xn=function(e){return Object(p.jsxs)(p.Fragment,{children:[e.currentDialogId?null:Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage"+e.currentDialogId}),Object(p.jsxs)("div",{className:on.a.dialogsPage,children:[e.currentDialogId?Object(p.jsx)(hn,{sendMessageInProgress:e.sendMessageInProgress,deleteMessageInProgress:e.deleteMessageInProgress,messagesData:e.messagesData,newMessageText:e.newMessageText,onSendNewMessage:e.onSendNewMessage,onDeleteMassage:e.onDeleteMassage}):null,Object(p.jsx)(vn,{setCurrentDialogInProgress:e.setCurrentDialogInProgress,dialogsData:e.dialogsData,onDeleteDialog:e.onDeleteDialog,onSetCurrentDialog:e.onSetCurrentDialog,deleteDialogInProgress:e.deleteDialogInProgress})]})]})},In=a.a.memo(xn),Dn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.setDialogsThunkCreator(e.props.dialogsPage.currentDialogId)},e.componentWillUnmount=function(){e.props.setCurrentDialog("")},e.onDeleteDialog=function(t){e.props.deleteDialogThunkCreator(t,e.props.dialogsPage.currentDialogId)},e.onDeleteMassage=function(t){var n=e.props.match.params.dialogId;e.props.deleteMessageThunkCreator(n,t)},e.onSetCurrentDialog=function(t){e.props.setCurrentDialog(t),e.props.cetCurrentDialogThunkCreator(t)},e.onSendNewMessage=function(t){if(t){var n=e.props.match.params.dialogId;e.props.sendMessageThunkCreator(n,t)}},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){return Object(p.jsx)(In,{dialogsData:this.props.dialogsPage.dialogsData,messagesData:this.props.dialogsPage.messagesData,onSendNewMessage:this.onSendNewMessage,currentDialogId:this.props.dialogsPage.currentDialogId,onSetCurrentDialog:this.onSetCurrentDialog,onDeleteDialog:this.onDeleteDialog,onDeleteMassage:this.onDeleteMassage,setCurrentDialogInProgress:this.props.dialogsPage.setCurrentDialogInProgress,deleteDialogInProgress:this.props.dialogsPage.deleteDialogInProgress,deleteMessageInProgress:this.props.dialogsPage.deleteMessageInProgress,sendMessageInProgress:this.props.dialogsPage.sendMessageInProgress})}}]),n}(a.a.Component),wn=Object(D.d)(Object(I.b)((function(e){return{dialogsPage:e.dialogsPage}}),{setCurrentDialog:De.f,setDialogsThunkCreator:De.g,deleteDialogThunkCreator:De.c,deleteMessageThunkCreator:De.d,cetCurrentDialogThunkCreator:De.a,sendMessageThunkCreator:De.e}),w.a,P.f)(Dn),Sn="SET_SESSION_IS_START",Nn={sessionIsStart:!1},kn=function(){return function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.b)();case 2:return e.sent.auth&&t(en()),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sn:return Object(V.a)(Object(V.a)({},e),{},{sessionIsStart:!0});default:return e}},Cn=n.p+"static/media/mainPreloader.eb8b1ae0.svg",An=function(){return Object(p.jsx)("img",{src:Cn,alt:"Preloader",height:"100px",width:"100px"})},yn=a.a.lazy((function(){return n.e(3).then(n.bind(null,303))})),En=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setSessionIsStartThunkCreator()}},{key:"render",value:function(){return this.props.sessionIsStart?Object(p.jsxs)("div",{className:_.a.AppWrapper,children:[Object(p.jsx)(O,{}),Object(p.jsxs)("div",{className:_.a.main,children:[Object(p.jsx)(an,{}),Object(p.jsxs)("div",{className:_.a.content,children:[Object(p.jsx)(P.b,{exact:!0,path:"/AuthUser",render:function(){return Object(p.jsx)(pt,{})}}),Object(p.jsx)(P.b,{path:"/AuthUser/ProfilePage/:profileId?",render:function(){return Object(p.jsx)(pt,{})}}),Object(p.jsx)(P.b,{path:"/AuthUser/DialogsPage/:dialogId?",render:function(){return Object(p.jsx)(wn,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/AuthUser/UsersPage",render:function(){return Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{className:_.a.lazyLoadPreloaderBar,children:Object(p.jsx)(An,{})}),children:Object(p.jsx)(yn,{})})}}),Object(p.jsx)(P.b,{path:"/AuthUser/NewsPage",render:function(){return Object(p.jsx)(te,{})}}),Object(p.jsx)(P.b,{path:"/AuthUser/Settings",render:function(){return Object(p.jsx)(k,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/AuthUser/FriendsPage",render:function(){return Object(p.jsx)(Ht,{})}})]})]}),Object(p.jsx)(j,{})]}):Object(p.jsx)("div",{className:_.a.preloaderBar,children:Object(p.jsx)(An,{})})}}]),n}(a.a.Component),Mn=Object(I.b)((function(e){return{auth:e.authorizationPage.auth,sessionIsStart:e.app.sessionIsStart}}),{checkAuthMeThunkCreator:kn,setSessionIsStartThunkCreator:function(){return function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(kn());case 2:t({type:Sn});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(En),Fn=n(136),Un="TOGGLE_REGISTRATION_PROGRESS",Ln={registrationInProgress:!1},Rn=function(e){return{type:Un,registrationInProgress:e}},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Un:return Object(V.a)(Object(V.a)({},e),{},{registrationInProgress:t.registrationInProgress});default:return e}},Bn=n(145),Gn=n(139),zn=[Object(D.a)(Bn.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()],Vn=Object(D.c)({app:Tn,dialogsPage:De.b,profilePage:Qe,usersPage:Fn.a,newsPage:$,authorizationPage:nn,registrationPage:Wn,friendsPage:zt,form:Gn.a}),Hn=Object(D.e)(Vn,D.d.apply(void 0,zn)),Xn=n(21),qn=n.n(Xn),Zn=function(e){return Object(p.jsxs)("div",{className:qn.a.wrapper,children:[Object(p.jsx)(O,{}),Object(p.jsx)("div",{className:qn.a.main,children:Object(p.jsx)("div",{className:qn.a.form,children:Object(p.jsxs)("div",{className:qn.a.authorisation,children:[Object(p.jsx)("h3",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(p.jsx)(Qn,{authorisationInProgress:e.authorisationInProgress,onSubmit:function(t){e.onUserVerification(t.login,t.password)}}),Object(p.jsx)("div",{className:qn.a.regLink,children:Object(p.jsxs)("p",{children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b ? ",Object(p.jsx)(E.b,{className:qn.a.link,to:"/RegistrationPage",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})]})})}),Object(p.jsx)(j,{})]})},Jn=be("input"),Qn=Object(ge.a)({form:"authorization"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsxs)("div",{className:qn.a.enterLogin,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(p.jsx)(de.a,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",validate:[Oe],component:Jn})]}),Object(p.jsxs)("div",{className:qn.a.enterPassword,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(p.jsx)(de.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",validate:[Oe],component:Jn})]}),Object(p.jsxs)("div",{className:qn.a.entryButton,children:[e.error?Object(p.jsx)("div",{className:qn.a.summaryErrorBar,children:Object(p.jsx)("spans",{className:je.a.summaryError,children:e.error})}):null,Object(p.jsx)("button",{type:"submit",disabled:e.authorisationInProgress,children:"\u0412\u0445\u043e\u0434"})]})]})})),Yn=a.a.memo(Zn),Kn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUserVerification=function(t,n){e.props.userVerificationThunkCreator(t,n)},e}return Object(u.a)(n,[{key:"render",value:function(){return this.props.authorizationPage.auth?Object(p.jsx)(P.a,{to:"/AuthUser/ProfilePage"}):Object(p.jsx)(Yn,{onUserVerification:this.onUserVerification,authorisationInProgress:this.props.authorizationPage.authorisationInProgress})}}]),n}(a.a.Component),$n=Object(I.b)((function(e){return{authorizationPage:e.authorizationPage}}),{userVerificationThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a,s;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(tn(!0)),n.next=3,Object(H.v)(e,t);case 3:(a=n.sent).key_type?(r((o=a.access_token,{type:Yt,token:o})),r(en())):(s=Object(le.b)("authorization",{_error:a.message}),r(s)),r(tn(!1));case 6:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Kn),er=function(e){return Object(p.jsxs)("div",{className:qn.a.wrapper,children:[Object(p.jsx)(O,{}),Object(p.jsx)("div",{className:qn.a.main,children:Object(p.jsx)("div",{className:qn.a.form,children:Object(p.jsxs)("div",{className:qn.a.registration,children:[Object(p.jsx)("h3",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsx)(ar,{onSubmit:function(t){e.onRegistrationUser(t.login,t.password,t.firstName,t.lastName,t.address,t.age,t.email)},registrationInProgress:e.registrationInProgress}),Object(p.jsx)("div",{className:qn.a.authLink,children:Object(p.jsxs)("p",{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 ? ",Object(p.jsx)(E.b,{className:qn.a.link,to:"/",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})]})})}),Object(p.jsx)(j,{})]})},tr=me(3,20),nr=me(5,30),rr=be("input"),ar=Object(ge.a)({form:"registration"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsxs)("div",{className:qn.a.interLogin,children:[Object(p.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(p.jsx)(de.a,{name:"login",validate:[Oe,tr],component:rr,type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(p.jsxs)("div",{className:qn.a.interEmail,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email:"}),Object(p.jsx)(de.a,{name:"email",validate:[Oe],component:rr,type:"text",placeholder:"Email"})]}),Object(p.jsxs)("div",{className:qn.a.interName,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f:"}),Object(p.jsx)(de.a,{name:"firstName",validate:[Oe],component:rr,type:"text",placeholder:"\u0418\u043c\u044f"})]}),Object(p.jsxs)("div",{className:qn.a.interFirstname,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e:"}),Object(p.jsx)(de.a,{name:"lastName",validate:[Oe],component:rr,type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]}),Object(p.jsxs)("div",{className:qn.a.interAddress,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0433\u043e\u0440\u043e\u0434:"}),Object(p.jsx)(de.a,{name:"address",validate:[Oe],component:rr,type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434"})]}),Object(p.jsxs)("div",{className:qn.a.interAge,children:[Object(p.jsx)("p",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442:"}),Object(p.jsx)(de.a,{name:"age",validate:[Oe],component:rr,type:"text",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})]}),Object(p.jsxs)("div",{className:qn.a.interPassword,children:[Object(p.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(p.jsx)(de.a,{name:"password",validate:[Oe,nr],component:rr,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(p.jsx)("div",{className:qn.a.regButton,children:Object(p.jsx)("button",{disabled:e.registrationInProgress,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})),sr=a.a.memo(er),or=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onRegistrationUser=function(t,n,r,a,s,o,c){e.props.registrationUserThunkCreator(t,n,r,a,s,o,c)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(sr,{onRegistrationUser:this.onRegistrationUser,registrationInProgress:this.props.registrationPage.registrationInProgress})}}]),n}(a.a.Component),cr=Object(I.b)((function(e){return{registrationPage:e.registrationPage}}),{registrationUserThunkCreator:function(e,t,n,r,a,s,o){return function(){var c=Object(G.a)(B.a.mark((function c(i){var u;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i(Rn(!0)),c.next=3,Object(H.u)(e,n,r,t,a,s,o);case 3:(u=c.sent).itsFine?alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"):alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d - ".concat(u.error)),i(Rn(!1));case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})(or);c.a.render(Object(p.jsx)(E.a,{basename:"/-SocialNetwork",children:Object(p.jsxs)(I.a,{store:Hn,children:[Object(p.jsx)(P.b,{path:"/AuthUser",render:function(){return Object(p.jsx)(Mn,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)($n,{})}}),Object(p.jsx)(P.b,{path:"/RegistrationPage",render:function(){return Object(p.jsx)(cr,{})}})]})}),document.getElementById("root")),s()},32:function(e,t,n){e.exports={friend:"Friend_friend__hhmQm",friendAva:"Friend_friendAva__wIJRW",friendLink:"Friend_friendLink__3a-17",button:"Friend_button__3Jcdh",toMessageButton:"Friend_toMessageButton__1iuDh",unfollowButton:"Friend_unfollowButton__3LdZ7",followButton:"Friend_followButton__P8n0h",friendInfo:"Friend_friendInfo__2ABPU",followedStatus:"Friend_followedStatus__1AtIP"}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(2),a=n(15),s=n(16),o=n(18),c=n(17),i=n(1),u=n(22),l=n(10),d=n(0),g=function(e){var t=function(t){Object(o.a)(i,t);var n=Object(c.a)(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return this.props.auth?Object(d.jsx)(e,Object(r.a)({},this.props)):Object(d.jsx)(u.a,{to:"/"})}}]),i}(i.Component);return Object(l.b)((function(e){return{auth:e.authorizationPage.auth}}),{})(t)}},37:function(e,t,n){e.exports={dialogsPage:"DialogsPage_dialogsPage__EBCWN",dialogList:"DialogsPage_dialogList__2i7dp",dialogsBar:"DialogsPage_dialogsBar__33xn5",nullMessagesMessage:"DialogsPage_nullMessagesMessage__1ti4d",messageBar:"DialogsPage_messageBar__2_UBk",sendMessageForm:"DialogsPage_sendMessageForm__3Hgur",sendMessageButton:"DialogsPage_sendMessageButton__FxC33"}},39:function(e,t,n){e.exports={friendsPage:"FriendsPage_friendsPage__2__WV",pageNumber:"FriendsPage_pageNumber__ZZooW",selectedPage:"FriendsPage_selectedPage__1Ik_A",searchFriends:"FriendsPage_searchFriends__10eGX",selectingPageMenu:"FriendsPage_selectingPageMenu__2anNU",searchFriendsButtonWrap:"FriendsPage_searchFriendsButtonWrap__1seXZ",usersListArea:"FriendsPage_usersListArea__2865d",searchFriendsButton:"FriendsPage_searchFriendsButton__3IwF3"}},40:function(e,t,n){e.exports={message:"Message_message__U6__R",deleteMessage:"Message_deleteMessage__W3MBy",senderLink:"Message_senderLink__rpyek",text:"Message_text__4g4z6",senderAva:"Message_senderAva__N6CrW",senderName:"Message_senderName__1ilwI",messageContent:"Message_messageContent__1yUuw",time:"Message_time__1yfKo"}},45:function(e,t,n){e.exports={errorText:"FormsElements_errorText__MHg2Q",formBar:"FormsElements_formBar__1exTu",inputForm:"FormsElements_inputForm__TYzSU",textareaForm:"FormsElements_textareaForm__flmM9",summaryError:"FormsElements_summaryError__urlex",error:"FormsElements_error__PrWf4"}},46:function(e,t,n){e.exports={news:"News_news__1ieh9",newsContent:"News_newsContent__3BXBY",resourceLink:"News_resourceLink__3bx45",avaNews:"News_avaNews__2NWVq",resourceName:"News_resourceName__1bP5U",newsText:"News_newsText__1MPVe",dateTime:"News_dateTime__2v-at"}},47:function(e,t,n){e.exports={postBox:"Post_postBox__2rXgx",postText:"Post_postText__jm-Em",avaPost:"Post_avaPost__1_U2f",postContent:"Post_postContent__1t9rt",dateTime:"Post_dateTime__3rtNB",deletePost:"Post_deletePost__15fqT",name:"Post_name__10Cgx"}},51:function(e,t,n){e.exports={dialog:"Dialog_dialog__UCfD3",deleteDialog:"Dialog_deleteDialog__3kNAa",dialogLink:"Dialog_dialogLink__1XMu5",dialogLinkButton:"Dialog_dialogLinkButton__1oCXm",activeDialog:"Dialog_activeDialog__CITXG",dialogAva:"Dialog_dialogAva__2pHzv"}},57:function(e,t,n){e.exports={AppWrapper:"App_AppWrapper__3qAsm",main:"App_main__2Rak8",content:"App_content__3TdWw",preloaderBar:"App_preloaderBar__3yzbO",lazyLoadPreloaderBar:"App_lazyLoadPreloaderBar__3BKQI"}},68:function(e,t,n){e.exports={header:"Header_header__3OQZO",headerWRap:"Header_headerWRap__39axr",logo:"Header_logo__2EqNj",title:"Header_title__3CEcM"}},69:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__1kzV_",user:"UsersPage_user__2JE67",userAva:"UsersPage_userAva__oAJ_2",userLink:"UsersPage_userLink__3sSfT",button:"UsersPage_button__3fPc6",toMessageButton:"UsersPage_toMessageButton__2unoZ",unfollowButton:"UsersPage_unfollowButton__6Nzr0",followButton:"UsersPage_followButton__1eSn7",userInfo:"UsersPage_userInfo__2bSxh",pageNumber:"UsersPage_pageNumber__zEOE5",selectedPage:"UsersPage_selectedPage__PoJB9",selectingPageMenu:"UsersPage_selectingPageMenu__3Pbm8",followedStatus:"UsersPage_followedStatus__2djeD",usersListBar:"UsersPage_usersListBar__3e_9m",searchUsersForm:"UsersPage_searchUsersForm__3SqAW",searchTextArea:"UsersPage_searchTextArea__2jSwh",searchButtonWrap:"UsersPage_searchButtonWrap__RrfM1",searchButton:"UsersPage_searchButton__24hzN",inputSearchText:"UsersPage_inputSearchText__sJE8k"}},7:function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"u",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"s",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"t",(function(){return I})),n.d(t,"m",(function(){return D}));var r=n(20),a="https://188.32.105.146:8123",s=function(e,t){return r.post("".concat(a,"/auth"),{login:e,password:t}).then((function(e){return e.data}))},o=function(){return r.get("".concat(a,"/checkAuthMe?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},c=function(e,t,n,s,o,c,i){return r.post("".concat(a,"/reg"),{login:e,firstName:t,lastName:n,password:s,address:o,age:c,email:i}).then((function(e){return e.data}))},i=function(){return r.get("".concat(a,"/dialogs?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},u=function(e){return r.get("".concat(a,"/messages?token=").concat(localStorage.getItem("userToken"),"&idDialog=").concat(e)).then((function(e){return e.data}))},l=function(e){return r.delete("".concat(a,"/deleteDialog"),{data:{token:localStorage.getItem("userToken"),idDialog:e}}).then((function(e){return e.data}))},d=function(e,t){return r.delete("".concat(a,"/deleteMessage"),{data:{token:localStorage.getItem("userToken"),idDialog:e,idMessage:t}}).then((function(e){return e.data}))},g=function(e){return r.post("".concat(a,"/createDialog"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},f=function(e,t){return r.post("".concat(a,"/sendMessage"),{token:localStorage.getItem("userToken"),idDialog:e,text:t}).then((function(e){return e.data}))},p=function(e,t){return r.get("".concat(a,"/friends?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},j=function(e){return r.delete("".concat(a,"/unFollowFriend"),{data:{token:localStorage.getItem("userToken"),userId:e}}).then((function(e){return e.data}))},h=function(e){return r.post("".concat(a,"/followFriend"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},b=function(e,t){return r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},O=function(e,t,n,s){return s.length>0?r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t,"&isSearch=").concat(n,"&searchText=").concat(s)).then((function(e){return e.data})):b(e,t)},m=function(e,t){return r.get("".concat(a,"/news?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},_=function(e){return r.get("".concat(a,"/profileInfo?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},P=function(e){return r.get("".concat(a,"/posts?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},v=function(e){return r.post("".concat(a,"/addPost"),{token:localStorage.getItem("userToken"),postText:e}).then((function(e){return e.data}))},x=function(e){return r.delete("".concat(a,"/deletePost"),{data:{token:localStorage.getItem("userToken"),idPost:e}}).then((function(e){return e.data}))},I=function(e){return r.put("".concat(a,"/updUserStatus"),{token:localStorage.getItem("userToken"),statusText:e}).then((function(e){return e.data}))},D=function(e){return r.get("".concat(a,"/status?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))}},79:function(e,t,n){"use strict";var r=n(67),a=n(69),s=n.n(a),o=n(1),c=n(0);t.a=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=Math.ceil(t/5),i=Object(o.useState)(1),u=Object(r.a)(i,2),l=u[0],d=u[1],g=5*(l-1)+1,f=5*l,p=1;p<=t;p++)n.push(p);var j=n.filter((function(e){return e>=g&&e<=f})).map((function(t){return Object(c.jsx)("span",{className:t===e.currentPage?"".concat(s.a.selectedPage," ").concat(s.a.pageNumber):s.a.pageNumber,onClick:function(){e.setCurrentPage(t)},children:t},t)}));return Object(c.jsxs)("div",{children:[l>1?Object(c.jsx)("button",{onClick:function(){d(l-1),e.setCurrentPage(g-1)},children:"<<"}):null,j,l<a?Object(c.jsx)("button",{onClick:function(){d(l+1),e.setCurrentPage(f+1)},children:">>"}):null]})}},83:function(e,t,n){e.exports={newsPage:"NewsPage_newsPage__34zRM",newsList:"NewsPage_newsList__2TDW0",selectingPageMenu:"NewsPage_selectingPageMenu__8Gdbm",selectedPage:"NewsPage_selectedPage__3w1EZ",pageNumber:"NewsPage_pageNumber__1ZPep"}},84:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__3NsM-",addPostButton:"MyPosts_addPostButton__1qNDF",addPostForm:"MyPosts_addPostForm__u7fQD",inputPostText:"MyPosts_inputPostText__3DcDZ"}}},[[301,1,2]]]);
//# sourceMappingURL=main.9011c386.chunk.js.map