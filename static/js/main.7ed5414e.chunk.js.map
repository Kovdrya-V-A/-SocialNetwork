{"version":3,"sources":["Assets/standUserAva.png","Redux/Reducers/UsersPageReducer.js","Components/Footer/Footer.module.css","Components/Settings/Settings.module.css","Components/ProfilePage/ProfilePage.module.css","Components/AuthoRegComponents/AuthoReg.module.css","Components/ProfilePage/ProfileInfo/ProfileInfo.module.css","Components/Nav/Nav.module.css","Redux/Reducers/DialogsPageReducer.js","reportWebVitals.js","Components/Footer/Footer.jsx","Components/Header/Header.jsx","Components/Settings/Settings.jsx","Components/NewsPage/News/News.jsx","Components/NewsPage/NewsPage.jsx","Redux/Reducers/NewsPageReducer.js","Components/NewsPage/NewsPageContainer.jsx","Components/ProfilePage/MyPosts/Post/Post.jsx","Components/Common/FormsElements/FormsElements.jsx","Components/Common/Validators/Validators.js","Components/ProfilePage/MyPosts/MyPosts.jsx","Redux/Reducers/ProfilePageReducer.js","Components/ProfilePage/MyPosts/MyPostsContainer.jsx","Components/ProfilePage/ProfileInfo/addImg.jsx","Components/ProfilePage/ProfileInfo/ProfileStatus.jsx","Components/ProfilePage/ProfileInfo/ProfileInfo.jsx","Components/ProfilePage/ProfileInfo/ProfileInfoContainer.jsx","Components/ProfilePage/ProfilePage.jsx","Components/ProfilePage/ProfilePageContainer.jsx","Components/FriendsPage/FriendList/Friend/Friend.jsx","Components/FriendsPage/FriendList/FriendList.jsx","Components/FriendsPage/FriendsPage.jsx","Redux/Reducers/FriendsPageReducer.js","Components/FriendsPage/FriendsPageContainer.jsx","Components/Nav/Nav.jsx","Redux/AuthoRegReducers/AuthorizationPageReducer.js","Components/Nav/NavContainer.jsx","Components/DialogsPage/MessagesBar/Message/Message.jsx","Components/DialogsPage/MessagesBar/MessagesBar.jsx","Components/DialogsPage/DialogList/Dialog/Dialog.jsx","Components/DialogsPage/DialogList/DialogList.jsx","Components/DialogsPage/DialogsPage.jsx","Components/DialogsPage/DialogsPageContainer.jsx","Redux/Reducers/AppReducer.js","Assets/Preloaders/mainPreloader.svg","Assets/Preloaders/mainPreloader.jsx","App.js","Redux/AuthoRegReducers/RegistrationPageReducer.js","Redux/ReduxStore.js","Components/AuthoRegComponents/AuthorizationPage/AuthorizationPage.jsx","Components/AuthoRegComponents/AuthorizationPage/AuthorizationPageContainer.jsx","Components/AuthoRegComponents/RegistrationPage/RegistrationPage.jsx","Components/AuthoRegComponents/RegistrationPage/RegistrarionPageContainer.jsx","index.js","Components/FriendsPage/FriendList/Friend/Friend.module.css","HOC/CheckAuth.jsx","Components/DialogsPage/DialogsPage.module.css","Components/FriendsPage/FriendsPage.module.css","Components/DialogsPage/MessagesBar/Message/Message.module.css","Components/Common/FormsElements/FormsElements.module.css","Components/NewsPage/News/News.module.css","Components/ProfilePage/MyPosts/Post/Post.module.css","Components/DialogsPage/DialogList/Dialog/Dialog.module.css","App.module.css","Components/Header/Header.module.css","Components/UsersPage/UsersPage.module.css","DAL/ApiRequests.js","Components/Pagination.jsx","Components/NewsPage/NewsPage.module.css","Components/ProfilePage/MyPosts/MyPosts.module.css"],"names":["UNFOLLOW","FOLLOW","SET_USERS","SET_USERS_TOTAL_COUNT","SET_CURRENT_USERS_PAGE","SET_IS_WROTE","UP_TOGGLE_IS_WROTE_PROGRESS","UP_TOGGLE_FOLLOWING_PROGRESS","TOGGLE_SEARCH_USERS_PROGRESS","initialUsersPage","usersData","currentPage","pageSize","totalUsersCount","isFetching","isWrote","followingInProgress","setIsWroteInProgress","searchUsersInProgress","unFollow","userId","message","type","follow","error","setUsers","setCurrentPage","number","setUserTotalCount","count","setIsFetching","isFetch","setIsWrote","toggleSetIsWroteProgress","inProgress","toggleFollowingProgress","toggleSearchUsersProgress","setUsersThunkCreator","dispatch","a","getUsersRequest","data","items","totalCount","searchUsersThunkCreator","searchText","searchUsersRequest","unFollowThunkCreator","unFollowRequest","followThunkCreator","followRequest","setCurrentPageThunkCreator","goToDialogThunkCreator","goToDialogRequest","setCurrentDialog","idDialog","usersPageReducer","usersPage","action","map","f","id","followed","filter","module","exports","SEND_MESSAGE","SET_MESSAGES","SET_DIALOGS","SET_CURRENT_DIALOG","DELETE_DIALOG","DELETE_MESSAGE","TOGGLE_SET_CURRENT_DIALOG_PROGRESS","TOGGLE_DELETE_DIALOG_PROGRESS","TOGGLE_DELETE_MESSAGE_PROGRESS","TOGGLE_SEND_MESSAGE_PROGRESS","initialDialogsPage","dialogsData","messagesData","currentDialogId","setCurrentDialogInProgress","deleteDialogInProgress","deleteMessageInProgress","sendMessageInProgress","deleteDialog","setMessages","deleteMessage","idMessage","selectedDialogId","toggleSetCurrentDialogProgress","toggleDeleteDialogProgress","toggleDeleteMessageProgress","toggleSendMessageProgress","setDialogsThunkCreator","getDialogsRequest","getMessagesRequest","deleteDialogThunkCreator","deleteDialogRequest","deleteMessageThunkCreator","dialogId","deleteMessageRequest","cetCurrentDialogThunkCreator","sendMessageThunkCreator","messageText","sendNewMessageRequest","name","img","text","time","dialogsPageReducer","dialogsPage","newMessage","d","isDeleted","m","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Footer","className","s","footer","Header","header","headerWRap","logo","src","title","SettingsContainer","React","Component","Settings","settings","compose","connect","state","CheckAuthRedirect","News","props","news","avaNews","alt","newsContent","resourceName","resourceLink","to","resourceId","newsText","dateTime","memo","NewsPage","newsItems","newsData","n","idPost","newsPage","newsList","selectingPageMenu","Pagination","totalNewsCount","onSetCurrentPage","SET_NEWS","SET_CURRENT_NEWS_PAGE","SET_NEWS_TOTAL_COUNT","initialNewsPage","setNews","setNewsTotalCount","newsPageReducer","NewsPageContainer","prevProps","prevState","this","setNewsThunkCreator","getNewsRequest","Post","postBox","avaPost","avaImg","postContent","postText","profileId","deletePost","disabled","deletePostInProgress","onClick","onDeletePost","CreateFormItem","input","meta","haveError","touched","sForm","formBar","textareaForm","inputForm","errorText","requiredField","value","checkLenghtCreator","minLenght","maxLenght","length","MyPosts","postsItems","postsData","p","myPosts","ReduxAddPostForm","addPostInProgress","onSubmit","formData","onAddNewPost","reset","TextAreaForm","requiredLength","reduxForm","form","addPostForm","handleSubmit","Field","placeholder","validate","component","addPostButton","PPActionsTypes","initialProfilePage","profileData","changeAvaIsActive","changeAvaStatus","status","setStatus","statusText","setPosts","setChangeAvaIsActive","toggleAddPostProgress","toggleDeletePostProgress","profilePageReducer","profilePage","newPost","MyPostsService","addPostThunkCreator","deletePostThunkCreator","setPostsThunkCreator","snapshot","MyPostsContainer","getMyPostsRequest","addNewPostRequest","deletePostRequest","FileUploadService","custom_file_upload_url","serverLink","onSetChangeAvaIsActive","window","location","reload","onSetChangeAvaStatus","setChangeAvaStatus","handleImagePreview","e","image_as_base64","URL","createObjectURL","target","files","image_as_files","setState","image_preview","image_file","handleSubmitFile","FormData","append","localStorage","getItem","axios","headers","response","modal","modalContent","stopPropagation","modalName","addImgInput","onChange","loadedImg","submitInput","FileUploadContainer","registrationPage","authorizationPage","ProfileStatus","useState","editMode","toggleEditMode","useEffect","inputStatusArea","currentTarget","autoFocus","onBlur","onSetNewStatus","inputStatus","statusValue","onDoubleClick","ProfileInfo","profileInfoWrap","profileInfo","ava","userData","age","address","followedStatus","activity","onMessage","activityButton","onUnfollow","onFollow","ProfileInfoService","newStatusText","setNewStatusThunkCreator","setProfileInfoThunkCreator","ProfileInfoContainer","getMyProfileInfoRequest","getStatusRequest","statusData","userStatus","updateUserStatusRequest","ProfilePage","profilePageContainer","match","params","withRouter","Friend","friend","friendAva","standUserAva","friendInfo","friendLink","isWroteInProgress","some","toMessageButton","button","unfollowButton","followButton","FriendList","friendsItems","friendsData","friendList","FriendsPage","friendsPage","searchFriendsButtonWrap","searchFriendsButton","searchFriends","usersListArea","totalFriendsCount","SET_FRIENDS","SET_FRIENDS_TOTAL_COUNT","SET_CURRENT_FRIENDS_PAGE","FP_TOGGLE_FOLLOWING_PROGRESS","FP_TOGGLE_IS_WROTE_PROGRESS","initialFriendsPage","setFriends","setFriendsTotalCount","toggleIsWroteProgress","friendsPageReducer","friendId","FriendsPageContainer","unFollowThunkActionCreator","followThunkActionCreator","setCurrentPageThunkActionCreator","goToDialogThunkActionCreator","setFriendsThunkCreator","auth","getFriendsRequest","Nav","nav","navItem","link","activeClassName","activeLink","onGoToDialogsPage","logoutButton","onExit","USER_VERIFICATION","RESET_VERIFICATION","SET_USER_TOKEN","TOGGLE_AUTHORISATION_PROGRESS","initialAuthorisationPage","authorisationInProgress","userVerification","toggleAuthorisationProgress","authorisationPageReducer","authorisationPage","removeItem","setItem","token","NavService","resetVerificationThunkCreator","NavContainer","Message","senderAva","messageContent","senderName","senderLink","senderId","onDeleteMessage","MessagesBar","messagesItems","onDeleteMassage","messageBar","nullMessagesMessage","ReduxSendingMessageForm","onSendNewMessage","sendMessageForm","sendMessageButton","Dialog","dialog","dialogAva","onSetCurrentDialog","dialogLinkButton","dialogLink","activeDialog","chatName","onDeleteDialog","DialogList","dialogsItems","dialogList","dialogsBar","DialogsPage","newMessageText","DialogsPageContainer","componentDidMount","componentWillUnmount","SET_SESSION_IS_START","initialAppState","sessionIsStart","checkAuthMeThunkCreator","checkAuthMeRequest","appReducer","appState","MainPreloader","mainPreloader","height","width","UsersPageContainer","lazy","App","setSessionIsStartThunkCreator","AppWrapper","main","content","exact","path","render","ProfilePageContainer","fallback","lazyLoadPreloaderBar","preloaderBar","app","TOGGLE_REGISTRATION_PROGRESS","initialRegistrationPage","registrationInProgress","toggleRegistrationProgress","registrationPageReducer","enchansers","applyMiddleware","thunkMiddleware","__REDUX_DEVTOOLS_EXTENSION__","reducers","combineReducers","formReducer","store","createStore","AuthorizationPage","wrapper","authorisation","ReduxAuthorizationForm","onUserVerification","login","password","regLink","InputForm","enterLogin","enterPassword","entryButton","summaryErrorBar","summaryError","AuthorizationPageService","userVerificationThunkCreator","AuthorizationPageContainer","userVerificationRequest","key_type","access_token","stopSubmit","_error","RegistrationPage","registration","ReduxRegistrationPageForm","onRegistrationUser","firstName","lastName","email","authLink","requiredLengthFrom3to20","requiredLengthFrom5to30","interLogin","interEmail","interName","interFirstname","interAddress","interAge","interPassword","regButton","RegistrationGageService","registrationUserThunkCreator","RegistrationPageContainer","userRegistrationRequest","itsFine","alert","ReactDOM","basename","process","document","getElementById","RedirectComponent","page","isSearch","pagesCount","Math","ceil","pageNumbers","portionCount","portionNumber","setPortionNumber","leftPortionBorder","rightPortionBorder","i","push","pageNumbersList","selectedPage","pageNumber"],"mappings":"wGAAe,QAA0B,0C,wUCSnCA,EAAW,WACXC,EAAS,SACTC,EAAY,YACZC,EAAwB,wBACxBC,EAAyB,yBAEzBC,EAAe,eACfC,EAA8B,8BAC9BC,EAA+B,+BAC/BC,EAA+B,+BAEjCC,EAAmB,CAEnBC,UAAW,GACXC,YAAa,EACbC,SAAU,EACVC,gBAAiB,EACjBC,YAAY,EACZC,SAAS,EACTC,oBAAqB,GACrBC,qBAAsB,GACtBC,uBAAuB,GAwEdC,EAAW,SAACC,EAAQC,GAC7B,MAAO,CACHC,KAAMtB,EACNoB,SACAC,YAKKE,EAAS,SAACH,EAAQC,EAASG,GACpC,MAAO,CACHF,KAAMrB,EACNmB,SACAC,UACAG,UAIKC,EAAW,SAACf,GACrB,MAAO,CACHY,KAAMpB,EACNQ,cAIKgB,EAAiB,SAACC,GAC3B,MAAO,CACHL,KAAMlB,EACNuB,WAGKC,EAAoB,SAACC,GAC9B,MAAO,CACHP,KAAMnB,EACN0B,UAIKC,EAAgB,SAACC,GAC1B,MAAO,CACHT,KAhIgB,kBAiIhBS,YAGKC,EAAa,SAACjB,GACvB,MAAO,CACHO,KAAMjB,EACNU,YAIKkB,EAA2B,SAACC,EAAYd,GACjD,MAAO,CACHE,KAAMhB,EACN4B,aACAd,WAIKe,EAA0B,SAACD,EAAYd,GAChD,MAAO,CACHE,KAAMf,EACN2B,aACAd,WAGKgB,EAA4B,SAAClB,GACtC,MAAO,CACHI,KAAMd,EACNU,sBAAuBA,IAIlBmB,EAAuB,SAAC1B,EAAaC,GAC9C,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,6DACHD,EAASR,GAAc,IADpB,SAEgBU,YAAgB7B,EAAaC,GAF7C,OAEG6B,EAFH,OAGHH,EAASR,GAAc,IACvBQ,EAASb,EAASgB,EAAKC,QACvBJ,EAASV,EAAkBa,EAAKE,aAL7B,2CAAP,uDASSC,EAA0B,SAACjC,EAAaC,EAAUiC,GAC3D,8CAAO,WAAOP,GAAP,eAAAC,EAAA,6DACHH,GAA0B,GADvB,SAEgBU,YAAmBnC,EAAaC,GAAU,EAAMiC,GAFhE,OAEGJ,EAFH,OAGHH,EAASb,EAASgB,EAAKC,QACvBJ,EAASV,EAAkBa,EAAKE,aAChCL,EAASF,GAA0B,IALhC,2CAAP,uDASSW,EAAuB,SAAC3B,GACjC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,GAAwB,EAAMf,IADpC,SAEgB4B,YAAgB5B,GAFhC,OAEGqB,EAFH,OAGHH,EAASnB,EAASC,EAAQqB,EAAKpB,UAC/BiB,EAASH,GAAwB,EAAOf,IAJrC,2CAAP,uDAQS6B,EAAqB,SAAC7B,GAC/B,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,GAAwB,EAAMf,IADpC,SAEgB8B,YAAc9B,GAF9B,OAEGqB,EAFH,OAGHH,EAASf,EAAOH,EAAQqB,EAAKpB,QAASoB,EAAKjB,QAC3Cc,EAASH,GAAwB,EAAOf,IAJrC,2CAAP,uDAQS+B,EAA6B,SAACxB,EAAQf,GAC/C,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,6DACHD,EAASZ,EAAeC,IACxBW,EAASR,GAAc,IAFpB,SAGgBU,YAAgBb,EAAQf,GAHxC,OAGG6B,EAHH,OAIHH,EAASR,GAAc,IACvBQ,EAASb,EAASgB,EAAKC,QACvBJ,EAASV,EAAkBa,EAAKE,aAN7B,2CAAP,uDAUSS,EAAyB,SAAChC,GACnC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASL,GAAyB,EAAMb,IADrC,SAEgBiC,YAAkBjC,GAFlC,OAEGqB,EAFH,OAGHH,EAASN,GAAW,IACpBM,EAASgB,YAAiBb,EAAKc,WAC/BjB,EAASL,GAAyB,EAAOb,IALtC,2CAAP,uDAUWoC,IA1MU,WAA2C,IAA1CC,EAAyC,uDAA7BhD,EAAkBiD,EAAW,uCAE/D,OAAQA,EAAOpC,MAEX,KAAKtB,EACD,OAAO,2BACAyD,GADP,IAEI/C,UAAW+C,EAAU/C,UAAUiD,KAAI,SAAAC,GAC/B,OAAIA,EAAEC,KAAOH,EAAOtC,OACT,2BAAIwC,GAAX,IAAcE,UAAU,IAErBF,OAInB,KAAK3D,EACD,OAAO,2BACAwD,GADP,IAEI/C,UAAW+C,EAAU/C,UAAUiD,KAAI,SAAAC,GAC/B,OAAIA,EAAEC,KAAOH,EAAOtC,OACT,2BAAIwC,GAAX,IAAcE,UAAWJ,EAAOlC,QAE7BoC,OAInB,KAAK1D,EACD,OAAO,2BACAuD,GADP,IACkB/C,UAAU,YAAKgD,EAAOhD,aAG5C,KAAKN,EACD,OAAO,2BACAqD,GADP,IACkB9C,YAAa+C,EAAO/B,SAG1C,KAAKxB,EACD,OAAO,2BACAsD,GADP,IACkB5C,gBAAiB6C,EAAO7B,QAG9C,KAAKxB,EACD,OAAO,2BAAIoD,GAAX,IAAsB1C,QAAS2C,EAAO3C,UAE1C,KAAKT,EACD,OAAO,2BACAmD,GADP,IAEIxC,qBAAsByC,EAAOxB,WAAP,sBAAwBuB,EAAUxC,sBAAlC,CAAwDyC,EAAOtC,SACjFqC,EAAUxC,qBAAqB8C,QAAO,SAAAF,GAAE,OAAIA,GAAMH,EAAOtC,YAGrE,KAAKb,EACD,OAAO,2BACAkD,GADP,IAEIzC,oBAAqB0C,EAAOxB,WAAP,sBAAwBuB,EAAUzC,qBAAlC,CAAuD0C,EAAOtC,SAC/EqC,EAAUzC,oBAAoB+C,QAAO,SAAAF,GAAE,OAAIA,IAAOH,EAAOtC,YAErE,KAAKZ,EACD,OAAO,2BACAiD,GADP,IAEIvC,sBAAuBwC,EAAOxC,wBAGtC,QACI,OAAOuC,K,oBChGnBO,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,SAAW,6B,oBCA7BD,EAAOC,QAAU,CAAC,YAAc,mC,yCCAhCD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,QAAU,0BAA0B,cAAgB,gCAAgC,YAAc,8BAA8B,YAAc,8BAA8B,aAAe,+BAA+B,UAAY,4BAA4B,SAAW,2BAA2B,KAAO,uBAAuB,OAAS,yBAAyB,UAAY,4BAA4B,gBAAkB,oC,mBCAhfD,EAAOC,QAAU,CAAC,gBAAkB,qCAAqC,YAAc,iCAAiC,cAAgB,mCAAmC,YAAc,iCAAiC,YAAc,iCAAiC,gBAAkB,qCAAqC,IAAM,yBAAyB,SAAW,8BAA8B,KAAO,0BAA0B,MAAQ,2BAA2B,UAAY,+BAA+B,WAAa,gCAAgC,aAAe,kCAAkC,YAAc,iCAAiC,YAAc,iCAAiC,gBAAkB,qCAAqC,UAAY,+BAA+B,SAAW,8BAA8B,eAAiB,sC,mBCA/0BD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,QAAU,qBAAqB,KAAO,kBAAkB,WAAa,wBAAwB,WAAa,wBAAwB,aAAe,4B,6RCOpLC,EAAe,eACfC,EAAe,eACfC,EAAc,cACdC,EAAqB,qBACrBC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAqC,qCACrCC,EAAgC,gCAChCC,EAAiC,iCACjCC,EAA+B,+BAEjCC,EAAqB,CACrBC,YAAa,GACbC,aAAc,GACdC,gBAAiB,GACjBC,4BAA4B,EAC5BC,wBAAwB,EACxBC,yBAAyB,EACzBC,uBAAuB,GA4GdC,EAAe,SAAC7B,EAAUlC,GACnC,MAAO,CACHC,KAAMgD,EACNf,SAAUA,EACVlC,QAASA,IAKJgE,EAAc,SAACP,GACxB,MAAO,CACHxD,KAAM6C,EACNW,iBAIKQ,EAAgB,SAACC,EAAWlE,GACrC,MAAO,CACHC,KAAMiD,EACNgB,YACAlE,YAWKiC,EAAmB,SAACkC,GAC7B,MAAO,CACHlE,KAAM+C,EACNmB,qBAIKC,EAAiC,SAACT,GAC3C,MAAO,CACH1D,KAAMkD,EACNQ,+BAIKU,EAA6B,SAACT,GACvC,MAAO,CACH3D,KAAMmD,EACNQ,2BAGKU,EAA8B,SAACT,GACxC,MAAO,CACH5D,KAAMoD,EACNQ,4BAIKU,EAA4B,SAACT,GACtC,MAAO,CACH7D,KAAMqD,EACNQ,0BAIKU,EAAyB,SAACd,GACnC,8CAAO,WAAOzC,GAAP,iBAAAC,EAAA,sEACgBuD,cADhB,WACGrD,EADH,SAGCH,GA7CeuC,EA6CKpC,EAAKC,MA5C1B,CACHpB,KAAM8C,EACNS,kBA4CIE,EALD,gCAMoBgB,YAAmBhB,GANvC,QAMOtC,EANP,QAQKH,EAAS+C,EAAY5C,EAAKC,QACV,OAATD,GACPH,EAAS+C,EAAY,KAV1B,iCA1Ce,IAACR,IA0ChB,OAAP,uDAkBSmB,EAA2B,SAACzC,EAAUwB,GAC/C,8CAAO,WAAOzC,GAAP,eAAAC,EAAA,6DACHD,EAASoD,GAA2B,IADjC,SAEgBO,YAAoB1C,GAFpC,OAEGd,EAFH,OAGHH,EAAS8C,EAAa7B,EAAUd,EAAKpB,UACjC0D,IAAoBxB,GACpBjB,EAASgB,EAAiB,KAE9BhB,EAASoD,GAA2B,IAPjC,2CAAP,uDAWSQ,EAA4B,SAACC,EAAUZ,GAChD,8CAAO,WAAOjD,GAAP,eAAAC,EAAA,6DACHD,EAASqD,GAA4B,IADlC,SAEgBS,YAAqBD,EAAUZ,GAF/C,OAEG9C,EAFH,OAGHH,EAASgD,EAAcC,EAAW9C,EAAKpB,UACvCiB,EAASqD,GAA4B,IAJlC,2CAAP,uDAQSU,EAA+B,SAAC9C,GACzC,8CAAO,WAAOjB,GAAP,eAAAC,EAAA,6DACHD,EAASmD,GAA+B,IADrC,SAEgBM,YAAmBxC,GAFnC,QAEGd,EAFH,QAICH,EAAS+C,EAAY5C,EAAKC,QACV,OAATD,GACPH,EAAS+C,EAAY,KAEzB/C,EAASmD,GAA+B,IARrC,2CAAP,uDAYSa,EAA0B,SAACH,EAAUI,GAC9C,8CAAO,WAAOjE,GAAP,eAAAC,EAAA,6DACHD,EAASsD,GAA0B,IADhC,SAEgBY,YAAsBL,EAAUI,GAFhD,OAEG9D,EAFH,OAGKH,GApIYmE,EAoIShE,EAAK,GAAGgE,KApIXC,EAoIiBjE,EAAK,GAAGiE,IApIpB7C,EAoIyBpB,EAAK,GAAGoB,GApI7B8C,EAoIiClE,EAAK,GAAGkE,KApInCC,EAoIyCnE,EAAK,GAAGmE,KAnIvF,CACHtF,KAAM4C,EACNuC,KAAMA,EACNC,IAAKA,EACL7C,GAAIA,EACJ8C,KAAMA,EACNC,KAAMA,KA8HEtE,EAASsD,GAA0B,IAJxC,iCAjIgB,IAACa,EAAMC,EAAK7C,EAAI8C,EAAMC,IAiItC,OAAP,uDASWC,IAzOY,WAA+C,IAA9CC,EAA6C,uDAA/BlC,EAAoBlB,EAAW,uCAErE,OAAQA,EAAOpC,MAGX,KAAK4C,EACD,IAAI6C,EAAa,CACblD,GAAIH,EAAOG,GACX4C,KAAM/C,EAAO+C,KACbE,KAAMjD,EAAOiD,KACbD,IAAKhD,EAAOgD,IACZE,KAAMlD,EAAOkD,MAEjB,OAAO,2BACAE,GADP,IAEIhC,aAAa,GAAD,mBAAMgC,EAAYhC,cAAlB,CAAgCiC,MAKpD,KAAK5C,EACD,OAAO,2BACA2C,GADP,IAEIhC,aAAa,YAAKpB,EAAOoB,gBAIjC,KAAKR,EACD,OAAO,2BACAwC,GADP,IAEIjC,YAAaiC,EAAYjC,YAAYlB,KAAI,SAAAqD,GACrC,OAAIA,EAAEzD,WAAaG,EAAOH,SACf,2BAAIyD,GAAX,IAAcC,WAAW,IAEtBD,OAKnB,KAAKzC,EACD,OAAO,2BACAuC,GADP,IAEIhC,aAAcgC,EAAYhC,aAAanB,KAAI,SAAAuD,GACvC,OAAIA,EAAErD,KAAOH,EAAO6B,UACT,2BAAI2B,GAAX,IAAcD,WAAW,IAEtBC,OAKnB,KAAK9C,EACD,OAAO,2BACA0C,GADP,IAEIjC,YAAY,YAAKnB,EAAOmB,eAIhC,KAAKR,EACD,OAAO,2BACAyC,GADP,IAEI/B,gBAAiBrB,EAAO8B,mBAIhC,KAAKhB,EACD,OAAO,2BACAsC,GADP,IAEI9B,2BAA4BtB,EAAOsB,6BAE3C,KAAKP,EACD,OAAO,2BACAqC,GADP,IAEI7B,uBAAwBvB,EAAOuB,yBAGvC,KAAKP,EACD,OAAO,2BACAoC,GADP,IAEI5B,wBAAyBxB,EAAOwB,0BAGxC,KAAKP,EACD,OAAO,2BACAmC,GADP,IAEI3B,sBAAuBzB,EAAOyB,wBAItC,QACI,OAAO2B,K,4DC3GJK,G,OAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,0ECGCQ,EAPA,WACX,OACI,wBAAQC,UAAWC,IAAEC,OAArB,qB,iBCUOC,EAZA,WACX,OACI,wBAAQH,UAAWC,IAAEG,OAArB,SACI,sBAAKJ,UAAWC,IAAEI,WAAlB,UACI,qBAAKL,UAAWC,IAAEK,KAAlB,SAAwB,qBACpBC,IAAI,mFACR,qBAAKP,UAAWC,IAAEO,MAAlB,SAAyB,mD,mECGnCC,E,4JACF,WACI,OAAO,cAAC,EAAD,Q,GAFkBC,IAAMC,WAOjCC,EAAW,WACb,OACI,qBAAKZ,UAAWC,IAAEY,SAAlB,SACI,4MAKGC,cACXC,aArBkB,SAACC,GACnB,MAAO,KAoBkB,IACzBC,IAFWH,CAGbL,G,0CC1BIS,EAAO,SAACC,GACV,OACI,sBAAKnB,UAAWC,IAAEmB,KAAlB,UAEI,qBAAKpB,UAAWC,IAAEoB,QAAlB,SACI,qBAAKd,IAAKY,EAAMtC,IAAKyC,IAAI,cAE7B,sBAAKtB,UAAWC,IAAEsB,YAAlB,UACI,qBAAKvB,UAAWC,IAAEuB,aAAlB,SACI,cAAC,IAAD,CAASxB,UAAWC,IAAEwB,aACbC,GAAI,yBAA2BP,EAAMQ,WAD9C,SAC0D,6BAAKR,EAAMvC,WAEzE,qBAAKoB,UAAWC,IAAE2B,SAAlB,SACI,4BAAIT,EAAMrC,SAEd,qBAAKkB,UAAWC,IAAE4B,SAAlB,SACI,4BAAIV,EAAMU,oBAOfnB,MAAMoB,KAAKZ,G,QCtBpBa,EAAW,SAACZ,GAEd,IAAIa,EAAYb,EAAMc,SAASnG,KAAI,SAAAoG,GAC/B,OAAO,cAAC,EAAD,CACMlG,GAAIkG,EAAEC,OACNR,WAAYO,EAAEP,WAAY9C,IAAKqD,EAAErD,IACjCD,KAAMsD,EAAEtD,KAAME,KAAMoD,EAAEpD,KACtB+C,SAAUK,EAAEL,UAJPK,EAAEC,WAOxB,OACI,qBAAKnC,UAAWC,IAAEmC,SAAlB,SACI,sBAAKpC,UAAWC,IAAEoC,SAAlB,UACKL,EACD,qBAAKhC,UAAWC,IAAEqC,kBAAlB,SAAqC,cAACC,EAAA,EAAD,CAAYzH,WAAYqG,EAAMqB,eAClBzJ,SAAUoI,EAAMpI,SAChBD,YAAaqI,EAAMrI,YACnBe,eAAgBsH,EAAMsB,2BAMxE/B,MAAMoB,KAAKC,G,6CC1BpBW,EAAW,WACXC,EAAwB,wBACxBC,EAAuB,uBACzBC,EAAkB,CAClBZ,SAAU,GACVnJ,YAAa,EACbC,SAAU,GACVyJ,eAAgB,GA2BPM,EAAU,SAACb,GACpB,MAAO,CACHxI,KAAMiJ,EACNT,aAIKpI,EAAiB,SAACC,GAC3B,MAAO,CACHL,KAAMkJ,EACN7I,WAIKiJ,EAAoB,SAAC/I,GAC9B,MAAO,CACHP,KAAMmJ,EACN5I,UAuBOgJ,EAhES,WAAyC,IAAxCZ,EAAuC,uDAA5BS,EAAiBhH,EAAW,uCAC5D,OAAQA,EAAOpC,MAEX,KAAKiJ,EACD,OAAO,2BACAN,GADP,IACiBH,SAAS,YAAKpG,EAAOoG,YAG1C,KAAKU,EACD,OAAO,2BACAP,GADP,IACiBtJ,YAAa+C,EAAO/B,SAGzC,KAAK8I,EACD,OAAO,2BACAR,GADP,IACiBI,eAAgB3G,EAAO7B,QAG5C,QACI,OAAOoI,ICbba,G,4MAWFR,iBAAmB,SAAC3I,GAChB,EAAKqH,MAAM7F,2BAA2BxB,EAAQ,EAAKqH,MAAMiB,SAASrJ,W,wDAVtE,SAAmBmK,EAAWC,M,+BAI9B,WACIC,KAAKjC,MAAMkC,oBAAoBD,KAAKjC,MAAMiB,SAAStJ,YAAasK,KAAKjC,MAAMiB,SAASrJ,Y,oBAQxF,WACI,OACI,cAAC,EAAD,CAAU0J,iBAAkBW,KAAKX,iBACvB3J,YAAasK,KAAKjC,MAAMiB,SAAStJ,YACjC0J,eAAgBY,KAAKjC,MAAMiB,SAASI,eACpCzJ,SAAUqK,KAAKjC,MAAMiB,SAASrJ,SAC9BkJ,SAAUmB,KAAKjC,MAAMiB,SAASH,e,GArBpBvB,IAAMC,WA0BvBG,eACXC,aAlCkB,SAACC,GACnB,MAAO,CACHoB,SAAUpB,EAAMoB,YAgCK,CACrBiB,oBDW2B,SAACvK,EAAaC,GAC7C,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,sEACgB4I,YAAexK,EAAaC,GAD5C,QACG6B,EADH,UAGCH,EAASqI,EAAQlI,EAAKC,QACtBJ,EAASsI,EAAkBnI,EAAKE,cAJjC,2CAAP,uDCXIQ,2BDoBkC,SAACxB,EAAQf,GAC/C,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,6DACHD,EAASZ,EAAeC,IADrB,SAEgBwJ,YAAexJ,EAAQf,GAFvC,OAEG6B,EAFH,OAGHH,EAASqI,EAAQlI,EAAKC,QACtBJ,EAASsI,EAAkBnI,EAAKE,aAJ7B,2CAAP,yDCnBAmG,IALWH,CAMbmC,I,6DC/CIM,GAAO,SAACpC,GACV,OACI,sBAAKnB,UAAWC,KAAEuD,QAAlB,UACI,qBAAKxD,UAAWC,KAAEwD,QAAlB,SACI,qBAAKlD,IAAKY,EAAMuC,OAAQpC,IAAI,cAEhC,sBAAKtB,UAAWC,KAAE0D,YAAlB,UACI,qBAAK3D,UAAWC,KAAErB,KAAlB,SAAwB,4BAAIuC,EAAMvC,SAClC,qBAAKoB,UAAWC,KAAE2D,SAAlB,SACI,4BAAIzC,EAAMrC,SAEd,qBAAKkB,UAAWC,KAAE4B,SAAlB,SAA4B,4BAAIV,EAAMU,gBAGxCV,EAAM0C,UAGC,KAHW,qBAAK7D,UAAWC,KAAE6D,WAAlB,SAChB,wBAAQC,SAAU5C,EAAM6C,qBAAsBC,QAAS,kBAAM9C,EAAM+C,aAAa/C,EAAMgB,SAAtF,SAA+F,6CAOhGzB,OAAMoB,KAAKyB,I,+ECrBbY,GAAiB,SAACxD,GAAD,OAAe,YAA8B,IAA5ByD,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASlD,EAAW,mBAChEmD,EAAYD,EAAKE,SAAWF,EAAK1K,MAEvC,OACI,sBAAKqG,UAAWwE,KAAMC,QAAtB,UACI,cAAC9D,EAAD,uCAAeyD,GAAWjD,GAA1B,IAAiCnB,UAAyB,aAAdW,EAA2B6D,KAAME,aAAeF,KAAMG,UAAY,KAAOL,EAAYE,KAAM7K,MAAQ,SAC9I2K,EACG,sBAAMtE,UAAWwE,KAAMI,UAAvB,SAAmCP,EAAK1K,QACtC,UCXLkL,GAAgB,SAACC,GAC1B,IAAIA,EAGJ,MAAO,wHAGEC,GAAqB,SAACC,EAAWC,GAAZ,OAA0B,SAACH,GACzD,OAAIA,GAASA,EAAMI,OAASD,EAClB,mHAAN,OAAgCA,GAEhCH,GAASA,EAAMI,OAASF,EAClB,6GAAN,OAA+BA,QADnC,ICLEG,GAAU,SAAChE,GAEb,IAAIiE,EACAjE,EAAMkE,UAAUvJ,KAAI,SAAAwJ,GAAC,OAAIA,EAAElG,UAAY,KAAO,cAAC,GAAD,CACMsE,OAAQvC,EAAMuC,OACd9E,KAAMuC,EAAMvC,KACZE,KAAMwG,EAAExG,KACR+C,SAAUyD,EAAEzD,SACZM,OAAQmD,EAAEnD,OACV+B,aAAc/C,EAAM+C,aACpBF,qBAAsB7C,EAAM6C,qBAC5BH,UAAa1C,EAAM0C,WARdyB,EAAEnD,WAiB/D,OACI,sBAAKnC,UAAWC,KAAEsF,QAAlB,UACMpE,EAAM0C,UAA+F,KAApF,cAAC2B,GAAD,CAAkBC,kBAAmBtE,EAAMsE,kBAAmBC,SARxE,SAACC,EAAUlL,GACxB0G,EAAMyE,aAAaD,EAAS/B,UAC5BnJ,EAASoL,aAAM,eAOX,6BAAM1E,EAAM0C,UAA0B,2GAAd,6DACvB1C,EAAMkE,UAAUH,OAAS,EAAIE,EAAa,yIAMjDU,GAAe3B,GAAe,YAC9B4B,GAAiBhB,GAAmB,EAAG,KAavCS,GAAmBQ,aAAU,CAC/BC,KAAM,WADeD,EAXL,SAAC7E,GACjB,OAAO,uBAAMnB,UAAWC,KAAEiG,YAAaR,SAAUvE,EAAMgF,aAAhD,UACH,cAACC,GAAA,EAAD,CAAOC,YAAY,qFACZzH,KAAK,WAAW0H,SAAU,CAACP,IAAiBQ,UAAWT,KAC9D,wBACI/B,SAAU5C,EAAMsE,kBAChBzF,UAAWC,KAAEuG,cAFjB,4FAWO9F,OAAMoB,KAAKqD,I,SC9CpBsB,GACQ,WADRA,GAES,YAFTA,GAGgB,mBAHhBA,GAIW,cAJXA,GAKwB,2BALxBA,GAMqB,wBANrBA,GAOwB,2BAPxBA,GAQ2B,8BAR3BA,GASU,aATVA,GAUwB,8BAVxBA,GAWyB,+BAXzBA,GAYY,eAZZA,GAaQ,WAbRA,GAcM,SAGRC,GAAqB,CACrBrB,UAAW,GACXsB,YAAa,CAAC,IACdC,mBAAmB,EACnBC,gBAAiB,KACjBpB,mBAAmB,EACnBzB,sBAAsB,EACtB8C,OAAQ,GACR5N,SAAS,EACTE,sBAAsB,EACtBD,qBAAqB,GAwHZgB,GAAa,SAACjB,GACvB,MAAO,CACHO,KAAMgN,GACNvN,YAiBK6N,GAAY,SAACC,GACtB,MAAO,CACHvN,KAAMgN,GACNO,eAaKlD,GAAa,SAAC3B,EAAQ3I,GAC/B,MAAO,CACHC,KAAMgN,GACNtE,OAAQA,EACR3I,QAASA,IAIJyN,GAAW,SAAC5B,GACrB,MAAO,CACH5L,KAAMgN,GACNpB,cAUK6B,GAAuB,SAACN,GACjC,MAAO,CACHnN,KAAMgN,GACNG,sBASKO,GAAwB,SAAC1B,GAClC,MAAO,CACHhM,KAAMgN,GACNhB,sBAGK2B,GAA2B,SAACpD,GACrC,MAAO,CACHvK,KAAMgN,GACNzC,yBAIK5J,GAA2B,SAAChB,GACrC,MAAO,CACHK,KAAMgN,GACNrN,yBAKKkB,GAA0B,SAACnB,GACpC,MAAO,CACHM,KAAMgN,GACNtN,oBAAqBA,IAoFdkO,GArSY,WAA+C,IAA9CC,EAA6C,uDAA/BZ,GAAoB7K,EAAW,uCAErE,OAAQA,EAAOpC,MAEX,KAAKgN,GACD,OAAO,2BACAa,GADP,IAEIX,YAAaW,EAAYX,YAAY7K,KAAI,SAAAC,GACrC,OAAO,2BAAIA,GAAX,IAAcE,UAAU,SAKpC,KAAKwK,GACD,OAAO,2BACAa,GADP,IAEIX,YAAaW,EAAYX,YAAY7K,KAAI,SAAAC,GACrC,OAAO,2BAAIA,GAAX,IAAcE,UAAU,SAIpC,KAAKwK,GACD,OAAO,2BAAIa,GAAX,IAAwBpO,QAAS2C,EAAO3C,UAG5C,KAAKuN,GACD,IAAIc,EAAU,CACVpF,OAAQtG,EAAOsG,OACfrD,KAAMjD,EAAOiD,KACb+C,SAAUhG,EAAOgG,UAErB,OAAO,2BACAyF,GADP,IAEIjC,UAAU,CAAEkC,GAAH,mBAAeD,EAAYjC,cAK5C,KAAKoB,GACD,OAAO,2BACAa,GADP,IAEIV,kBAAmB/K,EAAO+K,oBAIlC,KAAKH,GACD,OAAO,2BACAa,GADP,IAEIT,gBAAiBhL,EAAOiL,SAIhC,KAAKL,GACD,OAAO,2BACAa,GADP,IAEIjC,UAAWiC,EAAYjC,UAAUvJ,KAAI,SAAAwJ,GACjC,OAAIA,EAAEnD,SAAWtG,EAAOsG,OACb,2BAAImD,GAAX,IAAclG,WAAW,IAEtBkG,OAMnB,KAAKmB,GACD,OAAO,2BACAa,GADP,IAEIX,YAAa,CAAC9K,EAAO8K,eAI7B,KAAKF,GACD,GAAI5K,EAAOwJ,UACP,OAAO,2BACAiC,GADP,IAEIjC,UAAU,YAAKxJ,EAAOwJ,aAGlC,KAAKoB,GACD,OAAO,2BACAa,GADP,IAEI7B,kBAAmB5J,EAAO4J,oBAGlC,KAAKgB,GACD,OAAO,2BACAa,GADP,IAEItD,qBAAsBnI,EAAOmI,uBAGrC,KAAKyC,GACD,OAAO,2BACAa,GADP,IAEIR,OAAQjL,EAAOmL,aAGvB,KAAKP,GACD,OAAO,2BACAa,GADP,IAEIlO,qBAAsByC,EAAOzC,uBAGrC,KAAKqN,GACD,OAAO,2BACAa,GADP,IAEInO,oBAAqB0C,EAAO1C,sBAGpC,QACI,OAAOmO,ICpIbE,G,4MAcF5B,aAAe,SAAChC,GACRA,GACA,EAAKzC,MAAMsG,oBAAoB7D,I,EAIvCM,aAAe,SAAC/B,GACZ,EAAKhB,MAAMuG,uBAAuBvF,I,uDAnBtC,WACIiB,KAAKjC,MAAMwG,qBAAqBvE,KAAKjC,MAAM0C,a,gCAI/C,SAAmBX,EAAWC,EAAWyE,GACjC1E,EAAUW,YAAcT,KAAKjC,MAAM0C,WACnCT,KAAKjC,MAAMwG,qBAAqBvE,KAAKjC,MAAM0C,a,oBAgBnD,WACI,OACI,cAAC,GAAD,CAASwB,UAAWjC,KAAKjC,MAAMmG,YAAYjC,UAClCO,aAAcxC,KAAKwC,aACnB1B,aAAcd,KAAKc,aACnBR,OAAQN,KAAKjC,MAAMmG,YAAYX,YAAY,GAAG9H,IAC9CD,KAAMwE,KAAKjC,MAAMmG,YAAYX,YAAY,GAAG/H,KAC5C6G,kBAAmBrC,KAAKjC,MAAMmG,YAAY7B,kBAC1CzB,qBAAsBZ,KAAKjC,MAAMmG,YAAYtD,qBAC7CH,UAAWT,KAAKjC,MAAM0C,gB,GAlCdnD,IAAMC,WA8CpBkH,GANU9G,aA/CH,SAACC,GACnB,MAAO,CACHsG,YAAatG,EAAMsG,eA6CuB,CAC9CK,qBDmMgC,SAAC9D,GACjC,8CAAO,WAAOpJ,GAAP,eAAAC,EAAA,sEACgBoN,YAAkBjE,GADlC,OACGjJ,EADH,OAGCH,EAASwM,GADTrM,EACkBA,EAAKC,MAEL,KALnB,2CAAP,uDCnMA4M,oBD6M+B,SAAC7D,GAChC,8CAAO,WAAOnJ,GAAP,eAAAC,EAAA,6DACHD,EAAS0M,IAAsB,IAD5B,SAEgBY,YAAkBnE,GAFlC,OAEGhJ,EAFH,OAGHH,GAtFgB0H,EAsFCvH,EAAK,GAAGuH,OAtFDrD,EAsFSlE,EAAK,GAAGkE,KAtFX+C,EAsFiBjH,EAAK,GAAGiH,SArFpD,CACHpI,KAAMgN,GACNtE,OAAQA,EACRrD,KAAMA,EACN+C,SAAUA,KAkFVpH,EAAS0M,IAAsB,IAJ5B,iCAnFY,IAAChF,EAAQrD,EAAM+C,IAmF3B,OAAP,uDC7MA6F,uBDqNkC,SAACvF,GACnC,8CAAO,WAAO1H,GAAP,eAAAC,EAAA,6DACHD,EAAS2M,IAAyB,IAD/B,SAEgBY,YAAkB7F,GAFlC,OAEGvH,EAFH,OAGHH,EAASqJ,GAAW3B,EAAQvH,EAAKpB,UACjCiB,EAAS2M,IAAyB,IAJ/B,2CAAP,wDCzNqBrG,CAItByG,I,6BCjCGS,G,kDAeF,WAAY9G,GAAQ,IAAD,8BACf,cAAMA,IAdV+G,uBAamB,UAbSC,IAaT,gBAXnBC,uBAAyB,SAACxB,GACtB,EAAKzF,MAAM+F,qBAAqBN,IAC3BA,GAAqB,EAAKzF,MAAM0F,iBACjCwB,OAAOC,SAASC,UAQL,EAJnBC,qBAAuB,SAAC1B,GACpB,EAAK3F,MAAMsH,mBAAmB3B,IAGf,EASnB4B,mBAAqB,SAACC,GAClB,IAAIC,EAAkBC,IAAIC,gBAAgBH,EAAEI,OAAOC,MAAM,IACrDC,EAAiBN,EAAEI,OAAOC,MAAM,GAEpC,EAAKE,SAAS,CACVC,cAAeP,EACfQ,WAAYH,KAfD,EAoBnBI,iBAAmB,WAEf,GAA8B,OAA1B,EAAKrI,MAAMoI,WAAqB,CAChC,IAAIzD,EAAW,IAAI2D,SACnB3D,EAAS4D,OAAO,OAAQ,EAAKvI,MAAMoI,YACnCzD,EAAS4D,OAAO,QAASC,aAAaC,QAAQ,cAK9CC,QACI,EAAKxB,uBACLvC,EACA,CACIgE,QAAS,CACL,OAAU,mBACV,eAAgB,yBAIvBlK,MAAK,SAAAmK,GACF,EAAKpB,qBAAqBoB,EAAShP,KAAKpB,SAAWoQ,EAAShP,KAAKjB,YAvC7E,EAAKqH,MAAQ,CACToI,WAAY,KACZD,cAAe,IAJJ,E,0CA+CnB,WAAU,IAAD,OACL,OACI,qBAAKnJ,UAAWC,KAAE4J,MAAO5F,QAAS,kBAAM,EAAKmE,wBAAuB,IAApE,SACI,sBAAKpI,UAAWC,KAAE6J,aAAc7F,QAAS,SAAA0E,GAAC,OAAIA,EAAEoB,mBAAhD,UACI,qBAAK/J,UAAWC,KAAE+J,UAAlB,SAA6B,iJAC7B,uBACIhK,UAAWC,KAAEgK,YACbxQ,KAAK,OACLyQ,SAAU9G,KAAKsF,qBACnB,qBAAK1I,UAAWC,KAAEkK,UAAW5J,IAAK6C,KAAKpC,MAAMmI,gBAC7C,qBAAKnJ,UAAWC,KAAE4G,gBAAlB,SAAmC,4BAAIzD,KAAKjC,MAAM0F,oBAClD,uBAAO7G,UAAWC,KAAEmK,YAAa3Q,KAAK,SAASwK,QAASb,KAAKiG,iBAAkBvE,MAAM,oE,GAzEzEpE,IAAMC,WAkFvB0J,GADatJ,aAtGN,SAACC,GACnB,MAAO,CACH4F,kBAAmB5F,EAAMsG,YAAYV,kBACrCC,gBAAiB7F,EAAMsG,YAAYT,gBACnCyD,iBAAkBtJ,EAAMsJ,iBACxBnC,WAAYnH,EAAMuJ,kBAAkBpC,eAInB,SAAC1N,GACtB,MAAO,CACHyM,qBAAsB,SAACN,GACnBnM,EAASyM,GAAqBN,KAElC6B,mBAAoB,SAAC3B,GACjBrM,EFoMsB,SAACqM,GAC/B,MAAO,CACHrN,KAAMgN,GACNK,UEvMa2B,CAAmB3B,QAuFZ/F,CAA6CkH,I,SC3GnEuC,GAAgB,SAACrJ,GAEnB,MAAiCsJ,oBAAS,GAA1C,oBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAAStJ,EAAM2F,QAAzC,oBAAKA,EAAL,KAAaC,EAAb,KAwBA,OANA6D,qBAAU,WACN7D,EAAU5F,EAAM2F,UACjB,CAAC3F,EAAM2F,SAIH,qBAAK9G,UAAWC,KAAEuK,cAAlB,SACDE,EAME,qBAAK1K,UAAWC,KAAE4K,gBAAlB,SACI,uBAAOX,SAvBM,SAACvB,GACtB5B,EAAU4B,EAAEmC,cAAchG,QAsBmBiG,WAAW,EAAMC,OAnB7C,WAPjBL,GAAe,GASfxJ,EAAM8J,eAAenE,IAiBiE9G,UAAWC,KAAEiL,YACpFpG,MAAOgC,MART,8BACL,sBAAM9G,UAAWC,KAAEkL,YAAaC,cAxBrB,WACnBT,GAAe,IAuBP,SACKxJ,EAAM2F,cAaZpG,OAAMoB,KAAK0I,ICxCpBa,GAAc,SAAClK,GACjB,OACI,sBAAKnB,UAAWC,KAAEqL,gBAAlB,UACI,sBAAKtL,UAAWC,KAAEsL,YAAlB,UACI,qBAAKvL,UAAWC,KAAEuL,IAAlB,SACI,qBAAKlK,IAAI,MACJf,IAAKY,EAAMwF,YAAY,GAAG9H,QAEnC,sBAAKmB,UAAWC,KAAEwL,SAAlB,UACI,mBAAGzL,UAAWC,KAAErB,KAAhB,SAAuBuC,EAAMwF,YAAY,GAAG/H,OAC5C,cAAC,GAAD,CAAeqM,eAAiB9J,EAAM8J,eACvBnE,OAAU3F,EAAM2F,SAE/B,6EAAa3F,EAAMwF,YAAY,GAAG+E,OAClC,iEAAWvK,EAAMwF,YAAY,GAAGgF,WAC/BxK,EAAMwF,YAAY,GAAG1K,SAAW,qBAAK+D,UAAWC,KAAE2L,eAAlB,SAAkC,8EAAwB,WAGnG,sBAAK5L,UAAWC,KAAE4L,SAAlB,UACM1K,EAAM0C,UAKJ,gCACI,wBAAQE,SAAU5C,EAAM/H,qBAAsB6K,QAAS,WACnD9C,EAAM2K,UAAU3K,EAAMwF,YAAY,GAAGpN,SACtCyG,UAAWC,KAAE8L,eAFhB,8DAIC5K,EAAMwF,YAAY,GAAG1K,SAClB,wBAAQ8H,SAAU5C,EAAMhI,oBAChB8K,QAAS,kBAAM9C,EAAM6K,WAAW7K,EAAMwF,YAAY,GAAGpN,SACrDyG,UAAWC,KAAE8L,eAFrB,wDAGA,wBAAQhI,SAAU5C,EAAMhI,oBAChB8K,QAAS,kBAAM9C,EAAM8K,SAAS9K,EAAMwF,YAAY,GAAGpN,SACnDyG,UAAWC,KAAE8L,eAFrB,iEAbR,8BACI,wBAAQ9H,QAAS,kBAAM9C,EAAMiH,wBAAuB,IAAOpI,UAAWC,KAAE8L,eAAxE,yFAiBP5K,EAAMyF,kBAAoB,cAAC,GAAD,IAAwB,YAOpDlG,OAAMoB,KAAKuJ,IC9BpBa,G,4MAaFF,WAAa,SAACzS,GACV,EAAK4H,MAAMjG,qBAAqB3B,I,EAGpC0S,SAAW,SAAC1S,GACR,EAAK4H,MAAM/F,mBAAmB7B,I,EAGlCuS,UAAY,SAACvS,GACT,EAAK4H,MAAM5F,uBAAuBhC,I,EAGtC6O,uBAAyB,SAACxB,GACtB,EAAKzF,MAAM+F,qBAAqBN,I,EAGpCqE,eAAiB,SAACkB,GACd,EAAKhL,MAAMiL,yBAAyBD,I,uDA5BxC,WACI/I,KAAKjC,MAAMkL,2BAA2BjJ,KAAKjC,MAAM0C,a,gCAIrD,SAAmBX,EAAWC,EAAWyE,GACjC1E,EAAUW,YAAaT,KAAKjC,MAAM0C,WAClCT,KAAKjC,MAAMkL,2BAA2BjJ,KAAKjC,MAAM0C,a,oBAwBzD,WACI,OACI,cAAC,GAAD,CACIA,UAAWT,KAAKjC,MAAM0C,UACtB+C,kBAAmBxD,KAAKjC,MAAMyF,kBAC9BD,YAAavD,KAAKjC,MAAMwF,YACxBG,OAAQ1D,KAAKjC,MAAM2F,OACnBsB,uBAAwBhF,KAAKgF,uBAC7B6C,eAAgB7H,KAAK6H,eACrBe,WAAY5I,KAAK4I,WACjBC,SAAU7I,KAAK6I,SACfH,UAAW1I,KAAK0I,UAChB1S,qBAAsBgK,KAAKjC,MAAM/H,qBACjCD,oBAAqBiK,KAAKjC,MAAMhI,0B,GA9CfuH,IAAMC,WA+DxB2L,GAXcxL,YACzBC,aA/DkB,SAACC,GACnB,MAAO,CACH4F,kBAAmB5F,EAAMsG,YAAYV,kBACrCD,YAAa3F,EAAMsG,YAAYX,YAC/BG,OAAQ9F,EAAMsG,YAAYR,OAC1B1N,qBAAsB4H,EAAMsG,YAAYlO,qBACxCD,oBAAqB6H,EAAMsG,YAAYnO,uBAyDlB,CACrB+N,wBACAmF,2BL+MkC,SAACxI,GACvC,8CAAO,WAAOpJ,GAAP,iBAAAC,EAAA,sEACgB6R,YAAwB1I,GADxC,cACGjJ,EADH,OAEHH,EA9EG,CACHhB,KAAMgN,GACNE,YA4EwB/L,IAFrB,SAGsB4R,YAAiB3I,GAHvC,OAGG4I,EAHH,OAIHhS,EAASsM,GAAU0F,EAAWC,aAJ3B,2CAAP,uDK/MIN,yBLuNgC,SAACD,GACrC,8CAAO,WAAO1R,GAAP,eAAAC,EAAA,sEACgBiS,YAAwBR,GADxC,QACGvR,EADH,QAEOjB,OACNc,EAASsM,GAAUnM,EAAK8R,aAHzB,2CAAP,uDKvNIxR,qBL+N4B,SAAC3B,GACjC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,IAAwB,IAD9B,SAEgBa,YAAgB5B,GAFhC,OAEGqB,EAFH,OAGHH,GAxIiBjB,EAwICD,EAAQqB,EAAKpB,QAvI5B,CACHC,KAAMgN,GACNjN,aAsIAiB,EAASH,IAAwB,IAJ9B,iCArIa,IAACd,IAqId,OAAP,uDK/NI4B,mBLuO0B,SAAC7B,GAC/B,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,IAAwB,IAD9B,SAEgBe,YAAc9B,GAF9B,OAEGqB,EAFH,OAGHH,GAxJejB,EAwJCD,EAAQqB,EAAKpB,QAvJ1B,CACHC,KAAMgN,GACNjN,aAsJAiB,EAASH,IAAwB,IAJ9B,iCArJW,IAACd,IAqJZ,OAAP,uDKvOI+B,uBL+O8B,SAAChC,GACnC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASL,IAAyB,IAD/B,SAEgBoB,YAAkBjC,GAFlC,OAEGqB,EAFH,OAGHH,EAASN,IAAW,IACpBM,EAASgB,aAAiBb,EAAKc,WAC/BjB,EAASL,IAAyB,IAL/B,2CAAP,yDKvPyB0G,CAS3BoL,IC5EIU,GAAc,SAACzL,GACjB,OACI,sBAAKnB,UAAWC,KAAEqH,YAAlB,UACI,cAAC,GAAD,CAAsBzD,UAAa1C,EAAM0C,YACzC,cAAC,GAAD,CAAkBA,UAAa1C,EAAM0C,gBAIlCnD,OAAMoB,KAAK8K,ICGpBC,G,uKAEF,c,kCAGA,WACQzJ,KAAKjC,MAAMjI,SACXkK,KAAKjC,MAAMhH,YAAW,K,gCAI9B,SAAmB+I,EAAWC,EAAWyE,M,oBAIzC,WACI,IAAM/D,EAAYT,KAAKjC,MAAM2L,MAAMC,OAAOlJ,UAC1C,OAAIT,KAAKjC,MAAMjI,SAAWkK,KAAKjC,MAAMjE,gBAC1B,cAAC,IAAD,CAAUwE,GAAI,yBAA2B0B,KAAKjC,MAAMjE,kBAG3D,cAAC,GAAD,CAAa2G,UAAWA,Q,GArBDnD,IAAMC,WA2B1BG,eACXkM,IACAjM,aArCkB,SAACC,GACnB,MAAO,CACH9H,QAAS8H,EAAMsG,YAAYpO,QAC3BgE,gBAAiB8D,EAAM/B,YAAY/B,mBAkCd,CAAC/C,gBAC1B8G,IAHWH,CAIb+L,I,kDC3CII,GAAS,SAAC9L,GACZ,OAAIA,EAAMjI,SAAWiI,EAAMjE,gBAChB,cAAC,IAAD,CAAUwE,GAAI,yBAA2BP,EAAMjE,kBAKtD,sBAAK8C,UAAWC,KAAEiN,OAAlB,UACI,qBAAKlN,UAAWC,KAAEkN,UAAlB,SACI,qBACI5M,IAAkB,MAAbY,EAAMtC,IAAcsC,EAAMtC,IAAMuO,KACrC9L,IAAI,cAEZ,sBAAKtB,UAAWC,KAAEoN,WAAlB,UACI,cAAC,IAAD,CAASrN,UAAWC,KAAEqN,WACb5L,GAAI,yBAA2BP,EAAMnF,GAD9C,mBACsDmF,EAAMvC,QAC5D,wBAAQmF,SAAU5C,EAAMoM,kBAAkBC,MAAK,SAAAxR,GAAE,OAAIA,GAAMmF,EAAMnF,MAAKiI,QAAS,WAC3E9C,EAAM2K,UAAU3K,EAAMnF,KACvBgE,UAAS,UAAKC,KAAEwN,gBAAP,YAA0BxN,KAAEyN,QAFxC,8DAICvM,EAAMlF,SACH,wBAAQ8H,SAAU5C,EAAMhI,oBAAoBqU,MAAK,SAAAxR,GAAE,OAAIA,IAAOmF,EAAMnF,MAAKiI,QAAS,kBAAM9C,EAAM6K,WAAW7K,EAAMnF,KACvGgE,UAAS,UAAKC,KAAE0N,eAAP,YAAyB1N,KAAEyN,QAD5C,wDAEA,wBAAQ3J,SAAU5C,EAAMhI,oBAAoBqU,MAAK,SAAAxR,GAAE,OAAIA,IAAOmF,EAAMnF,MAAKiI,QAAS,kBAAM9C,EAAM8K,SAAS9K,EAAMnF,KACrGgE,UAAS,UAAKC,KAAE2N,aAAP,YAAuB3N,KAAEyN,QAD1C,8DAEFvM,EAAMlF,SAA6E,KAAlE,qBAAK+D,UAAWC,KAAE2L,eAAlB,SAAkC,gIAMtDlL,OAAMoB,KAAKmL,IC/BpBY,GAAa,SAAC1M,GAEhB,IAAI2M,EAAe3M,EAAM4M,YAAYjS,KAAI,SAACC,GAAD,OACrC,cAAC,GAAD,CAEI8C,IAAK9C,EAAE8C,IACP7C,GAAID,EAAEC,GACN4C,KAAM7C,EAAE6C,KACRkN,UAAW3K,EAAM2K,UACjB5S,QAASiI,EAAMjI,QACfgE,gBAAiBiE,EAAMjE,gBACvB8O,WAAY7K,EAAM6K,WAClBC,SAAU9K,EAAM8K,SAChBhQ,SAAUF,EAAEE,SACZ9C,oBAAuBgI,EAAMhI,oBAC7BoU,kBAAoBpM,EAAMoM,mBAXrBxR,EAAEC,OAcf,OACI,qBAAKgE,UAAWC,KAAE+N,WAAlB,SACK7M,EAAM4M,YAAY7I,OAAS,EAAI4I,EAAe,gHAK5CpN,OAAMoB,KAAK+L,ICxBpBI,GAAc,SAAC9M,GAEjB,OACI,sBAAKnB,UAAWC,KAAEiO,YAAlB,UACI,qBAAKlO,UAAWC,KAAEkO,wBAAlB,SACI,wBAAQnO,UAAWC,KAAEmO,oBAArB,SAA0C,cAAC,IAAD,CAASpO,UAAWC,KAAEoO,cAAe3M,GAAG,sBAAxC,oCAG9C,sBAAK1B,UAAWC,KAAEqO,cAAlB,UAAiC,gGAAqB,cAAC,GAAD,CAAYP,YAAa5M,EAAM4M,YACnBjC,UAAW3K,EAAM2K,UACjB5S,QAASiI,EAAMjI,QACfgE,gBAAiBiE,EAAMjE,gBACvB8O,WAAY7K,EAAM6K,WAClBC,SAAU9K,EAAM8K,SAChB9S,oBAAqBgI,EAAMhI,oBAC3BoU,kBAAmBpM,EAAMoM,uBAE3F,qBAAKvN,UAAWC,KAAEqC,kBAAlB,SAAsCnB,EAAM4M,YAAY7I,OAAS,EAC7D,cAAC3C,EAAA,EAAD,CAAYzH,WAAYqG,EAAMoN,kBAClBxV,SAAUoI,EAAMpI,SAChBD,YAAaqI,EAAMrI,YACnBe,eAAgBsH,EAAMsB,mBAAsB,WAKzD/B,OAAMoB,KAAKmM,ICvBpBO,GAAc,cACdC,GAA0B,0BAC1BC,GAA2B,2BAE3BlW,GAAe,eACfL,GAAW,WACXC,GAAS,SACTuW,GAA+B,+BAC/BC,GAA8B,8BAEhCC,GAAqB,CACrBd,YAAa,GACbjV,YAAa,EACbC,SAAU,EACVwV,kBAAmB,EACnBtV,YAAY,EACZE,oBAAqB,GACrBD,SAAS,EACTqU,kBAAmB,IAsEVuB,GAAa,SAACf,GACvB,MAAO,CACHtU,KAAM+U,GACNT,gBAIKlU,GAAiB,SAACC,GAC3B,MAAO,CACHL,KAAMiV,GACN5U,WAGKiV,GAAuB,SAAC/U,GACjC,MAAO,CACHP,KAAMgV,GACNzU,UAIKC,GAAgB,SAACC,GAC1B,MAAO,CACHT,KA3GgB,kBA4GhBS,YAGKC,GAAa,SAACjB,GACvB,MAAO,CACHO,KAAMjB,GACNU,YAWKI,GAAW,SAACC,EAAQC,GAC7B,MAAO,CACHC,KAAMtB,GACNoB,SACAC,YAIKc,GAA0B,SAACD,EAAYd,GAChD,MAAO,CACHE,KAAMkV,GACNtU,aACAd,WAIKyV,GAAwB,SAAC3U,EAAYd,GAC9C,MAAO,CACHE,KAAMmV,GACNvU,aACAd,WAyDO0V,GAxLY,WAA+C,IAA9Cf,EAA6C,uDAA/BW,GAAoBhT,EAAW,uCAErE,OAAQA,EAAOpC,MACX,KAAKtB,GACD,OAAO,2BACA+V,GADP,IAEIH,YAAaG,EAAYH,YAAYjS,KAAI,SAAAC,GACrC,OAAIA,EAAEC,KAAOH,EAAOtC,OACT,2BAAIwC,GAAX,IAAcE,UAAU,IAErBF,OAInB,KAAK3D,GACD,OAAO,2BACA8V,GADP,IAEIH,YAAaG,EAAYH,YAAYjS,KAAI,SAAAC,GACrC,OAAIA,EAAEC,KAAOH,EAAOqT,SACT,2BAAInT,GAAX,IAAcE,UAAU,IAErBF,OAInB,KAAKvD,GACD,OAAO,2BAAI0V,GAAX,IAAwBhV,QAAS2C,EAAO3C,UAG5C,KAAKsV,GACD,GAAI3S,EAAOkS,YACP,OAAO,2BACAG,GADP,IACoBH,YAAY,YAAKlS,EAAOkS,eAIpD,KAAKW,GACD,OAAO,2BACAR,GADP,IACoBpV,YAAa+C,EAAO/B,SAG5C,KAAK2U,GACD,OAAO,2BACAP,GADP,IACoBK,kBAAmB1S,EAAO7B,QAElD,KAAK2U,GACD,OAAO,2BACAT,GADP,IAEI/U,oBAAqB0C,EAAOxB,WAAP,sBAAwB6T,EAAY/U,qBAApC,CAAyD0C,EAAOtC,SACjF2U,EAAY/U,oBAAoB+C,QAAO,SAAAF,GAAE,OAAIA,GAAMH,EAAOtC,YAGtE,KAAKqV,GACD,OAAO,2BACAV,GADP,IAEIX,kBAAmB1R,EAAOxB,WAAP,sBAAwB6T,EAAYX,mBAApC,CAAuD1R,EAAOtC,SAC7E2U,EAAYX,kBAAkBrR,QAAO,SAAAF,GAAE,OAAIA,GAAMH,EAAOtC,YAIpE,QACI,OAAO2U,IC7DbiB,G,4MAYFnD,WAAa,SAACzS,GACV,EAAK4H,MAAMiO,2BAA2B7V,I,EAG1C0S,SAAW,SAAC1S,GACR,EAAK4H,MAAMkO,yBAAyB9V,I,EAGxCkJ,iBAAmB,SAAC3I,GAChB,EAAKqH,MAAMmO,iCAAiCxV,EAAQ,EAAKqH,MAAMpI,W,EAGnE+S,UAAY,SAACvS,GACT,EAAK4H,MAAMoO,6BAA6BhW,I,uDAvB5C,WAEI6J,KAAKjC,MAAMqO,uBAAuBpM,KAAKjC,MAAMrI,YAAasK,KAAKjC,MAAMpI,Y,kCAGzE,WACIqK,KAAKjC,MAAMhH,YAAW,GACtBiJ,KAAKjC,MAAMtH,eAAe,K,oBAoB9B,WACI,OAAO,mCACH,cAAC,GAAD,CACI0U,kBAAmBnL,KAAKjC,MAAMoN,kBAC9BxV,SAAUqK,KAAKjC,MAAMpI,SACrBD,YAAasK,KAAKjC,MAAMrI,YACxBiV,YAAa3K,KAAKjC,MAAM4M,YACxB7Q,gBAAiBkG,KAAKjC,MAAMjE,gBAC5BuF,iBAAkBW,KAAKX,iBACvBvJ,QAASkK,KAAKjC,MAAMjI,QACpB8S,WAAY5I,KAAK4I,WACjBC,SAAU7I,KAAK6I,SACfH,UAAW1I,KAAK0I,UAChB3S,oBAAqBiK,KAAKjC,MAAMhI,oBAChCoU,kBAAmBnK,KAAKjC,MAAMoM,0B,GA3CX7M,IAAMC,WAkD1BG,eACXC,aApEkB,SAACC,GACnB,MAAO,CACH+M,YAAa/M,EAAMkN,YAAYH,YAC/BhV,SAAUiI,EAAMkN,YAAYnV,SAC5BwV,kBAAmBvN,EAAMkN,YAAYK,kBACrCzV,YAAakI,EAAMkN,YAAYpV,YAC/BG,WAAY+H,EAAMkN,YAAYjV,WAC9BC,QAAS8H,EAAMkN,YAAYhV,QAC3BiP,WAAYnH,EAAMuJ,kBAAkBpC,WACpCjL,gBAAiB8D,EAAM/B,YAAY/B,gBACnC/D,oBAAqB6H,EAAMkN,YAAY/U,oBACvCoU,kBAAmBvM,EAAMkN,YAAYX,kBACrCkC,KAAMzO,EAAMuJ,kBAAkBkF,QAwDT,CACrBtV,cACAN,kBACA2V,uBD8E8B,SAAC1W,EAAaC,GAChD,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,6DACHD,EAASR,IAAc,IADpB,SAEgByV,YAAkB5W,EAAaC,GAF/C,OAEG6B,EAFH,OAGHH,EAASR,IAAc,IACnBW,IACAH,EAASqU,GAAWlU,EAAKC,QACzBJ,EAASsU,GAAqBnU,EAAKE,cANpC,2CAAP,uDC9EIsU,2BD0FkC,SAAC7V,GACvC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,IAAwB,EAAMf,IADpC,SAEgB4B,YAAgB5B,GAFhC,OAEGqB,EAFH,OAGHH,EAASnB,GAASC,EAAQqB,EAAKpB,UAC/BiB,EAASH,IAAwB,EAAOf,IAJrC,2CAAP,uDC1FI8V,yBDkGgC,SAAC9V,GACrC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASH,IAAwB,EAAMf,IADpC,SAEgB8B,YAAc9B,GAF9B,OAEGqB,EAFH,OAGHH,GA3DeyU,EA2DC3V,EA3DSC,EA2DDoB,EAAKpB,QA1D1B,CACHC,KAAMrB,GACN8W,WACA1V,aAwDAiB,EAASH,IAAwB,EAAOf,IAJrC,iCAxDW,IAAC2V,EAAU1V,IAwDtB,OAAP,uDClGI8V,iCD0GwC,SAACxV,EAAQf,GACrD,8CAAO,WAAO0B,GAAP,eAAAC,EAAA,6DACHD,EAASZ,GAAeC,IACxBW,EAASR,IAAc,IAFpB,SAGgByV,YAAkB5V,EAAQf,GAH1C,OAGG6B,EAHH,OAIHH,EAASR,IAAc,IACvBQ,EAASqU,GAAWlU,EAAKC,QACzBJ,EAASsU,GAAqBnU,EAAKE,aANhC,2CAAP,uDC1GIyU,6BDoHoC,SAAChW,GACzC,8CAAO,WAAOkB,GAAP,eAAAC,EAAA,6DACHD,EAASuU,IAAsB,EAAMzV,IADlC,SAEgBiC,YAAkBjC,GAFlC,OAEGqB,EAFH,OAGHH,EAASN,IAAW,IACpBM,EAASgB,aAAiBb,EAAKc,WAC/BjB,EAASuU,IAAsB,EAAOzV,IALnC,2CAAP,yDCnHA0H,IAVWH,CAWbqO,I,oBC/CaQ,GAxCH,SAACxO,GACT,OACI,sBAAKnB,UAAWC,KAAE2P,IAAlB,UACI,qBAAK5P,UAAWC,KAAE4P,QAAlB,SACI,4BAAG,cAAC,IAAD,CAAS7P,UAAWC,KAAE6P,KAAMC,gBAAiB9P,KAAE+P,WACtCtO,GAAG,wBADZ,4DAGP,qBAAK1B,UAAWC,KAAE4P,QAAlB,SACI,mBAAG5L,QAAS,kBAAM9C,EAAM8O,kBAAkB,KAA1C,SAA+C,cAAC,IAAD,CAASjQ,UAAWC,KAAE6P,KACbC,gBAAiB9P,KAAE+P,WACnBtO,GAAG,wBAFZ,4DAInD,qBAAK1B,UAAWC,KAAE4P,QAAlB,SACI,4BAAG,cAAC,IAAD,CAAS7P,UAAWC,KAAE6P,KAAMC,gBAAiB9P,KAAE+P,WACtCtO,GAAG,wBADZ,sDAGP,qBAAK1B,UAAWC,KAAE4P,QAAlB,SACI,4BAAG,cAAC,IAAD,CAAS7P,UAAWC,KAAE6P,KAAMC,gBAAiB9P,KAAE+P,WAAYtO,GAAG,qBAA9D,4DAGP,qBAAK1B,UAAWC,KAAE4P,QAAlB,SACI,4BAAG,cAAC,IAAD,CAAS7P,UAAWC,KAAE6P,KAAMC,gBAAiB9P,KAAE+P,WACtCtO,GAAG,qBADZ,wEAIP,qBAAK1B,UAAWC,KAAE4P,QAAlB,SAEI,wBAAQ7P,UAAWC,KAAEiQ,aAAcjM,QAAS,WACxC9C,EAAMgP,UADV,kDC5BVC,GAAoB,oBACpBC,GAAqB,qBACrBC,GAAiB,iBACjBC,GAAgC,gCAGlCC,GAA2B,CAC3Bf,MAAM,EACNgB,yBAAyB,GAiChBC,GAAmB,WAC5B,MAAO,CACHjX,KAAM2W,KAeDO,GAA8B,SAACF,GACxC,MAAO,CACHhX,KAAM8W,GACNE,wBAAyBA,IAwBlBG,GA1EkB,WAA2D,IAA1DC,EAAyD,uDAArCL,GAA0B3U,EAAW,uCACvF,OAAQA,EAAOpC,MAEX,KAAK2W,GACD,OAAO,2BACAS,GADP,IAEIpB,MAAM,IAGd,KAAKY,GAED,OADA7G,aAAasH,WAAW,aACjB,2BACAD,GADP,IAEIpB,MAAM,IAEd,KAAKa,GACD9G,aAAauH,QAAQ,YAAalV,EAAOmV,OAC7C,QACI,OAAOH,EAEX,KAAKN,GACD,OAAO,2BACAM,GADP,IAEIJ,wBAAyB5U,EAAO4U,4BCzB1CQ,G,4MAKFhB,kBAAoB,SAACnW,GACjB,EAAKqH,MAAM1F,iBAAiB3B,I,EAGhCqW,OAAS,WACL,EAAKhP,MAAM+P,iC,uDARf,c,oBAWA,WACI,OACI,cAAC,GAAD,CAAKjB,kBAAmB7M,KAAK6M,kBACxBE,OAAU/M,KAAK+M,a,GAhBPzP,IAAMC,WAyBhBwQ,GAJMpQ,aA1BC,SAACC,GACnB,MAAO,KAyBmC,CAC1CvF,sBAAkByV,8BDkDuB,kBAAM,SAACzW,GAChDA,EAnCO,CACHhB,KAAM4W,QClBOtP,CAElBkQ,I,wCC/BGG,GAAU,SAACjQ,GACb,OACI,sBAAKnB,UAAWC,KAAEzG,QAAlB,UACI,qBAAKwG,UAAWC,KAAEoR,UAAlB,SACI,qBAAK9Q,IAAKY,EAAMkQ,UAAW/P,IAAI,gBAEnC,sBAAKtB,UAAWC,KAAEqR,eAAlB,UAEI,qBAAKtR,UAAWC,KAAEsR,WAAlB,SACI,cAAC,IAAD,CAASvR,UAAWC,KAAEuR,WACV9P,GAAI,yBAA2BP,EAAMsQ,SADjD,SAC4DtQ,EAAMoQ,eAEtE,qBAAKvR,UAAWC,KAAEnB,KAAlB,SAAwB,4BAAIqC,EAAMrC,SAClC,qBAAKkB,UAAWC,KAAElB,KAAlB,SAAyBoC,EAAMpC,UAEnC,qBAAKiB,UAAWC,KAAExC,cAAlB,SAAiC,wBAAQsG,SAAU5C,EAAM9D,wBAAyB4G,QAAS,kBAAM9C,EAAMuQ,gBAAgBvQ,EAAMzD,YAA5F,SAAwG,6CAKtIgD,OAAMoB,KAAKsP,IChBpBO,GAAc,SAACxQ,GAEjB,IAOIyQ,EAAgBzQ,EAAMlE,aAAanB,KAAI,SAAAuD,GAAC,OAAIA,EAAED,UAAY,KAAO,cAAC,GAAD,CACjE/B,wBAAyB8D,EAAM9D,wBAE/BkU,WAAYlS,EAAET,KACdE,KAAMO,EAAEP,KACRuS,UAAWhS,EAAER,IACbE,KAAMM,EAAEN,KACRrB,UAAW2B,EAAErD,GACb0V,gBAAiBvQ,EAAM0Q,gBACvBJ,SAAUpS,EAAEoS,UAPPpS,EAAErD,OAUX,OACI,sBAAKgE,UAAWC,KAAE6R,WAAlB,UACK3Q,EAAMlE,aAAaiI,OAAS,EAAI0M,EAC7B,mBAAG5R,UAAWC,KAAE8R,oBAAhB,2LACJ,cAACC,GAAD,CAAyB1U,sBAAyB6D,EAAM7D,sBAAuBoI,SAvBtE,SAACC,EAAUlL,GACxB0G,EAAM8Q,iBAAiBtM,EAASjH,aAChCjE,EAASoL,aAAM,uBA2BjBC,GAAgB3B,GAAe,YAC/B4B,GAAiBhB,GAAmB,EAAG,KAavCiN,GAA0BhM,aAAU,CACtCC,KAAM,eADsBD,EAXL,SAAC7E,GACxB,OAAO,uBACHnB,UAAWC,KAAEiS,gBACbxM,SAAUvE,EAAMgF,aAFb,UAGH,cAACC,GAAA,EAAD,CAAOC,YAAY,kFACZzH,KAAK,cAAc0H,SAAU,CAACP,IAAiBQ,UAAWT,KACjE,wBAAQ/B,SAAU5C,EAAM7D,sBAAuB0C,UAAWC,KAAEkS,kBAA5D,gCAYOzR,OAAMoB,KAAK6P,I,oBCxDpBS,GAAS,SAACjR,GACZ,OACI,sBAAKnB,UAAWC,KAAEoS,OAAlB,UACI,qBAAKrS,UAAWC,KAAEqS,UAAlB,SACI,qBAAK/R,IAAKY,EAAMmR,UAAWhR,IAAI,gBAEnC,wBACIyC,SAAU5C,EAAMhE,2BAChB8G,QAAS,kBAAM9C,EAAMoR,mBAAmBpR,EAAMzF,WAC9CsE,UAAWC,KAAEuS,iBAHjB,SAGmC,cAAC,IAAD,CAC/BxS,UAAWC,KAAEwS,WAAY1C,gBAAiB9P,KAAEyS,aAC5ChR,GAAE,gCAA2BP,EAAMzF,UAFJ,SAEiByF,EAAMwR,aAC1D,qBAAK3S,UAAWC,KAAE1C,aAAlB,SAAgC,wBAAQwG,SAAU5C,EAAM/D,uBAAwB6G,QAAS,kBAAM9C,EAAMyR,eAAezR,EAAMzF,WAA1F,SAAqG,6CAIlIgF,OAAMoB,KAAKsQ,ICfpBS,GAAa,SAAC1R,GAEhB,IAAI2R,EAAe3R,EAAMnE,YAAYlB,KAAI,SAAAqD,GAAC,OAAIA,EAAEC,UAAY,KACxD,cAAC,GAAD,CACIhC,uBAA0B+D,EAAM/D,uBAChCD,2BAA8BgE,EAAMhE,2BAEpCoV,mBAAoBpR,EAAMoR,mBAC1BD,UAAWnT,EAAEN,IAAKnD,SAAUyD,EAAEzD,SAC9BiX,SAAUxT,EAAEP,KACZgU,eAAgBzR,EAAMyR,gBAJfzT,EAAEzD,aAMjB,OACI,sBAAKsE,UAAWC,KAAE8S,WAAlB,UACI,wHACC5R,EAAMnE,YAAYkI,OAAS,EAAI,qBAAKlF,UAAWC,KAAE+S,WAAlB,SAA+BF,IAC3D,qbAIApS,OAAMoB,KAAK+Q,ICfvBI,GAAc,SAAC9R,GAaf,OAAO,qCACDA,EAAMjE,gBAAqF,KAAnE,cAAC,IAAD,CAAUwE,GAAI,wBAA0BP,EAAMjE,kBACxE,sBAAK8C,UAAWC,KAAEhB,YAAlB,UACKkC,EAAMjE,gBAAkB,cAAC,GAAD,CACrBI,sBAAyB6D,EAAM7D,sBAC/BD,wBAA0B8D,EAAM9D,wBAChCJ,aAAckE,EAAMlE,aACpBiW,eAAgB/R,EAAM+R,eACtBjB,iBAAkB9Q,EAAM8Q,iBACxBJ,gBAAiB1Q,EAAM0Q,kBAAqB,KAEhD,cAAC,GAAD,CACI1U,2BAA8BgE,EAAMhE,2BACpCH,YAAamE,EAAMnE,YACnB4V,eAAkBzR,EAAMyR,eACxBL,mBAAoBpR,EAAMoR,mBAC1BnV,uBAAwB+D,EAAM/D,gCAO/BsD,OAAMoB,KAAKmR,ICtBpBE,G,4MAEFC,kBAAoB,WAChB,EAAKjS,MAAMnD,uBAAuB,EAAKmD,MAAMlC,YAAY/B,kB,EAgB7DmW,qBAAuB,WACnB,EAAKlS,MAAM1F,iBAAiB,K,EAIhCmX,eAAiB,SAAClX,GACd,EAAKyF,MAAMhD,yBAAyBzC,EAAU,EAAKyF,MAAMlC,YAAY/B,kB,EAGzE2U,gBAAkB,SAACnU,GACf,IAAIY,EAAW,EAAK6C,MAAM2L,MAAMC,OAAOzO,SACvC,EAAK6C,MAAM9C,0BAA0BC,EAAUZ,I,EAGnD6U,mBAAqB,SAAC5U,GAClB,EAAKwD,MAAM1F,iBAAiBkC,GAC5B,EAAKwD,MAAM3C,6BAA6Bb,I,EAU5CsU,iBAAmB,SAACvT,GAChB,GAAIA,EAAa,CACb,IAAIJ,EAAW,EAAK6C,MAAM2L,MAAMC,OAAOzO,SACvC,EAAK6C,MAAM1C,wBAAwBH,EAAUI,K,wDAhCrD,SAAmBwE,EAAWC,EAAWyE,M,oBA2CzC,WACI,OACI,cAAC,GAAD,CACG5K,YAAaoG,KAAKjC,MAAMlC,YAAYjC,YACnCC,aAAcmG,KAAKjC,MAAMlC,YAAYhC,aACrCgV,iBAAkB7O,KAAK6O,iBACvB/U,gBAAiBkG,KAAKjC,MAAMlC,YAAY/B,gBACxCqV,mBAAoBnP,KAAKmP,mBACzBK,eAAgBxP,KAAKwP,eACrBf,gBAAiBzO,KAAKyO,gBACtB1U,2BAA4BiG,KAAKjC,MAAMlC,YAAY9B,2BACnDC,uBAAwBgG,KAAKjC,MAAMlC,YAAY7B,uBAC/CC,wBAAyB+F,KAAKjC,MAAMlC,YAAY5B,wBAChDC,sBAAuB8F,KAAKjC,MAAMlC,YAAY3B,4B,GAxE3BoD,IAAMC,WA8E1BG,eACXC,aArFkB,SAACC,GACnB,MAAO,CACH/B,YAAa+B,EAAM/B,eAmFE,CACrBxD,sBACAuC,4BACAG,8BACAE,+BACAG,kCACAC,+BAEJwC,IACA+L,IAVWlM,CAWbqS,IC9GIG,GAAuB,uBAGzBC,GAAkB,CAClBC,gBAAgB,GAuBPC,GAA0B,yDAAM,WAAOhZ,GAAP,SAAAC,EAAA,sEACxBgZ,cADwB,qBAExBjE,MACLhV,EAASiW,MAHoB,mBAK1B,GAL0B,2CAAN,uDAexBiD,GAnCI,WAAyC,IAAxCC,EAAuC,uDAA5BL,GAAiB1X,EAAW,uCACvD,OAAQA,EAAOpC,MAEX,KAAK6Z,GACD,OAAO,2BACAM,GADP,IAEIJ,gBAAgB,IAExB,QACI,OAAOI,ICnBJ,OAA0B,0CCG5BC,GAAgB,WACzB,OACQ,qBAAKtT,IAAKuT,GAAexS,IAAI,YAAayS,OAAO,QAC5CC,MAAM,WCSjBC,GAAqBvT,IAAMwT,MAAK,kBAAM,iCAStCC,G,uKACF,WACI/Q,KAAKjC,MAAMiT,kC,oBAGf,WACI,OAAKhR,KAAKjC,MAAMqS,eAOZ,sBAAKxT,UAAWC,IAAEoU,WAAlB,UACI,cAAC,EAAD,IACA,sBAAKrU,UAAWC,IAAEqU,KAAlB,UACI,cAAC,GAAD,IACA,sBAAKtU,UAAWC,IAAEsU,QAAlB,UACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,YAAYC,OAAQ,kBAAM,cAACC,GAAD,OAC5C,cAAC,IAAD,CAAOF,KAAK,oCAAoCC,OAAQ,kBAAM,cAACC,GAAD,OAC9D,cAAC,IAAD,CAAOF,KAAK,mCACLC,OAAQ,kBAAM,cAAC,GAAD,OACrB,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,sBAAsBC,OAAQ,kBAAM,cAAC,WAAD,CAClDE,SAAU,qBAAK5U,UAAWC,IAAE4U,qBAAlB,SAAwC,cAAC,GAAD,MADA,SAElD,cAACZ,GAAD,SAKJ,cAAC,IAAD,CAAOQ,KAAK,qBAAqBC,OAAQ,kBAAM,cAAC,GAAD,OAC/C,cAAC,IAAD,CAAOD,KAAK,qBAAqBC,OAAQ,kBAAM,cAAC,EAAD,OAC/C,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,wBAAwBC,OAAQ,kBAAM,cAAC,GAAD,aAGhE,cAAC,EAAD,OA3BG,qBAAK1U,UAAWC,IAAE6U,aAAlB,SACH,cAAC,GAAD,U,GAREpU,IAAMC,WA0CTI,gBAjDS,SAACC,GACrB,MAAO,CACHyO,KAAMzO,EAAMuJ,kBAAkBkF,KAC9B+D,eAAgBxS,EAAM+T,IAAIvB,kBA8CM,CACpCC,2BACAW,8BH9ByC,yDAAM,WAAO3Z,GAAP,SAAAC,EAAA,sEACzCD,EAASgZ,MADgC,OAE/ChZ,EAfO,CACHhB,KAAM6Z,KAYqC,2CAAN,wDG4B9BvS,CAGZoT,I,UCnEGa,GAA+B,+BAEjCC,GAA0B,CAC1BC,wBAAwB,GAiBfC,GAA6B,SAACD,GACvC,MAAO,CACHzb,KAAMub,GACNE,uBAAwBA,IAkBjBE,GAnCiB,WAAyD,IAAxD9K,EAAuD,uDAApC2K,GAAyBpZ,EAAW,uCACpF,OAAQA,EAAOpC,MACX,KAAKub,GACD,OAAO,2BACA1K,GADP,IAEI4K,uBAAwBrZ,EAAOqZ,yBAGvC,QACI,OAAO5K,I,oBCJb+K,GAAa,CAACC,YAAgBC,MAAkBlN,OAAOmN,8BAAgCnN,OAAOmN,gCAChGC,GAAWC,YAAgB,CAC3BX,IAAKpB,GACL1U,YAAaD,KACbsI,YAAaD,GACbzL,UAAWD,KACXyG,SAAUY,EACVuH,kBAAmBqG,GACnBtG,iBAAkB8K,GAClBlH,YAAae,GACbhJ,KAAM0P,OAKKC,GAHDC,YAAYJ,GAAU3U,IAAO,WAAP,EAAWuU,K,oBCfzCS,GAAoB,SAAC3U,GAKvB,OACI,sBAAKnB,UAAWC,KAAE8V,QAAlB,UACI,cAAC,EAAD,IACA,qBAAK/V,UAAWC,KAAEqU,KAAlB,SACI,qBAAKtU,UAAWC,KAAEgG,KAAlB,SACI,sBAAKjG,UAAWC,KAAE+V,cAAlB,UACI,oGACA,cAACC,GAAD,CAAwBxF,wBAA2BtP,EAAMsP,wBAA0B/K,SAVtF,SAACC,GACdxE,EAAM+U,mBAAmBvQ,EAASwQ,MAAOxQ,EAASyQ,aAUlC,qBAAKpW,UAAWC,KAAEoW,QAAlB,SACI,oKAA6B,cAAC,IAAD,CAASrW,UAAWC,KAAE6P,KACbpO,GAAG,oBADZ,4FAM7C,cAAC,EAAD,QAKN4U,GAAYnS,GAAe,SA6B3B8R,GAAyBjQ,aAAU,CACrCC,KAAM,iBADqBD,EA3BP,SAAC7E,GACrB,OACI,uBAAMuE,SAAUvE,EAAMgF,aAAtB,UACI,sBAAKnG,UAAWC,KAAEsW,WAAlB,UACI,2GACA,cAACnQ,GAAA,EAAD,CAAO3M,KAAK,OAAO4M,YAAY,iCAAQzH,KAAO,QAAS0H,SAAU,CAACzB,IAAgB0B,UAAW+P,QAEjG,sBAAKtW,UAAWC,KAAEuW,cAAlB,UACI,iHACA,cAACpQ,GAAA,EAAD,CAAO3M,KAAK,WAAW4M,YAAY,uCAASzH,KAAO,WAAY0H,SAAY,CAACzB,IAAgB0B,UAAW+P,QAE3G,sBAAKtW,UAAWC,KAAEwW,YAAlB,UACKtV,EAAMxH,MAAO,qBAAKqG,UAAWC,KAAEyW,gBAAlB,SACV,uBAAO1W,UAAWwE,KAAMmS,aAAxB,SACKxV,EAAMxH,UAER,KACP,wBACIF,KAAK,SACLsK,SAAU5C,EAAMsP,wBAFpB,+CAeD/P,OAAMoB,KAAKgU,ICtDpBc,G,4MAEFV,mBAAqB,SAACC,EAAOC,GACzB,EAAKjV,MAAM0V,6BAA6BV,EAAOC,I,4CAGnD,WACI,OAAIhT,KAAKjC,MAAMoJ,kBAAkBkF,KACtB,cAAC,IAAD,CAAU/N,GAAG,0BAGpB,cAAC,GAAD,CACIwU,mBAAoB9S,KAAK8S,mBACzBzF,wBAAyBrN,KAAKjC,MAAMoJ,kBAAkBkG,8B,GAb/B/P,IAAMC,WAwB9BmW,GALoB/V,aA1Bb,SAACC,GACnB,MAAO,CACHuJ,kBAAmBvJ,EAAMuJ,qBAwB2B,CACxDsM,6BfiCwC,SAACV,EAAOC,GAChD,8CAAO,WAAO3b,GAAP,iBAAAC,EAAA,6DACHD,EAASkW,IAA4B,IADlC,SAEcoG,YAAwBZ,EAAOC,GAF7C,QAECxb,EAFD,QAGMoc,UACLvc,GAlBiBuW,EAkBKpW,EAAKqc,aAjB5B,CACHxd,KAAM6W,GACNU,WAgBIvW,EAASiW,QAEL7U,EAASqb,aAAW,gBAAiB,CAACC,OAAQvc,EAAKpB,UACvDiB,EAASoB,IAEbpB,EAASkW,IAA4B,IAVlC,iCAdiB,IAACK,IAclB,OAAP,wDenC+BjQ,CAGhC6V,IC5BGQ,GAAmB,SAACjW,GAetB,OACI,sBAAKnB,UAAWC,KAAE8V,QAAlB,UACI,cAAC,EAAD,IACA,qBAAK/V,UAAWC,KAAEqU,KAAlB,SACI,qBAAKtU,UAAWC,KAAEgG,KAAlB,SACI,sBAAKjG,UAAWC,KAAEoX,aAAlB,UACI,oGACA,cAACC,GAAD,CAA2B5R,SApBhC,SAACC,GAEZxE,EAAMoW,mBACF5R,EAASwQ,MACTxQ,EAASyQ,SACTzQ,EAAS6R,UACT7R,EAAS8R,SACT9R,EAASgG,QACThG,EAAS+F,IACT/F,EAAS+R,QAY8BxC,uBAAwB/T,EAAM+T,yBACzD,qBAAKlV,UAAWC,KAAE0X,SAAlB,SACI,0HAAsB,cAAC,IAAD,CAAS3X,UAAWC,KAAE6P,KAAMpO,GAAG,IAA/B,4FAKtC,cAAC,EAAD,QAKRkW,GAA0B7S,GAAmB,EAAG,IAChD8S,GAA0B9S,GAAmB,EAAG,IAC9CuR,GAAYnS,GAAe,SA8C3BmT,GAA4BtR,aAAU,CACxCC,KAAM,gBADwBD,EA3CL,SAAC7E,GAC1B,OAAO,uBAAMuE,SAAUvE,EAAMgF,aAAtB,UACH,sBAAKnG,UAAWC,KAAE6X,WAAlB,UACI,6HACA,cAAC1R,GAAA,EAAD,CAAOxH,KAAM,QAAS0H,SAAU,CAACzB,GAAe+S,IAA0BrR,UAAW+P,GAAW7c,KAAK,OAC9F4M,YAAY,sCAEvB,sBAAKrG,UAAWC,KAAE8X,WAAlB,UACI,qGACA,cAAC3R,GAAA,EAAD,CAAOxH,KAAM,QAAS0H,SAAU,CAACzB,IAAgB0B,UAAW+P,GAAW7c,KAAK,OAAO4M,YAAY,aAEnG,sBAAKrG,UAAWC,KAAE+X,UAAlB,UACI,+FACA,cAAC5R,GAAA,EAAD,CAAOxH,KAAM,YAAa0H,SAAU,CAACzB,IAAiB0B,UAAW+P,GAC1D7c,KAAK,OAAO4M,YAAY,0BAEnC,sBAAKrG,UAAWC,KAAEgY,eAAlB,UACI,uHACA,cAAC7R,GAAA,EAAD,CAAOxH,KAAM,WAAY0H,SAAU,CAACzB,IAAiB0B,UAAW+P,GACzD7c,KAAK,OAAO4M,YAAY,kDAEnC,sBAAKrG,UAAWC,KAAEiY,aAAlB,UACI,8HACA,cAAC9R,GAAA,EAAD,CAAOxH,KAAM,UAAW0H,SAAU,CAACzB,IAAgB0B,UAAW+P,GACvD7c,KAAK,OAAO4M,YAAY,sCAEnC,sBAAKrG,UAAWC,KAAEkY,SAAlB,UACI,0IACA,cAAC/R,GAAA,EAAD,CAAOxH,KAAM,MAAO0H,SAAU,CAACzB,IAAgB0B,UAAW+P,GACnD7c,KAAK,OAAO4M,YAAY,kDAEnC,sBAAKrG,UAAWC,KAAEmY,cAAlB,UACI,mIACA,cAAChS,GAAA,EAAD,CAAOxH,KAAM,WAAY0H,SAAU,CAACzB,GAAegT,IAA0BtR,UAAW+P,GAAW7c,KAAK,WAAW4M,YAAY,4CAEnI,qBAAKrG,UAAWC,KAAEoY,UAAlB,SACI,wBAAQtU,SAAU5C,EAAM+T,uBAAxB,wFAWGxU,OAAMoB,KAAKsV,ICjFpBkB,G,4MAEFf,mBAAqB,SAACpB,EAAOC,EAAUoB,EAAWC,EAAU9L,EAASD,EAAKgM,GACtE,EAAKvW,MAAMoX,6BAA6BpC,EAAOC,EAAUoB,EAAWC,EAAU9L,EAASD,EAAKgM,I,4CAIhG,WACI,OACI,cAAC,GAAD,CACIH,mBAAsBnU,KAAKmU,mBAC3BrC,uBAA0B9R,KAAKjC,MAAMmJ,iBAAiB4K,6B,GAXhCxU,IAAMC,WAqB7B6X,GAJmBzX,aAvBZ,SAACC,GACnB,MAAO,CACHsJ,iBAAkBtJ,EAAMsJ,oBAqB2B,CACvDiO,6BLHwC,SAACpC,EAAOC,EAAUoB,EAAWC,EAAU9L,EAASD,EAAKgM,GAC7F,8CAAO,WAAOjd,GAAP,eAAAC,EAAA,6DACHD,EAAS0a,IAA2B,IADjC,SAEcsD,YAAwBtC,EAAOqB,EAAWC,EAAUrB,EAAUzK,EAASD,EAAKgM,GAF1F,QAEC9c,EAFD,QAGM8d,QACLC,MAAM,kNAENA,MAAM,yMAAD,OAA0C/d,EAAKjB,QAExDc,EAAS0a,IAA2B,IARjC,2CAAP,wDKC8BpU,CAE/BuX,ICtBHM,IAASlE,OACL,cAAC,IAAD,CAAYmE,SAAUC,kBAAtB,SACI,eAAC,IAAD,CAAUlD,MAAOA,GAAjB,UACI,cAAC,IAAD,CAAOnB,KAAK,YAAYC,OAAQ,kBAAM,cAAC,GAAD,OACtC,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,GAAD,OACpC,cAAC,IAAD,CAAOD,KAAK,oBAAoBC,OAAQ,kBAAM,cAAC,GAAD,YAGtDqE,SAASC,eAAe,SAO5B1Z,K,mBC1BAnD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,WAAa,2BAA2B,OAAS,uBAAuB,gBAAkB,gCAAgC,eAAiB,+BAA+B,aAAe,6BAA6B,WAAa,2BAA2B,eAAiB,iC,2ICI1V6E,EAAoB,SAACN,GAE9B,IAMMsY,EARsC,4JASxC,WACI,OAAK7V,KAAKjC,MAAMsO,KACT,cAAC9O,EAAD,eAAeyC,KAAKjC,QADE,cAAC,IAAD,CAAUO,GAAI,UAVP,GAQZhB,aAOhC,OAAOK,aAbe,SAACC,GACnB,MAAO,CACHyO,KAAMzO,EAAMuJ,kBAAkBkF,QAWN,GAAzB1O,CAA6BkY,K,mBCnBxC9c,EAAOC,QAAU,CAAC,YAAc,iCAAiC,WAAa,gCAAgC,WAAa,gCAAgC,oBAAsB,yCAAyC,WAAa,gCAAgC,gBAAkB,qCAAqC,kBAAoB,yC,mBCAlVD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,WAAa,gCAAgC,aAAe,kCAAkC,cAAgB,mCAAmC,kBAAoB,uCAAuC,wBAA0B,6CAA6C,cAAgB,mCAAmC,oBAAsB,2C,mBCA7ZD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,WAAa,4BAA4B,KAAO,sBAAsB,UAAY,2BAA2B,WAAa,4BAA4B,eAAiB,gCAAgC,KAAO,wB,mBCAlTD,EAAOC,QAAU,CAAC,UAAY,iCAAiC,QAAU,+BAA+B,UAAY,iCAAiC,aAAe,oCAAoC,aAAe,oCAAoC,MAAQ,+B,mBCAnQD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,0BAA0B,aAAe,2BAA2B,QAAU,sBAAsB,aAAe,2BAA2B,SAAW,uBAAuB,SAAW,yB,mBCArPD,EAAOC,QAAU,CAAC,QAAU,sBAAsB,SAAW,uBAAuB,QAAU,sBAAsB,YAAc,0BAA0B,SAAW,uBAAuB,WAAa,yBAAyB,KAAO,qB,mBCA3OD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,WAAa,2BAA2B,iBAAmB,iCAAiC,aAAe,6BAA6B,UAAY,4B,mBCAlPD,EAAOC,QAAU,CAAC,WAAa,wBAAwB,KAAO,kBAAkB,QAAU,qBAAqB,aAAe,0BAA0B,qBAAuB,oC,mBCA/KD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,KAAO,qBAAqB,MAAQ,wB,mBCA9HD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,QAAU,2BAA2B,SAAW,4BAA4B,OAAS,0BAA0B,gBAAkB,mCAAmC,eAAiB,kCAAkC,aAAe,gCAAgC,SAAW,4BAA4B,WAAa,8BAA8B,aAAe,gCAAgC,kBAAoB,qCAAqC,eAAiB,kCAAkC,aAAe,gCAAgC,gBAAkB,mCAAmC,eAAiB,kCAAkC,iBAAmB,oCAAoC,aAAe,gCAAgC,gBAAkB,qC,+BCD51B,wvBAKW+L,EAAa,8BAEX4O,EAA0B,SAACZ,EAAOC,GAC3C,OAAO1M,OAAA,UAAcvB,EAAd,SAAiC,CAAC,MAASgO,EAAO,SAAYC,IAChE3W,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIf8Y,EAAqB,WAC9B,OAAOhK,MAAA,UAAavB,EAAb,8BAA6CqB,aAAaC,QAAQ,eACpEhK,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAMf6d,EAA0B,SAACtC,EAAOqB,EAAWC,EAAUrB,EAAUzK,EAASD,EAAKgM,GACxF,OAAOhO,OAAA,UAAcvB,EAAd,QAAgC,CACnC,MAASgO,EACT,UAAaqB,EACb,SAAYC,EACZ,SAAYrB,EACZ,QAAWzK,EACX,IAAOD,EACP,MAASgM,IAERjY,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAMfqD,EAAoB,WAC7B,OAAOyL,MAAA,UAAavB,EAAb,0BAAyCqB,aAAaC,QAAQ,eAChEhK,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfsD,EAAqB,SAACxC,GAC/B,OAAOgO,MAAA,UAAavB,EAAb,2BAA0CqB,aAAaC,QAAQ,aAA/D,qBAAwF/N,IAC1F+D,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfwD,EAAsB,SAAC1C,GAChC,OAAOgO,SAAA,UAAgBvB,EAAhB,iBAA2C,CAC9CvN,KAAM,CACF,MAAS4O,aAAaC,QAAQ,aAC9B,SAAY/N,KAGf+D,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAKf2D,EAAuB,SAACD,EAAUZ,GAC3C,OAAOgM,SAAA,UAAgBvB,EAAhB,kBACH,CACIvN,KAAM,CACF,MAAS4O,aAAaC,QAAQ,aAC9B,SAAYnL,EACZ,UAAaZ,KAGpB+B,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAKfY,EAAoB,SAACjC,GAC9B,OAAOmQ,OAAA,UAAcvB,EAAd,iBAAyC,CAC5C,MAASqB,aAAaC,QAAQ,aAC9B,OAAUlQ,IAETkG,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAKf+D,EAAwB,SAACL,EAAUI,GAC5C,OAAOgL,OAAA,UAAcvB,EAAd,gBACH,CACI,MAASqB,aAAaC,QAAQ,aAC9B,SAAYnL,EACZ,KAAQI,IAEXe,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAMf8U,EAAoB,SAACwJ,EAAMlf,GACpC,OAAO0P,MAAA,UAAavB,EAAb,0BAAyCqB,aAAaC,QAAQ,aAA9D,iBAAmFyP,EAAnF,kBAAiGlf,IACnGyF,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfO,EAAkB,SAAC5B,GAC5B,OAAOmQ,SAAA,UAAgBvB,EAAhB,mBACH,CACIvN,KAAM,CACF,MAAS4O,aAAaC,QAAQ,aAC9B,OAAUlQ,KAIjBkG,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfS,EAAgB,SAAC9B,GAC1B,OAAOmQ,OAAA,UAAcvB,EAAd,iBAEH,CACI,MAASqB,aAAaC,QAAQ,aAC9B,OAAUlQ,IAIbkG,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAOfD,EAAkB,SAACue,EAAMlf,GAClC,OAAO0P,MAAA,UAAavB,EAAb,wBAAuCqB,aAAaC,QAAQ,aAA5D,iBAAiFyP,EAAjF,kBAA+Flf,IACjGyF,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfK,EAAqB,SAACie,EAAMlf,EAAOmf,EAAUne,GACtD,OAAIA,EAAWkK,OAAS,EACbwE,MAAA,UAAavB,EAAb,wBAAuCqB,aAAaC,QAAQ,aAA5D,iBAAiFyP,EAAjF,kBAA+Flf,EAA/F,qBAAiHmf,EAAjH,uBAAwIne,IAC1IyE,MAAK,SAAAmK,GACF,OAAOA,EAAShP,QAGrBD,EAAgBue,EAAMlf,IAKpBsJ,EAAiB,SAAC4V,EAAMlf,GACjC,OAAO0P,MAAA,UAAavB,EAAb,uBAAsCqB,aAAaC,QAAQ,aAA3D,iBAAgFyP,EAAhF,kBAA8Flf,IAChGyF,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAOf2R,EAA0B,SAAC1I,GACpC,OAAO6F,MAAA,UAAavB,EAAb,8BAA6CqB,aAAaC,QAAQ,aAAlE,YAAkF5F,EAAU,aAAD,OAAcA,GAAY,KACvHpE,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfkN,EAAoB,SAACjE,GAC9B,OAAO6F,MAAA,UAAavB,EAAb,wBAAuCqB,aAAaC,QAAQ,aAA5D,YAA4E5F,EAAU,aAAD,OAAcA,GAAY,KACjHpE,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfmN,EAAoB,SAACnE,GAC9B,OAAO8F,OAAA,UAAcvB,EAAd,YAAoC,CACvC,MAASqB,aAAaC,QAAQ,aAC9B,SAAY7F,IAEXnE,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIfoN,EAAoB,SAAC7F,GAC9B,OAAOuH,SAAA,UAAgBvB,EAAhB,eAAyC,CACxCvN,KAAM,CACF,MACI4O,aAAaC,QAAQ,aACzB,OAAUtH,KAIjB1C,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIf+R,EAA0B,SAACR,GACpC,OAAOzC,MAAA,UAAavB,EAAb,kBAAyC,CAE5C,MAASqB,aAAaC,QAAQ,aAC9B,WAAc0C,IAEb1M,MAAK,SAAAmK,GACF,OAAOA,EAAShP,SAIf4R,EAAmB,SAAC3I,GAC7B,OAAO6F,MAAA,UAAavB,EAAb,yBAAwCqB,aAAaC,QAAQ,aAA7D,YAA6E5F,EAAU,aAAD,OAAcA,GAAY,KAClHpE,MAAK,SAAAmK,GACF,OAAOA,EAAShP,U,2EC1Lb2H,IArCI,SAACpB,GAUhB,IATA,IAAIiY,EAAaC,KAAKC,KAAKnY,EAAMrG,WAAaqG,EAAMpI,UAChDwgB,EAAc,GAEdC,EAAeH,KAAKC,KAAKF,EADX,GAElB,EAAwC3O,mBAAS,GAAjD,mBAAKgP,EAAL,KAAoBC,EAApB,KAEIC,EAJc,GAIOF,EAAgB,GAAmB,EACxDG,EALc,EAKOH,EAEhBI,EAAI,EAAGA,GAAKT,EAAYS,IAC7BN,EAAYO,KAAKD,GAErB,IAAIE,EAAkBR,EACjBrd,QAAO,SAACgG,GAAD,OAAOA,GAAKyX,GAAqBzX,GAAK0X,KAC7C9d,KAAI,SAACoG,GAAD,OAAO,sBAERlC,UAAWkC,IAAMf,EAAMrI,YAAZ,UAA6BmH,IAAE+Z,aAA/B,YAA+C/Z,IAAEga,YAAeha,IAAEga,WAC7EhW,QAAS,WACL9C,EAAMtH,eAAeqI,IAJjB,SAKJA,GAJCA,MAMb,OAAO,gCACFuX,EAAgB,EACb,wBAAQxV,QAAS,WACbyV,EAAiBD,EAAgB,GACjCtY,EAAMtH,eAAe8f,EAAoB,IAF7C,gBAGqB,KACxBI,EACAN,EAAgBD,EACb,wBAAQvV,QAAS,WACbyV,EAAiBD,EAAgB,GACjCtY,EAAMtH,eAAe+f,EAAqB,IAF9C,gBAGqB,U,mBCnCjCzd,EAAOC,QAAU,CAAC,SAAW,2BAA2B,SAAW,2BAA2B,kBAAoB,oCAAoC,aAAe,+BAA+B,WAAa,+B,mBCAjND,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,YAAc,6BAA6B,cAAgB,kC","file":"static/js/main.7ed5414e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/standUserAva.ab7efdc7.png\";","import {\r\n    followRequest,\r\n    getUsersRequest,\r\n    goToDialogRequest,\r\n    searchUsersRequest,\r\n    unFollowRequest\r\n} from \"../../DAL/ApiRequests\";\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_USERS_TOTAL_COUNT = \"SET_USERS_TOTAL_COUNT\";\r\nconst SET_CURRENT_USERS_PAGE = \"SET_CURRENT_USERS_PAGE\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_IS_WROTE = \"SET_IS_WROTE\";\r\nconst UP_TOGGLE_IS_WROTE_PROGRESS = \"UP_TOGGLE_IS_WROTE_PROGRESS\";\r\nconst UP_TOGGLE_FOLLOWING_PROGRESS = \"UP_TOGGLE_FOLLOWING_PROGRESS\";\r\nconst TOGGLE_SEARCH_USERS_PROGRESS = \"TOGGLE_SEARCH_USERS_PROGRESS\";\r\n\r\nlet initialUsersPage = {\r\n\r\n    usersData: [],\r\n    currentPage: 1,\r\n    pageSize: 7,\r\n    totalUsersCount: 0,\r\n    isFetching: false,\r\n    isWrote: false,\r\n    followingInProgress: [],\r\n    setIsWroteInProgress: [],\r\n    searchUsersInProgress: false,\r\n};\r\n\r\nconst usersPageReducer = (usersPage = initialUsersPage, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...usersPage,\r\n                usersData: usersPage.usersData.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...usersPage,\r\n                usersData: usersPage.usersData.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: !action.error ? true : false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...usersPage, usersData: [...action.usersData]\r\n            }\r\n\r\n        case SET_CURRENT_USERS_PAGE:\r\n            return {\r\n                ...usersPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return {\r\n                ...usersPage, totalUsersCount: action.count\r\n            }\r\n\r\n        case SET_IS_WROTE:\r\n            return {...usersPage, isWrote: action.isWrote}\r\n\r\n        case UP_TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                setIsWroteInProgress: action.inProgress ? [...usersPage.setIsWroteInProgress, action.userId] :\r\n                    usersPage.setIsWroteInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        case UP_TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                followingInProgress: action.inProgress ? [...usersPage.followingInProgress, action.userId] :\r\n                    usersPage.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        case TOGGLE_SEARCH_USERS_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                searchUsersInProgress: action.searchUsersInProgress\r\n            }\r\n\r\n        default: {\r\n            return usersPage\r\n        }\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId, message) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n        message\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (userId, message, error) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId,\r\n        message,\r\n        error,\r\n    }\r\n}\r\n\r\nexport const setUsers = (usersData) => {\r\n    return {\r\n        type: SET_USERS,\r\n        usersData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number) => {\r\n    return {\r\n        type: SET_CURRENT_USERS_PAGE,\r\n        number\r\n    }\r\n}\r\nexport const setUserTotalCount = (count) => {\r\n    return {\r\n        type: SET_USERS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (isFetch) => {\r\n    return {\r\n        type: SET_IS_FETCHING,\r\n        isFetch\r\n    }\r\n}\r\nexport const setIsWrote = (isWrote) => {\r\n    return {\r\n        type: SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\n\r\nexport const toggleSetIsWroteProgress = (inProgress, userId) => {\r\n    return {\r\n        type: UP_TOGGLE_IS_WROTE_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (inProgress, userId) => {\r\n    return {\r\n        type: UP_TOGGLE_FOLLOWING_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\nexport const toggleSearchUsersProgress = (searchUsersInProgress) => {\r\n    return {\r\n        type: TOGGLE_SEARCH_USERS_PROGRESS,\r\n        searchUsersInProgress: searchUsersInProgress\r\n    }\r\n}\r\n\r\nexport const setUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true))\r\n        const data = await getUsersRequest(currentPage, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const searchUsersThunkCreator = (currentPage, pageSize, searchText) => {\r\n    return async (dispatch) => {\r\n        toggleSearchUsersProgress(true)\r\n        const data = await searchUsersRequest(currentPage, pageSize, true, searchText)\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n        dispatch(toggleSearchUsersProgress(false))\r\n    }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(userId, data.message, data.error))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkCreator = (number, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(number))\r\n        dispatch(setIsFetching(true))\r\n        const data = await getUsersRequest(number, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleSetIsWroteProgress(true, userId))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleSetIsWroteProgress(false, userId))\r\n    }\r\n}\r\n\r\n\r\nexport default usersPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3GEEm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__37aTB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"ProfilePage_profilePage__1v0sS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"AuthoReg_main__2SsnM\",\"form\":\"AuthoReg_form__FkHsO\",\"autoReg\":\"AuthoReg_autoReg__YtsmX\",\"authorisation\":\"AuthoReg_authorisation__2sirQ\",\"entryButton\":\"AuthoReg_entryButton__3joip\",\"imgLoadWrap\":\"AuthoReg_imgLoadWrap__2tnHN\",\"registration\":\"AuthoReg_registration__1DiEh\",\"regButton\":\"AuthoReg_regButton__3wMbq\",\"authLink\":\"AuthoReg_authLink__3AwIA\",\"link\":\"AuthoReg_link__1ADaR\",\"addImg\":\"AuthoReg_addImg__39XFH\",\"loadedImg\":\"AuthoReg_loadedImg__6qvu_\",\"summaryErrorBar\":\"AuthoReg_summaryErrorBar__3OO6I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrap\":\"ProfileInfo_profileInfoWrap__21npk\",\"profileInfo\":\"ProfileInfo_profileInfo__37NZF\",\"ProfileStatus\":\"ProfileInfo_ProfileStatus__kWrzt\",\"statusValue\":\"ProfileInfo_statusValue__3-Pw3\",\"inputStatus\":\"ProfileInfo_inputStatus__2r1-C\",\"inputStatusArea\":\"ProfileInfo_inputStatusArea__jIbXg\",\"ava\":\"ProfileInfo_ava__2MQDi\",\"userData\":\"ProfileInfo_userData__3M54u\",\"name\":\"ProfileInfo_name__lNL1_\",\"modal\":\"ProfileInfo_modal__28SLg\",\"modalName\":\"ProfileInfo_modalName__1fTWo\",\"choiceFile\":\"ProfileInfo_choiceFile__2X3Rr\",\"modalContent\":\"ProfileInfo_modalContent__DXr_w\",\"addImgInput\":\"ProfileInfo_addImgInput__YUEp_\",\"submitInput\":\"ProfileInfo_submitInput__2D1ZT\",\"changeAvaStatus\":\"ProfileInfo_changeAvaStatus__1YHab\",\"loadedImg\":\"ProfileInfo_loadedImg__1IYp9\",\"activity\":\"ProfileInfo_activity__3513U\",\"activityButton\":\"ProfileInfo_activityButton__3bT-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1IZr-\",\"navItem\":\"Nav_navItem__1qv9U\",\"link\":\"Nav_link__1BqEI\",\"logoutLink\":\"Nav_logoutLink__N7lpE\",\"activeLink\":\"Nav_activeLink__1kvgm\",\"logoutButton\":\"Nav_logoutButton__3A0cD\"};","import {\r\n    deleteDialogRequest,\r\n    deleteMessageRequest,\r\n    getDialogsRequest,\r\n    getMessagesRequest,\r\n    sendNewMessageRequest\r\n} from \"../../DAL/ApiRequests\";\r\n\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\nconst SET_MESSAGES = \"SET_MESSAGES\";\r\nconst SET_DIALOGS = \"SET_DIALOGS\";\r\nconst SET_CURRENT_DIALOG = \"SET_CURRENT_DIALOG\";\r\nconst DELETE_DIALOG = \"DELETE_DIALOG\";\r\nconst DELETE_MESSAGE = \"DELETE_MESSAGE\";\r\nconst TOGGLE_SET_CURRENT_DIALOG_PROGRESS = \"TOGGLE_SET_CURRENT_DIALOG_PROGRESS\";\r\nconst TOGGLE_DELETE_DIALOG_PROGRESS = \"TOGGLE_DELETE_DIALOG_PROGRESS\";\r\nconst TOGGLE_DELETE_MESSAGE_PROGRESS = \"TOGGLE_DELETE_MESSAGE_PROGRESS\";\r\nconst TOGGLE_SEND_MESSAGE_PROGRESS = \"TOGGLE_SEND_MESSAGE_PROGRESS\";\r\n\r\nlet initialDialogsPage = {\r\n    dialogsData: [],\r\n    messagesData: [],\r\n    currentDialogId: \"\",\r\n    setCurrentDialogInProgress: false,\r\n    deleteDialogInProgress: false,\r\n    deleteMessageInProgress: false,\r\n    sendMessageInProgress: false,\r\n};\r\n\r\nconst dialogsPageReducer = (dialogsPage = initialDialogsPage, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE: {\r\n            let newMessage = {\r\n                id: action.id,\r\n                name: action.name,\r\n                text: action.text,\r\n                img: action.img,\r\n                time: action.time\r\n            };\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: [...dialogsPage.messagesData, newMessage],\r\n            };\r\n        }\r\n\r\n\r\n        case SET_MESSAGES: {\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: [...action.messagesData]\r\n            }\r\n        }\r\n\r\n        case DELETE_DIALOG: {\r\n            return {\r\n                ...dialogsPage,\r\n                dialogsData: dialogsPage.dialogsData.map(d => {\r\n                    if (d.idDialog === action.idDialog) {\r\n                        return {...d, isDeleted: true}\r\n                    }\r\n                    return d\r\n                })\r\n            }\r\n        }\r\n\r\n        case DELETE_MESSAGE: {\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: dialogsPage.messagesData.map(m => {\r\n                    if (m.id === action.idMessage) {\r\n                        return {...m, isDeleted: true}\r\n                    }\r\n                    return m\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_DIALOGS: {\r\n            return {\r\n                ...dialogsPage,\r\n                dialogsData: [...action.dialogsData]\r\n            }\r\n        }\r\n\r\n        case SET_CURRENT_DIALOG: {\r\n            return {\r\n                ...dialogsPage,\r\n                currentDialogId: action.selectedDialogId\r\n            }\r\n        }\r\n\r\n        case TOGGLE_SET_CURRENT_DIALOG_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                setCurrentDialogInProgress: action.setCurrentDialogInProgress\r\n            }\r\n        case TOGGLE_DELETE_DIALOG_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                deleteDialogInProgress: action.deleteDialogInProgress\r\n            }\r\n\r\n        case TOGGLE_DELETE_MESSAGE_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                deleteMessageInProgress: action.deleteMessageInProgress\r\n            }\r\n\r\n        case TOGGLE_SEND_MESSAGE_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                sendMessageInProgress: action.sendMessageInProgress\r\n            }\r\n\r\n\r\n        default:\r\n            return dialogsPage;\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessage = (name, img, id, text, time) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        name: name,\r\n        img: img,\r\n        id: id,\r\n        text: text,\r\n        time: time\r\n    }\r\n}\r\nexport const deleteDialog = (idDialog, message) => {\r\n    return {\r\n        type: DELETE_DIALOG,\r\n        idDialog: idDialog,\r\n        message: message\r\n\r\n    }\r\n}\r\n\r\nexport const setMessages = (messagesData) => {\r\n    return {\r\n        type: SET_MESSAGES,\r\n        messagesData\r\n    }\r\n}\r\n\r\nexport const deleteMessage = (idMessage, message) => {\r\n    return {\r\n        type: DELETE_MESSAGE,\r\n        idMessage,\r\n        message\r\n    }\r\n}\r\n\r\nexport const setDialogs = (dialogsData) => {\r\n    return {\r\n        type: SET_DIALOGS,\r\n        dialogsData\r\n    }\r\n}\r\n\r\nexport const setCurrentDialog = (selectedDialogId) => {\r\n    return {\r\n        type: SET_CURRENT_DIALOG,\r\n        selectedDialogId\r\n    }\r\n}\r\n\r\nexport const toggleSetCurrentDialogProgress = (setCurrentDialogInProgress) => {\r\n    return {\r\n        type: TOGGLE_SET_CURRENT_DIALOG_PROGRESS,\r\n        setCurrentDialogInProgress\r\n    }\r\n}\r\n\r\nexport const toggleDeleteDialogProgress = (deleteDialogInProgress) => {\r\n    return {\r\n        type: TOGGLE_DELETE_DIALOG_PROGRESS,\r\n        deleteDialogInProgress\r\n    }\r\n}\r\nexport const toggleDeleteMessageProgress = (deleteMessageInProgress) => {\r\n    return {\r\n        type: TOGGLE_DELETE_MESSAGE_PROGRESS,\r\n        deleteMessageInProgress\r\n    }\r\n}\r\n\r\nexport const toggleSendMessageProgress = (sendMessageInProgress) => {\r\n    return {\r\n        type: TOGGLE_SEND_MESSAGE_PROGRESS,\r\n        sendMessageInProgress\r\n    }\r\n}\r\n\r\nexport const setDialogsThunkCreator = (currentDialogId) => {\r\n    return async (dispatch) => {\r\n        const data = await getDialogsRequest()\r\n        if (data) {\r\n            dispatch(setDialogs(data.items))\r\n        }\r\n        if (currentDialogId) {\r\n            const data = await getMessagesRequest(currentDialogId)\r\n            if (data) {\r\n                dispatch(setMessages(data.items))\r\n            } else if (data === null) {\r\n                dispatch(setMessages([]))\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const deleteDialogThunkCreator = (idDialog, currentDialogId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleDeleteDialogProgress(true))\r\n        const data = await deleteDialogRequest(idDialog)\r\n        dispatch(deleteDialog(idDialog, data.message))\r\n        if (currentDialogId === idDialog) {\r\n            dispatch(setCurrentDialog(\"\"))\r\n        }\r\n        dispatch(toggleDeleteDialogProgress(false))\r\n    }\r\n}\r\n\r\nexport const deleteMessageThunkCreator = (dialogId, idMessage) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleDeleteMessageProgress(true))\r\n        const data = await deleteMessageRequest(dialogId, idMessage)\r\n        dispatch(deleteMessage(idMessage, data.message))\r\n        dispatch(toggleDeleteMessageProgress(false))\r\n    }\r\n}\r\n\r\nexport const cetCurrentDialogThunkCreator = (idDialog) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleSetCurrentDialogProgress(true))\r\n        const data = await getMessagesRequest(idDialog)\r\n        if (data) {\r\n            dispatch(setMessages(data.items))\r\n        } else if (data === null) {\r\n            dispatch(setMessages([]))\r\n        }\r\n        dispatch(toggleSetCurrentDialogProgress(false))\r\n    }\r\n}\r\n\r\nexport const sendMessageThunkCreator = (dialogId, messageText) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleSendMessageProgress(true))\r\n        const data = await sendNewMessageRequest(dialogId, messageText)\r\n                dispatch(sendMessage(data[0].name, data[0].img, data[0].id, data[0].text, data[0].time))\r\n                dispatch(toggleSendMessageProgress(false))\r\n    }\r\n}\r\n\r\n\r\nexport default dialogsPageReducer;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport s from \"./Footer.module.css\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            FOOTER\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import React from 'react';\r\nimport s from \"./Header.module.css\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.headerWRap}>\r\n                <div className={s.logo}><img\r\n                    src='https://wonder-day.com/wp-content/uploads/2020/10/wonder-day-among-us-21.png'/></div>\r\n                <div className={s.title}><p>VLopatiche</p></div>\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport s from './Settings.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    }\r\n}\r\n\r\nclass SettingsContainer extends  React.Component {\r\n    render() {\r\n        return <Settings/>\r\n    }\r\n}\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.settings}>\r\n            <h1>СТРАНИЦА НАСТРОЕК (В РАЗРАБОТКЕ)</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {}),\r\n    CheckAuthRedirect\r\n)(SettingsContainer)\r\n","import s from './News.module.css';\r\nimport React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n\r\n            <div className={s.avaNews}>\r\n                <img src={props.img} alt=\"avaNews\"/>\r\n            </div>\r\n            <div className={s.newsContent}>\r\n                <div className={s.resourceName}>\r\n                    <NavLink className={s.resourceLink}\r\n                             to={\"/AuthUser/ProfilePage/\" + props.resourceId}><h2>{props.name}</h2></NavLink>\r\n                </div>\r\n                <div className={s.newsText}>\r\n                    <p>{props.text}</p>\r\n                </div>\r\n                <div className={s.dateTime}>\r\n                    <p>{props.dateTime}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(News);","import s from './NewsPage.module.css';\r\nimport React from 'react';\r\nimport News from \"./News/News\";\r\nimport Pagination from \"../Pagination\";\r\n\r\nconst NewsPage = (props) => {\r\n\r\n    let newsItems = props.newsData.map(n => {\r\n        return <News key={n.idPost}\r\n                     id={n.idPost}\r\n                     resourceId={n.resourceId} img={n.img}\r\n                     name={n.name} text={n.text}\r\n                     dateTime={n.dateTime}/>\r\n    })\r\n\r\n    return (\r\n        <div className={s.newsPage}>\r\n            <div className={s.newsList}>\r\n                {newsItems}\r\n                <div className={s.selectingPageMenu}><Pagination totalCount={props.totalNewsCount}\r\n                                                                 pageSize={props.pageSize}\r\n                                                                 currentPage={props.currentPage}\r\n                                                                 setCurrentPage={props.onSetCurrentPage}/></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(NewsPage);","import {getNewsRequest} from \"../../DAL/ApiRequests\";\r\n\r\nconst SET_NEWS = \"SET_NEWS\";\r\nconst SET_CURRENT_NEWS_PAGE = \"SET_CURRENT_NEWS_PAGE\";\r\nconst SET_NEWS_TOTAL_COUNT = \"SET_NEWS_TOTAL_COUNT\";\r\nlet initialNewsPage = {\r\n    newsData: [],\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    totalNewsCount: 0,\r\n};\r\n\r\nconst newsPageReducer = (newsPage = initialNewsPage, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_NEWS:\r\n            return {\r\n                ...newsPage, newsData: [...action.newsData]\r\n            }\r\n\r\n        case SET_CURRENT_NEWS_PAGE:\r\n            return {\r\n                ...newsPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_NEWS_TOTAL_COUNT:\r\n            return {\r\n                ...newsPage, totalNewsCount: action.count\r\n            }\r\n\r\n        default:\r\n            return newsPage;\r\n    }\r\n}\r\n\r\n\r\nexport const setNews = (newsData) => {\r\n    return {\r\n        type: SET_NEWS,\r\n        newsData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number) => {\r\n    return {\r\n        type: SET_CURRENT_NEWS_PAGE,\r\n        number\r\n    }\r\n}\r\n\r\nexport const setNewsTotalCount = (count) => {\r\n    return {\r\n        type: SET_NEWS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setNewsThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        const data = await getNewsRequest(currentPage, pageSize)\r\n        if (data) {\r\n            dispatch(setNews(data.items))\r\n            dispatch(setNewsTotalCount(data.totalCount))\r\n        }\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkCreator = (number, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(number))\r\n        const data = await getNewsRequest(number, pageSize)\r\n        dispatch(setNews(data.items))\r\n        dispatch(setNewsTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport default newsPageReducer;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport NewsPage from \"./NewsPage\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setCurrentPageThunkCreator,\r\n    setNewsThunkCreator,\r\n} from \"../../Redux/Reducers/NewsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newsPage: state.newsPage,\r\n    }\r\n}\r\n\r\n\r\nclass NewsPageContainer extends React.Component {\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setNewsThunkCreator(this.props.newsPage.currentPage, this.props.newsPage.pageSize)\r\n    }\r\n\r\n\r\n    onSetCurrentPage = (number) => {\r\n        this.props.setCurrentPageThunkCreator(number, this.props.newsPage.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <NewsPage onSetCurrentPage={this.onSetCurrentPage}\r\n                      currentPage={this.props.newsPage.currentPage}\r\n                      totalNewsCount={this.props.newsPage.totalNewsCount}\r\n                      pageSize={this.props.newsPage.pageSize}\r\n                      newsData={this.props.newsPage.newsData}/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setNewsThunkCreator,\r\n        setCurrentPageThunkCreator\r\n    }),\r\n    CheckAuthRedirect\r\n)(NewsPageContainer)","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.postBox}>\r\n            <div className={s.avaPost}>\r\n                <img src={props.avaImg} alt=\"avapost\"/>\r\n            </div>\r\n            <div className={s.postContent}>\r\n                <div className={s.name}><p>{props.name}</p></div>\r\n                <div className={s.postText}>\r\n                    <p>{props.text}</p>\r\n                </div>\r\n                <div className={s.dateTime}><p>{props.dateTime}</p>\r\n                </div>\r\n            </div>\r\n            {!props.profileId ? <div className={s.deletePost}>\r\n                <button disabled={props.deletePostInProgress} onClick={() => props.onDeletePost(props.idPost)}><p>×</p>\r\n                </button>\r\n            </div> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Post);","import React from \"react\";\r\nimport sForm from \"./FormsElements.module.css\"\r\n\r\n\r\nexport const CreateFormItem = (Component) => ({input, meta, ...props}) => {\r\n    const haveError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={sForm.formBar}>\r\n            <Component {...input} {...props} className={Component === \"textarea\" ? sForm.textareaForm : sForm.inputForm + \" \" + (haveError ? sForm.error : null)}/>\r\n            {haveError ?\r\n                <span className={sForm.errorText}>{meta.error}</span>\r\n                : null}\r\n        </div>\r\n    )\r\n}","\r\nexport const requiredField = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return \"Это обязательное поле\"\r\n}\r\n\r\nexport const checkLenghtCreator = (minLenght, maxLenght) => (value) => {\r\n    if (value && value.length > maxLenght) {\r\n        return `Максимальная длинна - ${maxLenght}`\r\n    }\r\n    if (value && value.length < minLenght) {\r\n        return `Минимальная длинна - ${minLenght}`\r\n    }\r\n    return undefined\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator} from \"../../Common/Validators/Validators\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let postsItems =\r\n        props.postsData.map(p => p.isDeleted ? null : <Post key={p.idPost}\r\n                                                            avaImg={props.avaImg}\r\n                                                            name={props.name}\r\n                                                            text={p.text}\r\n                                                            dateTime={p.dateTime}\r\n                                                            idPost={p.idPost}\r\n                                                            onDeletePost={props.onDeletePost}\r\n                                                            deletePostInProgress={props.deletePostInProgress}\r\n                                                            profileId = {props.profileId}/>)\r\n\r\n\r\n    const onSubmit = (formData, dispatch) => {\r\n        props.onAddNewPost(formData.postText)\r\n        dispatch(reset(\"addPost\"))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            {!props.profileId ?<ReduxAddPostForm addPostInProgress={props.addPostInProgress} onSubmit={onSubmit}/>:null}\r\n            <h2>{!props.profileId ? \"Ваши посты:\":\"Посты пользователя:\"}</h2>\r\n            {props.postsData.length > 0 ? postsItems : \"В профиле пока нет постов\"}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst TextAreaForm = CreateFormItem(\"textarea\")\r\nconst requiredLength = checkLenghtCreator(0, 500)\r\n\r\nconst AddPostForm = (props) => {\r\n    return <form className={s.addPostForm} onSubmit={props.handleSubmit}>\r\n        <Field placeholder=\"Есть что нового ?\"\r\n               name=\"postText\" validate={[requiredLength]} component={TextAreaForm}/>\r\n        <button\r\n            disabled={props.addPostInProgress}\r\n            className={s.addPostButton}>Опубликовать\r\n        </button>\r\n    </form>\r\n}\r\n\r\nconst ReduxAddPostForm = reduxForm({\r\n    form: \"addPost\"\r\n})(AddPostForm)\r\n\r\nexport default React.memo(MyPosts);","import {\r\n    addNewPostRequest,\r\n    deletePostRequest, followRequest,\r\n    getMyPostsRequest,\r\n    getMyProfileInfoRequest, getStatusRequest, goToDialogRequest, unFollowRequest,\r\n    updateUserStatusRequest\r\n} from \"../../DAL/ApiRequests\";\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst PPActionsTypes = {\r\n    ADD_POST: \"ADD_POST\",\r\n    SET_POSTS: \"SET_POSTS\",\r\n    SET_PROFILE_INFO: \"SET_PROFILE_INFO\",\r\n    DELETE_POST: \"DELETE_POST\",\r\n    SET_CHANGE_AVA_IS_ACTIVE: \"SET_CHANGE_AVA_IS_ACTIVE\",\r\n    SET_CHANGE_AVA_STATUS: \"SET_CHANGE_AVA_STATUS\",\r\n    TOGGLE_ADD_POST_PROGRESS: \"TOGGLE_ADD_POST_PROGRESS\",\r\n    TOGGLE_DELETE_POST_PROGRESS: \"TOGGLE_DELETE_POST_PROGRESS\",\r\n    SET_STATUS: \"SET_STATUS\",\r\n    TOGGLE_IS_WROTE_PROGRESS: \"SP_TOGGLE_IS_WROTE_PROGRESS\",\r\n    TOGGLE_FOLLOWING_PROGRESS: \"SP_TOGGLE_FOLLOWING_PROGRESS\",\r\n    SET_IS_WROTE: \"SET_IS_WROTE\",\r\n    UNFOLLOW: \"UNFOLLOW\",\r\n    FOLLOW: \"FOLLOW\",\r\n}\r\n\r\nlet initialProfilePage = {\r\n    postsData: [],\r\n    profileData: [{}],\r\n    changeAvaIsActive: false,\r\n    changeAvaStatus: null,\r\n    addPostInProgress: false,\r\n    deletePostInProgress: false,\r\n    status: \"\",\r\n    isWrote: false,\r\n    setIsWroteInProgress: false,\r\n    followingInProgress: false,\r\n};\r\n\r\n\r\nconst profilePageReducer = (profilePage = initialProfilePage, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case PPActionsTypes.UNFOLLOW:\r\n            return {\r\n                ...profilePage,\r\n                profileData: profilePage.profileData.map(f => {\r\n                    return {...f, followed: false}\r\n                })\r\n            }\r\n\r\n\r\n        case PPActionsTypes.FOLLOW:\r\n            return {\r\n                ...profilePage,\r\n                profileData: profilePage.profileData.map(f => {\r\n                    return {...f, followed: true}\r\n                })\r\n            }\r\n\r\n        case PPActionsTypes.SET_IS_WROTE:\r\n            return {...profilePage, isWrote: action.isWrote}\r\n\r\n\r\n        case PPActionsTypes.ADD_POST: {\r\n            let newPost = {\r\n                idPost: action.idPost,\r\n                text: action.text,\r\n                dateTime: action.dateTime\r\n            };\r\n            return {\r\n                ...profilePage,\r\n                postsData: [newPost, ...profilePage.postsData],\r\n            };\r\n\r\n        }\r\n\r\n        case PPActionsTypes.SET_CHANGE_AVA_IS_ACTIVE : {\r\n            return {\r\n                ...profilePage,\r\n                changeAvaIsActive: action.changeAvaIsActive\r\n            }\r\n        }\r\n\r\n        case PPActionsTypes.SET_CHANGE_AVA_STATUS: {\r\n            return {\r\n                ...profilePage,\r\n                changeAvaStatus: action.status\r\n            }\r\n        }\r\n\r\n        case PPActionsTypes.DELETE_POST: {\r\n            return {\r\n                ...profilePage,\r\n                postsData: profilePage.postsData.map(p => {\r\n                    if (p.idPost === action.idPost) {\r\n                        return {...p, isDeleted: true}\r\n                    }\r\n                    return p\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n        case PPActionsTypes.SET_PROFILE_INFO:\r\n            return {\r\n                ...profilePage,\r\n                profileData: [action.profileData]\r\n            }\r\n\r\n\r\n        case PPActionsTypes.SET_POSTS:\r\n            if (action.postsData) {\r\n                return {\r\n                    ...profilePage,\r\n                    postsData: [...action.postsData]\r\n                }\r\n            }\r\n        case PPActionsTypes.TOGGLE_ADD_POST_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                addPostInProgress: action.addPostInProgress\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_DELETE_POST_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                deletePostInProgress: action.deletePostInProgress\r\n            }\r\n\r\n        case PPActionsTypes.SET_STATUS:\r\n            return {\r\n                ...profilePage,\r\n                status: action.statusText\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                setIsWroteInProgress: action.setIsWroteInProgress\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                followingInProgress: action.followingInProgress\r\n            }\r\n\r\n        default:\r\n            return profilePage;\r\n    }\r\n    ;\r\n\r\n}\r\n\r\nexport const setIsWrote = (isWrote) => {\r\n    return {\r\n        type: PPActionsTypes.SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\nexport const follow = (message) => {\r\n    return {\r\n        type: PPActionsTypes.FOLLOW,\r\n        message\r\n    }\r\n}\r\n\r\nexport const unFollow = (message) => {\r\n    return {\r\n        type: PPActionsTypes.UNFOLLOW,\r\n        message\r\n    }\r\n}\r\n\r\nexport const setStatus = (statusText) => {\r\n    return {\r\n        type: PPActionsTypes.SET_STATUS,\r\n        statusText\r\n    }\r\n}\r\n\r\nexport const addPost = (idPost, text, dateTime) => {\r\n    return {\r\n        type: PPActionsTypes.ADD_POST,\r\n        idPost: idPost,\r\n        text: text,\r\n        dateTime: dateTime\r\n    }\r\n}\r\n\r\nexport const deletePost = (idPost, message) => {\r\n    return {\r\n        type: PPActionsTypes.DELETE_POST,\r\n        idPost: idPost,\r\n        message: message\r\n    }\r\n}\r\n\r\nexport const setPosts = (postsData) => {\r\n    return {\r\n        type: PPActionsTypes.SET_POSTS,\r\n        postsData\r\n    }\r\n}\r\n\r\nexport const setProfileInfo = (profileData) => {\r\n    return {\r\n        type: PPActionsTypes.SET_PROFILE_INFO,\r\n        profileData\r\n    }\r\n}\r\nexport const setChangeAvaIsActive = (changeAvaIsActive) => {\r\n    return {\r\n        type: PPActionsTypes.SET_CHANGE_AVA_IS_ACTIVE,\r\n        changeAvaIsActive\r\n    }\r\n}\r\nexport const setChangeAvaStatus = (status) => {\r\n    return {\r\n        type: PPActionsTypes.SET_CHANGE_AVA_STATUS,\r\n        status\r\n    }\r\n}\r\nexport const toggleAddPostProgress = (addPostInProgress) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_ADD_POST_PROGRESS,\r\n        addPostInProgress\r\n    }\r\n}\r\nexport const toggleDeletePostProgress = (deletePostInProgress) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_DELETE_POST_PROGRESS,\r\n        deletePostInProgress\r\n    }\r\n}\r\n\r\nexport const toggleSetIsWroteProgress = (setIsWroteInProgress) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_IS_WROTE_PROGRESS,\r\n        setIsWroteInProgress\r\n\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (followingInProgress) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_FOLLOWING_PROGRESS,\r\n        followingInProgress: followingInProgress\r\n    }\r\n}\r\n\r\n\r\nexport const setPostsThunkCreator = (profileId) => {\r\n    return async (dispatch) => {\r\n        const data = await getMyPostsRequest(profileId)\r\n        if (data) {\r\n            dispatch(setPosts(data.items))\r\n        } else {\r\n            dispatch(setPosts([]))\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPostThunkCreator = (postText) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleAddPostProgress(true))\r\n        const data = await addNewPostRequest(postText)\r\n        dispatch(addPost(data[0].idPost, data[0].text, data[0].dateTime))\r\n        dispatch(toggleAddPostProgress(false))\r\n    }\r\n}\r\n\r\nexport const deletePostThunkCreator = (idPost) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleDeletePostProgress(true))\r\n        const data = await deletePostRequest(idPost)\r\n        dispatch(deletePost(idPost, data.message))\r\n        dispatch(toggleDeletePostProgress(false))\r\n    }\r\n}\r\n\r\nexport const setProfileInfoThunkCreator = (profileId) => {\r\n    return async (dispatch) => {\r\n        const data = await getMyProfileInfoRequest(profileId)\r\n        dispatch(setProfileInfo(data))\r\n        const statusData = await getStatusRequest(profileId)\r\n        dispatch(setStatus(statusData.userStatus))\r\n    }\r\n}\r\n\r\nexport const setNewStatusThunkCreator = (newStatusText) => {\r\n    return async (dispatch) => {\r\n        const data = await updateUserStatusRequest(newStatusText)\r\n        if (!data.error) {\r\n            dispatch(setStatus(data.userStatus))\r\n        }\r\n    }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false))\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleSetIsWroteProgress(true))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleSetIsWroteProgress(false))\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profilePageReducer;","import React from 'react';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addPostThunkCreator,\r\n    deletePostThunkCreator,\r\n    setPostsThunkCreator,\r\n\r\n} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    }\r\n}\r\n\r\n\r\nclass MyPostsService extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setPostsThunkCreator(this.props.profileId)\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.profileId !== this.props.profileId) {\r\n            this.props.setPostsThunkCreator(this.props.profileId)\r\n        }\r\n    }\r\n\r\n\r\n    onAddNewPost = (postText) => {\r\n        if (postText) {\r\n            this.props.addPostThunkCreator(postText)\r\n        }\r\n    }\r\n\r\n    onDeletePost = (idPost) => {\r\n        this.props.deletePostThunkCreator(idPost)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <MyPosts postsData={this.props.profilePage.postsData}\r\n                     onAddNewPost={this.onAddNewPost}\r\n                     onDeletePost={this.onDeletePost}\r\n                     avaImg={this.props.profilePage.profileData[0].img}\r\n                     name={this.props.profilePage.profileData[0].name}\r\n                     addPostInProgress={this.props.profilePage.addPostInProgress}\r\n                     deletePostInProgress={this.props.profilePage.deletePostInProgress}\r\n                     profileId={this.props.profileId}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n    setPostsThunkCreator,\r\n    addPostThunkCreator,\r\n    deletePostThunkCreator\r\n})(MyPostsService)\r\n\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nimport {serverLink} from \"../../../DAL/ApiRequests\";\r\nimport {setChangeAvaIsActive, setChangeAvaStatus} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        changeAvaIsActive: state.profilePage.changeAvaIsActive,\r\n        changeAvaStatus: state.profilePage.changeAvaStatus,\r\n        registrationPage: state.registrationPage,\r\n        serverLink: state.authorizationPage.serverLink,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setChangeAvaIsActive: (changeAvaIsActive) => {\r\n            dispatch(setChangeAvaIsActive(changeAvaIsActive))\r\n        },\r\n        setChangeAvaStatus: (status) => {\r\n            dispatch(setChangeAvaStatus(status))\r\n        },\r\n    }\r\n}\r\n\r\n\r\nclass FileUploadService extends React.Component {\r\n\r\n    custom_file_upload_url = `${serverLink}/uploadImg`;\r\n\r\n    onSetChangeAvaIsActive = (changeAvaIsActive) => {\r\n        this.props.setChangeAvaIsActive(changeAvaIsActive)\r\n        if (!changeAvaIsActive && this.props.changeAvaStatus) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    onSetChangeAvaStatus = (status) => {\r\n        this.props.setChangeAvaStatus(status)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            image_file: null,\r\n            image_preview: '',\r\n        }\r\n    }\r\n\r\n    // Image Preview Handler\r\n    handleImagePreview = (e) => {\r\n        let image_as_base64 = URL.createObjectURL(e.target.files[0])\r\n        let image_as_files = e.target.files[0];\r\n\r\n        this.setState({\r\n            image_preview: image_as_base64,\r\n            image_file: image_as_files,\r\n        })\r\n    }\r\n\r\n    // Image/File Submit Handler\r\n    handleSubmitFile = () => {\r\n\r\n        if (this.state.image_file !== null) {\r\n            let formData = new FormData();\r\n            formData.append('file', this.state.image_file,);\r\n            formData.append('token', localStorage.getItem(\"userToken\"))\r\n            // the image field name should be similar to your api endpoint field name\r\n            // in my case here the field name is customFile\r\n\r\n\r\n            axios.post(\r\n                this.custom_file_upload_url,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        \"Accept\": \"application/json\",\r\n                        \"Content-type\": \"multipart/form-data\",\r\n                    },\r\n                }\r\n            )\r\n                .then(response => {\r\n                    this.onSetChangeAvaStatus(response.data.message || response.data.error)\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.modal} onClick={() => this.onSetChangeAvaIsActive(false)}>\r\n                <div className={s.modalContent} onClick={e => e.stopPropagation()}>\r\n                    <div className={s.modalName}><p>Загрузка нового фото</p></div>\r\n                    <input\r\n                        className={s.addImgInput}\r\n                        type=\"file\"\r\n                        onChange={this.handleImagePreview}/>\r\n                    <img className={s.loadedImg} src={this.state.image_preview}/>\r\n                    <div className={s.changeAvaStatus}><p>{this.props.changeAvaStatus}</p></div>\r\n                    <input className={s.submitInput} type=\"submit\" onClick={this.handleSubmitFile} value=\"Загрузить\"/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst FileUploadContainer = connect(mapStateToProps, mapDispatchToProps)(FileUploadService);\r\nexport default FileUploadContainer","import React, {useEffect, useState} from \"react\"\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, toggleEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    let activateEditMode = () => {\r\n        toggleEditMode(true)\r\n    }\r\n    let deactivateEditMode = () => {\r\n        toggleEditMode(false)\r\n    }\r\n\r\n    let onStatusTextChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    let onSetNewStatus = () => {\r\n        deactivateEditMode()\r\n        props.onSetNewStatus(status)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n\r\n    return <div className={s.ProfileStatus}>\r\n        {!editMode ? <div>\r\n                <span className={s.statusValue} onDoubleClick={activateEditMode}>\r\n                    {props.status}\r\n                </span>\r\n            </div>\r\n            :\r\n            <div className={s.inputStatusArea}>\r\n                <input onChange={onStatusTextChange} autoFocus={true} onBlur={onSetNewStatus} className={s.inputStatus}\r\n                       value={status}></input>\r\n            </div>}\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default React.memo(ProfileStatus)","import s from './ProfileInfo.module.css'\r\nimport React from 'react';\r\nimport FileUploadContainer from \"./addImg\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div className={s.profileInfoWrap}>\r\n            <div className={s.profileInfo}>\r\n                <div className={s.ava}>\r\n                    <img alt=\"ava\"\r\n                         src={props.profileData[0].img}/>\r\n                </div>\r\n                <div className={s.userData}>\r\n                    <p className={s.name}>{props.profileData[0].name}</p>\r\n                    <ProfileStatus onSetNewStatus ={props.onSetNewStatus}\r\n                                   status = {props.status}\r\n                    />\r\n                    <p>Возраст: {props.profileData[0].age}</p>\r\n                    <p>Адрес: {props.profileData[0].address}</p>\r\n                    {props.profileData[0].followed ? <div className={s.followedStatus}><p>Ваш друг</p></div> : null}\r\n                </div>\r\n            </div>\r\n            <div className={s.activity}>\r\n                {!props.profileId ?\r\n                    <div>\r\n                        <button onClick={() => props.onSetChangeAvaIsActive(true)} className={s.activityButton}>Обновить\r\n                            фото</button>\r\n                    </div> :\r\n                    <div>\r\n                        <button disabled={props.setIsWroteInProgress} onClick={() => {\r\n                            props.onMessage(props.profileData[0].userId)\r\n                        }} className={s.activityButton}>Написать\r\n                        </button>\r\n                        {props.profileData[0].followed ?\r\n                            <button disabled={props.followingInProgress}\r\n                                    onClick={() => props.onUnfollow(props.profileData[0].userId)}\r\n                                    className={s.activityButton}>Удалить</button> :\r\n                            <button disabled={props.followingInProgress}\r\n                                    onClick={() => props.onFollow(props.profileData[0].userId)}\r\n                                    className={s.activityButton}>Добавить</button>}\r\n                    </div>\r\n                }\r\n                {props.changeAvaIsActive ? <FileUploadContainer/> :null}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default React.memo(ProfileInfo);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport {\r\n    followThunkCreator, goToDialogThunkCreator,\r\n    setChangeAvaIsActive, setNewStatusThunkCreator,\r\n    setProfileInfoThunkCreator, unFollowThunkCreator,\r\n} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        changeAvaIsActive: state.profilePage.changeAvaIsActive,\r\n        profileData: state.profilePage.profileData,\r\n        status: state.profilePage.status,\r\n        setIsWroteInProgress: state.profilePage.setIsWroteInProgress,\r\n        followingInProgress: state.profilePage.followingInProgress,\r\n    }\r\n}\r\n\r\nclass ProfileInfoService extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setProfileInfoThunkCreator(this.props.profileId)\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.profileId !==this.props.profileId) {\r\n            this.props.setProfileInfoThunkCreator(this.props.profileId)\r\n        }\r\n    }\r\n\r\n    onUnfollow = (userId) => {\r\n        this.props.unFollowThunkCreator(userId)\r\n    }\r\n\r\n    onFollow = (userId) => {\r\n        this.props.followThunkCreator(userId)\r\n    }\r\n\r\n    onMessage = (userId) => {\r\n        this.props.goToDialogThunkCreator(userId)\r\n    }\r\n\r\n    onSetChangeAvaIsActive = (changeAvaIsActive) => {\r\n        this.props.setChangeAvaIsActive(changeAvaIsActive)\r\n    }\r\n\r\n    onSetNewStatus = (newStatusText) => {\r\n        this.props.setNewStatusThunkCreator(newStatusText)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ProfileInfo\r\n                profileId={this.props.profileId}\r\n                changeAvaIsActive={this.props.changeAvaIsActive}\r\n                profileData={this.props.profileData}\r\n                status={this.props.status}\r\n                onSetChangeAvaIsActive={this.onSetChangeAvaIsActive}\r\n                onSetNewStatus={this.onSetNewStatus}\r\n                onUnfollow={this.onUnfollow}\r\n                onFollow={this.onFollow}\r\n                onMessage={this.onMessage}\r\n                setIsWroteInProgress={this.props.setIsWroteInProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileInfoContainer = compose(\r\n    connect(mapStateToProps, {\r\n        setChangeAvaIsActive,\r\n        setProfileInfoThunkCreator,\r\n        setNewStatusThunkCreator,\r\n        unFollowThunkCreator,\r\n        followThunkCreator,\r\n        goToDialogThunkCreator,\r\n    })\r\n)(ProfileInfoService)\r\n\r\nexport default ProfileInfoContainer;","import React, {useState} from 'react';\r\nimport s from \"./ProfilePage.module.css\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\n\r\n\r\nconst ProfilePage = (props) => {\r\n    return (\r\n        <div className={s.profilePage}>\r\n            <ProfileInfoContainer profileId = {props.profileId}/>\r\n            <MyPostsContainer profileId = {props.profileId}/>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(ProfilePage);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth.jsx\";\r\nimport {compose} from \"redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {setIsWrote, setProfileId} from \"../../Redux/Reducers/ProfilePageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isWrote: state.profilePage.isWrote,\r\n        currentDialogId: state.dialogsPage.currentDialogId,\r\n    }\r\n}\r\n\r\n\r\nclass profilePageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.isWrote) {\r\n            this.props.setIsWrote(false)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    }\r\n\r\n\r\n    render() {\r\n        const profileId = this.props.match.params.profileId\r\n        if (this.props.isWrote && this.props.currentDialogId) {\r\n            return <Redirect to={\"/AuthUser/DialogsPage/\" + this.props.currentDialogId}/>\r\n        }\r\n        return (\r\n            <ProfilePage profileId={profileId}/>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {setIsWrote}),\r\n    CheckAuthRedirect,\r\n)(profilePageContainer)\r\n","import s from \"./Friend.module.css\"\r\nimport standUserAva from \"../../../../Assets/standUserAva.png\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Friend = (props) => {\r\n    if (props.isWrote && props.currentDialogId) {\r\n        return <Redirect to={\"/AuthUser/DialogsPage/\" + props.currentDialogId}/>\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.friend}>\r\n            <div className={s.friendAva}>\r\n                <img\r\n                    src={props.img != null ? props.img : standUserAva}\r\n                    alt=\"userAva\"/>\r\n            </div>\r\n            <div className={s.friendInfo}>\r\n                <NavLink className={s.friendLink}\r\n                         to={\"/AuthUser/ProfilePage/\" + props.id}>{`${props.name}`}</NavLink>\r\n                <button disabled={props.isWroteInProgress.some(id => id == props.id)} onClick={() => {\r\n                    props.onMessage(props.id)\r\n                }} className={`${s.toMessageButton} ${s.button}`}>Написать\r\n                </button>\r\n                {props.followed ?\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => props.onUnfollow(props.id)}\r\n                            className={`${s.unfollowButton} ${s.button}`}>Удалить</button> :\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => props.onFollow(props.id)}\r\n                            className={`${s.followButton} ${s.button}`}>Добавить</button>}\r\n                {!props.followed ? <div className={s.followedStatus}><p>Удален из друзей</p></div> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Friend)","import s from \"../FriendsPage.module.css\";\r\nimport React from \"react\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\nconst FriendList = (props) => {\r\n\r\n    let friendsItems = props.friendsData.map((f) =>\r\n        <Friend\r\n            key={f.id}\r\n            img={f.img}\r\n            id={f.id}\r\n            name={f.name}\r\n            onMessage={props.onMessage}\r\n            isWrote={props.isWrote}\r\n            currentDialogId={props.currentDialogId}\r\n            onUnfollow={props.onUnfollow}\r\n            onFollow={props.onFollow}\r\n            followed={f.followed}\r\n            followingInProgress = {props.followingInProgress}\r\n            isWroteInProgress ={props.isWroteInProgress} />\r\n    )\r\n\r\n    return (\r\n        <div className={s.friendList}>\r\n            {props.friendsData.length > 0 ? friendsItems : \"У вас пока нет друзей\"}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(FriendList)\r\n\r\n\r\n","import s from \"./FriendsPage.module.css\"\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendList from \"./FriendList/FriendList\";\r\nimport Pagination from \"../Pagination\";\r\n\r\nconst FriendsPage = (props) => {\r\n\r\n    return (\r\n        <div className={s.friendsPage}>\r\n            <div className={s.searchFriendsButtonWrap}>\r\n                <button className={s.searchFriendsButton}><NavLink className={s.searchFriends} to=\"/AuthUser/UsersPage\">Search\r\n                    new friends</NavLink></button>\r\n            </div>\r\n            <div className={s.usersListArea}><h2>Ваши друзья:</h2><FriendList friendsData={props.friendsData}\r\n                                                                              onMessage={props.onMessage}\r\n                                                                              isWrote={props.isWrote}\r\n                                                                              currentDialogId={props.currentDialogId}\r\n                                                                              onUnfollow={props.onUnfollow}\r\n                                                                              onFollow={props.onFollow}\r\n                                                                              followingInProgress={props.followingInProgress}\r\n                                                                              isWroteInProgress={props.isWroteInProgress}/>\r\n            </div>\r\n            <div className={s.selectingPageMenu}>{props.friendsData.length > 0 ?\r\n                <Pagination totalCount={props.totalFriendsCount}\r\n                            pageSize={props.pageSize}\r\n                            currentPage={props.currentPage}\r\n                            setCurrentPage={props.onSetCurrentPage}/> : null}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(FriendsPage)","import {\r\n    followRequest,\r\n    getFriendsRequest,\r\n    goToDialogRequest,\r\n    unFollowRequest\r\n} from \"../../DAL/ApiRequests\";\r\n\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst SET_FRIENDS = \"SET_FRIENDS\";\r\nconst SET_FRIENDS_TOTAL_COUNT = \"SET_FRIENDS_TOTAL_COUNT\";\r\nconst SET_CURRENT_FRIENDS_PAGE = \"SET_CURRENT_FRIENDS_PAGE\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_IS_WROTE = \"SET_IS_WROTE\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst FP_TOGGLE_FOLLOWING_PROGRESS = \"FP_TOGGLE_FOLLOWING_PROGRESS\";\r\nconst FP_TOGGLE_IS_WROTE_PROGRESS = \"FP_TOGGLE_IS_WROTE_PROGRESS\";\r\n\r\nlet initialFriendsPage = {\r\n    friendsData: [],\r\n    currentPage: 1,\r\n    pageSize: 7,\r\n    totalFriendsCount: 0,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    isWrote: false,\r\n    isWroteInProgress: [],\r\n};\r\n\r\nconst friendsPageReducer = (friendsPage = initialFriendsPage, action) => {\r\n\r\n    switch (action.type) {\r\n        case UNFOLLOW:\r\n            return {\r\n                ...friendsPage,\r\n                friendsData: friendsPage.friendsData.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...friendsPage,\r\n                friendsData: friendsPage.friendsData.map(f => {\r\n                    if (f.id === action.friendId) {\r\n                        return {...f, followed: true}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case SET_IS_WROTE:\r\n            return {...friendsPage, isWrote: action.isWrote}\r\n\r\n\r\n        case SET_FRIENDS:\r\n            if (action.friendsData) {\r\n                return {\r\n                    ...friendsPage, friendsData: [...action.friendsData]\r\n                }\r\n            }\r\n\r\n        case SET_CURRENT_FRIENDS_PAGE:\r\n            return {\r\n                ...friendsPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_FRIENDS_TOTAL_COUNT:\r\n            return {\r\n                ...friendsPage, totalFriendsCount: action.count\r\n            }\r\n        case FP_TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...friendsPage,\r\n                followingInProgress: action.inProgress ? [...friendsPage.followingInProgress, action.userId] :\r\n                    friendsPage.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        case FP_TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...friendsPage,\r\n                isWroteInProgress: action.inProgress ? [...friendsPage.isWroteInProgress, action.userId] :\r\n                    friendsPage.isWroteInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n\r\n        default: {\r\n            return friendsPage\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const setFriends = (friendsData) => {\r\n    return {\r\n        type: SET_FRIENDS,\r\n        friendsData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number) => {\r\n    return {\r\n        type: SET_CURRENT_FRIENDS_PAGE,\r\n        number\r\n    }\r\n}\r\nexport const setFriendsTotalCount = (count) => {\r\n    return {\r\n        type: SET_FRIENDS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (isFetch) => {\r\n    return {\r\n        type: SET_IS_FETCHING,\r\n        isFetch\r\n    }\r\n}\r\nexport const setIsWrote = (isWrote) => {\r\n    return {\r\n        type: SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\nexport const follow = (friendId, message) => {\r\n    return {\r\n        type: FOLLOW,\r\n        friendId,\r\n        message\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId, message) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n        message\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (inProgress, userId) => {\r\n    return {\r\n        type: FP_TOGGLE_FOLLOWING_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const toggleIsWroteProgress = (inProgress, userId) => {\r\n    return {\r\n        type: FP_TOGGLE_IS_WROTE_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\n\r\nexport const setFriendsThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true))\r\n        const data = await getFriendsRequest(currentPage, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        if (data) {\r\n            dispatch(setFriends(data.items))\r\n            dispatch(setFriendsTotalCount(data.totalCount))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const unFollowThunkActionCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const followThunkActionCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkActionCreator = (number, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(number))\r\n        dispatch(setIsFetching(true))\r\n        const data = await getFriendsRequest(number, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setFriends(data.items))\r\n        dispatch(setFriendsTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkActionCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsWroteProgress(true, userId))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleIsWroteProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport default friendsPageReducer;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport FriendsPage from \"./FriendsPage\";\r\nimport {\r\n    followThunkActionCreator, goToDialogThunkActionCreator,\r\n    setCurrentPage, setCurrentPageThunkActionCreator,\r\n    setFriendsThunkCreator,\r\n    setIsWrote,\r\n    unFollowThunkActionCreator\r\n} from \"../../Redux/Reducers/FriendsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friendsData: state.friendsPage.friendsData,\r\n        pageSize: state.friendsPage.pageSize,\r\n        totalFriendsCount: state.friendsPage.totalFriendsCount,\r\n        currentPage: state.friendsPage.currentPage,\r\n        isFetching: state.friendsPage.isFetching,\r\n        isWrote: state.friendsPage.isWrote,\r\n        serverLink: state.authorizationPage.serverLink,\r\n        currentDialogId: state.dialogsPage.currentDialogId,\r\n        followingInProgress: state.friendsPage.followingInProgress,\r\n        isWroteInProgress: state.friendsPage.isWroteInProgress,\r\n        auth: state.authorizationPage.auth\r\n    }\r\n}\r\n\r\n\r\nclass FriendsPageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.setFriendsThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setIsWrote(false)\r\n        this.props.setCurrentPage(1)\r\n    }\r\n\r\n    onUnfollow = (userId) => {\r\n        this.props.unFollowThunkActionCreator(userId)\r\n    }\r\n\r\n    onFollow = (userId) => {\r\n        this.props.followThunkActionCreator(userId)\r\n    }\r\n\r\n    onSetCurrentPage = (number) => {\r\n        this.props.setCurrentPageThunkActionCreator(number, this.props.pageSize)\r\n    }\r\n\r\n    onMessage = (userId) => {\r\n        this.props.goToDialogThunkActionCreator(userId)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <FriendsPage\r\n                totalFriendsCount={this.props.totalFriendsCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                friendsData={this.props.friendsData}\r\n                currentDialogId={this.props.currentDialogId}\r\n                onSetCurrentPage={this.onSetCurrentPage}\r\n                isWrote={this.props.isWrote}\r\n                onUnfollow={this.onUnfollow}\r\n                onFollow={this.onFollow}\r\n                onMessage={this.onMessage}\r\n                followingInProgress={this.props.followingInProgress}\r\n                isWroteInProgress={this.props.isWroteInProgress}\r\n            />\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setIsWrote,\r\n        setCurrentPage,\r\n        setFriendsThunkCreator,\r\n        unFollowThunkActionCreator,\r\n        followThunkActionCreator,\r\n        setCurrentPageThunkActionCreator,\r\n        goToDialogThunkActionCreator\r\n    }),\r\n    CheckAuthRedirect\r\n)(FriendsPageContainer)\r\n","import React from 'react';\r\nimport s from \"./Nav.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to=\"/AuthUser/ProfilePage\">Профиль</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p onClick={() => props.onGoToDialogsPage(\"\")}><NavLink className={s.link}\r\n                                                                        activeClassName={s.activeLink}\r\n                                                                        to=\"/AuthUser/DialogsPage\">Диалоги</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to=\"/AuthUser/FriendsPage\">Друзья</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink} to=\"/AuthUser/NewsPage\">Новости</NavLink>\r\n                </p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to=\"/AuthUser/Settings\">Настройки</NavLink>\r\n                </p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n\r\n                <button className={s.logoutButton} onClick={() => {\r\n                    props.onExit()\r\n                    // window.location.reload();\r\n                }}>\r\n                    Выйти\r\n                    {/*<NavLink className={`${s.link} ${s.logoutLink}`} to=\"/\">Выйти</NavLink>*/}\r\n                </button>\r\n\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import {userVerificationRequest} from \"../../DAL/ApiRequests\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst USER_VERIFICATION = \"USER_VERIFICATION\";\r\nconst RESET_VERIFICATION = \"RESET_VERIFICATION\";\r\nconst SET_USER_TOKEN = \"SET_USER_TOKEN\";\r\nconst TOGGLE_AUTHORISATION_PROGRESS = \"TOGGLE_AUTHORISATION_PROGRESS\"\r\n\r\n\r\nlet initialAuthorisationPage = {\r\n    auth: false,\r\n    authorisationInProgress: false,\r\n};\r\n\r\nconst authorisationPageReducer = (authorisationPage = initialAuthorisationPage, action) => {\r\n    switch (action.type) {\r\n\r\n        case USER_VERIFICATION:\r\n            return {\r\n                ...authorisationPage,\r\n                auth: true\r\n            }\r\n\r\n        case RESET_VERIFICATION:\r\n            localStorage.removeItem(\"userToken\")\r\n            return {\r\n                ...authorisationPage,\r\n                auth: false\r\n            }\r\n        case SET_USER_TOKEN:\r\n            localStorage.setItem(\"userToken\", action.token)\r\n        default: {\r\n            return authorisationPage\r\n        }\r\n        case TOGGLE_AUTHORISATION_PROGRESS:\r\n            return {\r\n                ...authorisationPage,\r\n                authorisationInProgress: action.authorisationInProgress\r\n            }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const userVerification = () => {\r\n    return {\r\n        type: USER_VERIFICATION,\r\n    }\r\n}\r\nexport const resetVerification = () => {\r\n    return {\r\n        type: RESET_VERIFICATION\r\n    }\r\n\r\n}\r\nexport const setUserToken = (token) => {\r\n    return {\r\n        type: SET_USER_TOKEN,\r\n        token\r\n    }\r\n}\r\nexport const toggleAuthorisationProgress = (authorisationInProgress) => {\r\n    return {\r\n        type: TOGGLE_AUTHORISATION_PROGRESS,\r\n        authorisationInProgress: authorisationInProgress\r\n    }\r\n}\r\n\r\nexport const userVerificationThunkCreator = (login, password) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleAuthorisationProgress(true))\r\n        let data = await userVerificationRequest(login, password)\r\n        if (data.key_type) {\r\n            dispatch(setUserToken(data.access_token))\r\n            dispatch(userVerification())\r\n        } else {\r\n            let action = stopSubmit(\"authorization\", {_error: data.message})\r\n            dispatch(action)\r\n        }\r\n        dispatch(toggleAuthorisationProgress(false))\r\n    }\r\n}\r\n\r\n\r\nexport const resetVerificationThunkCreator = () => (dispatch) => {\r\n    dispatch(resetVerification())\r\n}\r\n\r\nexport default authorisationPageReducer;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Nav from \"./Nav\";\r\nimport {setCurrentDialog} from \"../../Redux/Reducers/DialogsPageReducer\";\r\nimport {resetVerificationThunkCreator} from \"../../Redux/AuthoRegReducers/AuthorizationPageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {}\r\n}\r\n\r\n\r\nclass NavService extends React.Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    onGoToDialogsPage = (number) => {\r\n        this.props.setCurrentDialog(number)\r\n    }\r\n\r\n    onExit = () => {\r\n        this.props.resetVerificationThunkCreator()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Nav onGoToDialogsPage={this.onGoToDialogsPage}\r\n                 onExit = {this.onExit}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst NavContainer = connect(mapStateToProps, {\r\n    setCurrentDialog, resetVerificationThunkCreator,\r\n})(NavService)\r\n\r\nexport default NavContainer;","import s from \"./Message.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>\r\n            <div className={s.senderAva}>\r\n                <img src={props.senderAva} alt=\"senderava\"/>\r\n            </div>\r\n            <div className={s.messageContent}>\r\n\r\n                <div className={s.senderName}>\r\n                    <NavLink className={s.senderLink}\r\n                                to={\"/AuthUser/ProfilePage/\" + props.senderId}>{props.senderName}</NavLink>\r\n                </div>\r\n                <div className={s.text}><p>{props.text}</p></div>\r\n                <div className={s.time}>{props.time}</div>\r\n            </div>\r\n            <div className={s.deleteMessage}><button disabled={props.deleteMessageInProgress} onClick={() => props.onDeleteMessage(props.idMessage)}><p>×</p></button></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Message);","import s from \"../DialogsPage.module.css\";\r\nimport React from \"react\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator} from \"../../Common/Validators/Validators\";\r\n\r\n\r\nconst MessagesBar = (props) => {\r\n\r\n    const onSubmit = (formData, dispatch) => {\r\n        props.onSendNewMessage(formData.messageText)\r\n        dispatch(reset(\"sendMessage\"))\r\n    }\r\n\r\n\r\n\r\n    let messagesItems = props.messagesData.map(m => m.isDeleted ? null : <Message\r\n        deleteMessageInProgress={props.deleteMessageInProgress}\r\n        key={m.id}\r\n        senderName={m.name}\r\n        text={m.text}\r\n        senderAva={m.img}\r\n        time={m.time}\r\n        idMessage={m.id}\r\n        onDeleteMessage={props.onDeleteMassage}\r\n        senderId={m.senderId}\r\n    />)\r\n\r\n    return (\r\n        <div className={s.messageBar}>\r\n            {props.messagesData.length > 0 ? messagesItems :\r\n                <p className={s.nullMessagesMessage}>В этом диалоге пока нет сообщений</p>}\r\n            <ReduxSendingMessageForm sendMessageInProgress = {props.sendMessageInProgress} onSubmit = {onSubmit}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TextAreaForm =  CreateFormItem(\"textarea\")\r\nconst requiredLength = checkLenghtCreator(0, 350)\r\n\r\nconst SendingMessageForm = (props) => {\r\n    return <form\r\n        className={s.sendMessageForm}\r\n        onSubmit={props.handleSubmit}>\r\n        <Field placeholder=\"Ваше сообщение\"\r\n               name=\"messageText\" validate={[requiredLength]} component={TextAreaForm}/>\r\n        <button disabled={props.sendMessageInProgress} className={s.sendMessageButton}>Send message\r\n        </button>\r\n    </form>\r\n}\r\n\r\nconst ReduxSendingMessageForm = reduxForm({\r\n    form: \"sendMessage\",\r\n})(SendingMessageForm)\r\n\r\n\r\n\r\n\r\nexport default React.memo(MessagesBar)","import {NavLink} from \"react-router-dom\";\r\nimport React from 'react';\r\nimport s from './Dialog.module.css'\r\n\r\nconst Dialog = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <div className={s.dialogAva}>\r\n                <img src={props.dialogAva} alt=\"dialogAva\"/>\r\n            </div>\r\n            <button\r\n                disabled={props.setCurrentDialogInProgress}\r\n                onClick={() => props.onSetCurrentDialog(props.idDialog)}\r\n                className={s.dialogLinkButton}><NavLink\r\n                className={s.dialogLink} activeClassName={s.activeDialog}\r\n                to={`/AuthUser/DialogsPage/${props.idDialog}`}>{props.chatName}</NavLink></button>\r\n            <div className={s.deleteDialog}><button disabled={props.deleteDialogInProgress} onClick={() => props.onDeleteDialog(props.idDialog)}><p>×</p></button></div>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Dialog);","import React from 'react';\r\nimport s from '../DialogsPage.module.css'\r\nimport Dialog from \"./Dialog/Dialog\"\r\n\r\n\r\nconst DialogList = (props) => {\r\n\r\n    let dialogsItems = props.dialogsData.map(d => d.isDeleted ? null :\r\n        <Dialog\r\n            deleteDialogInProgress = {props.deleteDialogInProgress}\r\n            setCurrentDialogInProgress = {props.setCurrentDialogInProgress}\r\n            key = {d.idDialog}\r\n            onSetCurrentDialog={props.onSetCurrentDialog}\r\n            dialogAva={d.img} idDialog={d.idDialog}\r\n            chatName={d.name}\r\n            onDeleteDialog={props.onDeleteDialog}/>)\r\n\r\n    return (\r\n        <div className={s.dialogList}>\r\n            <h2>Список диалогов:</h2>\r\n            {props.dialogsData.length > 0 ? <div className={s.dialogsBar}>{dialogsItems}</div> :\r\n                <p>У вас пока нет активых диалогов. Напишите кому - нибудь, и здесь появится диалог</p>}\r\n        </div>\r\n    )\r\n}\r\nexport default  React.memo(DialogList)","import React, {useEffect} from 'react';\r\nimport s from './DialogsPage.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport MessagesBar from \"./MessagesBar/MessagesBar\";\r\nimport DialogList from \"./DialogList/DialogList\"\r\n\r\n// export let ws = new WebSocket(`ws://188.32.105.146:8000/ws`)\r\n\r\n\r\n\r\nlet DialogsPage = (props) => {\r\n\r\n    // useEffect(() => {\r\n    //     ws.addEventListener('message', (e) => {\r\n    //         let response = JSON.parse(e.data)\r\n    //         if (response.type === \"checkMessages\") {\r\n    //             console.log(\"Rabotayou\")\r\n    //             props.setMessages(response.items)\r\n    //         }\r\n    //\r\n    //     })\r\n    // })\r\n\r\n    return <>\r\n        {!props.currentDialogId ? <Redirect to={\"/AuthUser/DialogsPage\" + props.currentDialogId}/> : null}\r\n        <div className={s.dialogsPage}>\r\n            {props.currentDialogId ? <MessagesBar\r\n                sendMessageInProgress = {props.sendMessageInProgress}\r\n                deleteMessageInProgress ={props.deleteMessageInProgress}\r\n                messagesData={props.messagesData}\r\n                newMessageText={props.newMessageText}\r\n                onSendNewMessage={props.onSendNewMessage}\r\n                onDeleteMassage={props.onDeleteMassage}/> : null}\r\n\r\n            <DialogList\r\n                setCurrentDialogInProgress = {props.setCurrentDialogInProgress}\r\n                dialogsData={props.dialogsData}\r\n                onDeleteDialog = {props.onDeleteDialog}\r\n                onSetCurrentDialog={props.onSetCurrentDialog}\r\n                deleteDialogInProgress={props.deleteDialogInProgress}/>\r\n        </div>\r\n    </>\r\n\r\n}\r\n\r\n\r\nexport default React.memo(DialogsPage);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DialogsPage from \"./DialogsPage\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {\r\n    cetCurrentDialogThunkCreator,\r\n    deleteDialogThunkCreator,\r\n    deleteMessageThunkCreator,\r\n    sendMessageThunkCreator,\r\n    setCurrentDialog,\r\n    setDialogsThunkCreator,\r\n\r\n\r\n} from \"../../Redux/Reducers/DialogsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nclass DialogsPageContainer extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.setDialogsThunkCreator(this.props.dialogsPage.currentDialogId)\r\n    }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    //\r\n    //     if (this.props.dialogsPage.messagesData === nextProps.dialogsPage.messagesData &&\r\n    //         this.props.dialogsPage.dialogsData === nextProps.dialogsPage.dialogsData\r\n    //     ) {\r\n    //         return false\r\n    //     }\r\n    //     return true\r\n    // } \r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.props.setCurrentDialog(\"\")\r\n    }\r\n\r\n\r\n    onDeleteDialog = (idDialog) => {\r\n        this.props.deleteDialogThunkCreator(idDialog, this.props.dialogsPage.currentDialogId)\r\n    }\r\n\r\n    onDeleteMassage = (idMessage) => {\r\n        let dialogId = this.props.match.params.dialogId\r\n        this.props.deleteMessageThunkCreator(dialogId, idMessage)\r\n    }\r\n\r\n    onSetCurrentDialog = (selectedDialogId) => {\r\n        this.props.setCurrentDialog(selectedDialogId)\r\n        this.props.cetCurrentDialogThunkCreator(selectedDialogId)\r\n\r\n        // ws.send(JSON.stringify({\r\n        //     token: localStorage.getItem(\"userToken\"),\r\n        //     command: \"checkMessages\", idDialog: dialogId[a]\r\n        // }))\r\n\r\n    }\r\n\r\n\r\n    onSendNewMessage = (messageText) => {\r\n        if (messageText) {\r\n            let dialogId = this.props.match.params.dialogId\r\n            this.props.sendMessageThunkCreator(dialogId, messageText)\r\n\r\n            // ws.send(JSON.stringify({\r\n            //     token: localStorage.getItem(\"userToken\"),\r\n            //     command: \"sendMessage\", text: messageText,\r\n            //     idDialog: dialogId[a]\r\n            // }))\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <DialogsPage\r\n               dialogsData={this.props.dialogsPage.dialogsData}\r\n                messagesData={this.props.dialogsPage.messagesData}\r\n                onSendNewMessage={this.onSendNewMessage}\r\n                currentDialogId={this.props.dialogsPage.currentDialogId}\r\n                onSetCurrentDialog={this.onSetCurrentDialog}\r\n                onDeleteDialog={this.onDeleteDialog}\r\n                onDeleteMassage={this.onDeleteMassage}\r\n                setCurrentDialogInProgress={this.props.dialogsPage.setCurrentDialogInProgress}\r\n                deleteDialogInProgress={this.props.dialogsPage.deleteDialogInProgress}\r\n                deleteMessageInProgress={this.props.dialogsPage.deleteMessageInProgress}\r\n                sendMessageInProgress={this.props.dialogsPage.sendMessageInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setCurrentDialog,\r\n        setDialogsThunkCreator,\r\n        deleteDialogThunkCreator,\r\n        deleteMessageThunkCreator,\r\n        cetCurrentDialogThunkCreator,\r\n        sendMessageThunkCreator,\r\n    }),\r\n    CheckAuthRedirect,\r\n    withRouter\r\n)(DialogsPageContainer)\r\n\r\n\r\n","import {checkAuthMeRequest} from \"../../DAL/ApiRequests\";\r\nimport {userVerification} from \"../AuthoRegReducers/AuthorizationPageReducer\";\r\n\r\nconst SET_SESSION_IS_START = \"SET_SESSION_IS_START\";\r\n\r\n\r\nlet initialAppState = {\r\n    sessionIsStart: false,\r\n};\r\n\r\nconst appReducer = (appState = initialAppState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_SESSION_IS_START:\r\n            return {\r\n                ...appState,\r\n                sessionIsStart: true\r\n            }\r\n        default:\r\n            return appState\r\n\r\n    }\r\n}\r\n\r\nexport const setSessionIsStart = () => {\r\n    return {\r\n        type: SET_SESSION_IS_START\r\n    }\r\n}\r\n\r\nexport const checkAuthMeThunkCreator = () => async (dispatch) => {\r\n    let data = await checkAuthMeRequest()\r\n            if (data.auth) {\r\n                dispatch(userVerification())\r\n            }\r\n            return true\r\n}\r\n\r\nexport const setSessionIsStartThunkCreator = () => async (dispatch) => {\r\n    await dispatch(checkAuthMeThunkCreator())\r\n    dispatch(setSessionIsStart())\r\n\r\n}\r\n\r\n\r\nexport default appReducer;","export default __webpack_public_path__ + \"static/media/mainPreloader.eb8b1ae0.svg\";","import React from \"react\";\r\nimport mainPreloader from \"../Preloaders/mainPreloader.svg\"\r\n\r\nexport const MainPreloader = () => {\r\n    return (\r\n            <img src={mainPreloader} alt=\"Preloader\"  height=\"100px\"\r\n                 width=\"100px\"/>\r\n    )\r\n}","import React, {Suspense} from 'react';\r\nimport Footer from './Components/Footer/Footer';\r\nimport Header from './Components/Header/Header';\r\nimport s from './App.module.css';\r\nimport {Route} from \"react-router-dom\";\r\nimport SettingsContainer from \"./Components/Settings/Settings\";\r\nimport NewsPageContainer from \"./Components/NewsPage/NewsPageContainer\";\r\nimport ProfilePageContainer from \"./Components/ProfilePage/ProfilePageContainer\";\r\nimport FriendsPageContainer from \"./Components/FriendsPage/FriendsPageContainer\";\r\nimport NavContainer from \"./Components/Nav/NavContainer\";\r\nimport WithRouterDialogsPageContainer from \"./Components/DialogsPage/DialogsPageContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {checkAuthMeThunkCreator, setSessionIsStartThunkCreator} from \"./Redux/Reducers/AppReducer\";\r\nimport {MainPreloader} from \"./Assets/Preloaders/mainPreloader\";\r\n\r\nconst UsersPageContainer = React.lazy(() => import('./Components/UsersPage/UsersPageContainer'))\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.authorizationPage.auth,\r\n        sessionIsStart: state.app.sessionIsStart\r\n    }\r\n}\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.setSessionIsStartThunkCreator()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.sessionIsStart) {\r\n            return <div className={s.preloaderBar}>\r\n                <MainPreloader/>\r\n                {/*<img src={mainPreloader} alt=\"\"/>*/}\r\n            </div>\r\n        }\r\n        return (\r\n            <div className={s.AppWrapper}>\r\n                <Header/>\r\n                <div className={s.main}>\r\n                    <NavContainer/>\r\n                    <div className={s.content}>\r\n                        <Route exact path=\"/AuthUser\" render={() => <ProfilePageContainer/>}/>\r\n                        <Route path=\"/AuthUser/ProfilePage/:profileId?\" render={() => <ProfilePageContainer/>}/>\r\n                        <Route path=\"/AuthUser/DialogsPage/:dialogId?\"\r\n                               render={() => <WithRouterDialogsPageContainer/>}/>\r\n                        <Route exact path=\"/AuthUser/UsersPage\" render={() => <Suspense\r\n                            fallback={<div className={s.lazyLoadPreloaderBar}><MainPreloader/></div>}>\r\n                            <UsersPageContainer/>\r\n                        </Suspense>\r\n\r\n                        }/>\r\n\r\n                        <Route path=\"/AuthUser/NewsPage\" render={() => <NewsPageContainer/>}/>\r\n                        <Route path=\"/AuthUser/Settings\" render={() => <SettingsContainer/>}/>\r\n                        <Route exact path=\"/AuthUser/FriendsPage\" render={() => <FriendsPageContainer/>}/>\r\n                    </div>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    checkAuthMeThunkCreator,\r\n    setSessionIsStartThunkCreator\r\n})(App);\r\n","import {userRegistrationRequest} from \"../../DAL/ApiRequests\";\r\n\r\nconst TOGGLE_REGISTRATION_PROGRESS = \"TOGGLE_REGISTRATION_PROGRESS\";\r\n\r\nlet initialRegistrationPage = {\r\n    registrationInProgress: false,\r\n};\r\n\r\nconst registrationPageReducer = (registrationPage = initialRegistrationPage, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_REGISTRATION_PROGRESS:\r\n            return {\r\n                ...registrationPage,\r\n                registrationInProgress: action.registrationInProgress\r\n            }\r\n\r\n        default: {\r\n            return registrationPage\r\n        }\r\n    }\r\n}\r\n\r\nexport const toggleRegistrationProgress = (registrationInProgress) => {\r\n    return {\r\n        type: TOGGLE_REGISTRATION_PROGRESS,\r\n        registrationInProgress: registrationInProgress\r\n    }\r\n}\r\n\r\n\r\nexport const registrationUserThunkCreator = (login, password, firstName, lastName, address, age, email) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleRegistrationProgress(true))\r\n        let data = await userRegistrationRequest(login, firstName, lastName, password, address, age, email)\r\n        if (data.itsFine) {\r\n            alert(\"Пользователь успешно зарегистрирован\")\r\n        } else (\r\n            alert(`Пользователь не был зарегистрирован - ${data.error}`)\r\n        )\r\n        dispatch(toggleRegistrationProgress(false))\r\n    }\r\n}\r\n\r\nexport default registrationPageReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport appReducer from \"./Reducers/AppReducer\";\r\nimport dialogsPageReducer from \"./Reducers/DialogsPageReducer\";\r\nimport profilePageReducer from \"./Reducers/ProfilePageReducer\";\r\nimport newsPageReducer from \"./Reducers/NewsPageReducer\";\r\nimport usersPageReducer from \"./Reducers/UsersPageReducer\";\r\nimport authorisationPageReducer from \"./AuthoRegReducers/AuthorizationPageReducer\";\r\nimport registrationPageReducer from \"./AuthoRegReducers/RegistrationPageReducer\";\r\nimport friendsPageReducer from \"./Reducers/FriendsPageReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\n\r\n\r\nconst enchansers = [applyMiddleware(thunkMiddleware), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()]\r\nlet reducers = combineReducers({\r\n    app: appReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    profilePage: profilePageReducer,\r\n    usersPage: usersPageReducer,\r\n    newsPage: newsPageReducer,\r\n    authorizationPage: authorisationPageReducer,\r\n    registrationPage: registrationPageReducer,\r\n    friendsPage: friendsPageReducer,\r\n    form: formReducer\r\n})\r\nconst store = createStore(reducers, compose(...enchansers));\r\n\r\n\r\nexport default store","import s from '../AuthoReg.module.css';\r\nimport sForm from '../../Common/FormsElements/FormsElements.module.css';\r\nimport React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Header from \"../../Header/Header\";\r\nimport Footer from \"../../Footer/Footer\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField} from \"../../Common/Validators/Validators\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\n\r\nconst AuthorizationPage = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.onUserVerification(formData.login, formData.password)\r\n    }\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <Header/>\r\n            <div className={s.main}>\r\n                <div className={s.form}>\r\n                    <div className={s.authorisation}>\r\n                        <h3>Авторизация</h3>\r\n                        <ReduxAuthorizationForm authorisationInProgress = {props.authorisationInProgress}  onSubmit = {onSubmit}/>\r\n                        <div className={s.regLink}>\r\n                            <p>Еще не зарегистрированы ? <NavLink className={s.link}\r\n                                                                  to=\"/RegistrationPage\">Регистрация</NavLink></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst InputForm = CreateFormItem(\"input\")\r\n\r\nlet AuthorizationForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.enterLogin}>\r\n                <p>Введите логин:</p>\r\n                <Field type=\"text\" placeholder=\"Логин\" name ={\"login\"} validate={[requiredField]} component={InputForm} />\r\n            </div>\r\n            <div className={s.enterPassword}>\r\n                <p>Введите пароль:</p>\r\n                <Field type=\"password\" placeholder=\"Пароль\" name ={\"password\"} validate = {[requiredField]} component={InputForm}/>\r\n            </div>\r\n            <div className={s.entryButton}>\r\n                {props.error ?<div className={s.summaryErrorBar}>\r\n                    <spans className={sForm.summaryError}>\r\n                        {props.error}\r\n                    </spans>\r\n                </div>:null}\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={props.authorisationInProgress}>\r\n                    Вход\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxAuthorizationForm = reduxForm({\r\n    form: \"authorization\"\r\n})(AuthorizationForm)\r\n\r\n\r\nexport default React.memo(AuthorizationPage);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport AuthorizationPage from \"./AuthorizationPage\";\r\nimport {userVerificationThunkCreator\r\n} from \"../../../Redux/AuthoRegReducers/AuthorizationPageReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        authorizationPage: state.authorizationPage,\r\n    }\r\n}\r\n\r\n\r\nclass AuthorizationPageService extends React.Component {\r\n\r\n    onUserVerification = (login, password) => {\r\n        this.props.userVerificationThunkCreator(login, password)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.authorizationPage.auth) {\r\n            return <Redirect to=\"/AuthUser/ProfilePage\"/>\r\n        }\r\n        return (\r\n            <AuthorizationPage\r\n                onUserVerification={this.onUserVerification}\r\n                authorisationInProgress={this.props.authorizationPage.authorisationInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst AuthorizationPageContainer = connect(mapStateToProps, {\r\n    userVerificationThunkCreator,\r\n\r\n})(AuthorizationPageService)\r\n\r\nexport default AuthorizationPageContainer","import s from \"../AuthoReg.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Header from \"../../Header/Header\";\r\nimport Footer from \"../../Footer/Footer\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {CreateFormItem, Input} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator, requiredField} from \"../../Common/Validators/Validators\";\r\n\r\nconst RegistrationPage = (props) => {\r\n\r\n    let onSubmit = (formData) => {\r\n\r\n        props.onRegistrationUser(\r\n            formData.login,\r\n            formData.password,\r\n            formData.firstName,\r\n            formData.lastName,\r\n            formData.address,\r\n            formData.age,\r\n            formData.email\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <Header/>\r\n            <div className={s.main}>\r\n                <div className={s.form}>\r\n                    <div className={s.registration}>\r\n                        <h3>Регистрация</h3>\r\n                        <ReduxRegistrationPageForm onSubmit={onSubmit}\r\n                                                   registrationInProgress={props.registrationInProgress}/>\r\n                        <div className={s.authLink}>\r\n                            <p>Уже есть аккаунт ? <NavLink className={s.link} to=\"/\">Авторизация</NavLink></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nlet requiredLengthFrom3to20 = checkLenghtCreator(3, 20)\r\nlet requiredLengthFrom5to30 = checkLenghtCreator(5, 30)\r\nconst InputForm = CreateFormItem(\"input\")\r\n\r\n\r\nconst RegistrationPageForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={s.interLogin}>\r\n            <p>Придумайте логин:</p>\r\n            <Field name={\"login\"} validate={[requiredField, requiredLengthFrom3to20]} component={InputForm} type=\"text\"\r\n                   placeholder=\"Логин\"/>\r\n        </div>\r\n        <div className={s.interEmail}>\r\n            <p>Введите ваш Email:</p>\r\n            <Field name={\"email\"} validate={[requiredField]} component={InputForm} type=\"text\" placeholder=\"Email\"/>\r\n        </div>\r\n        <div className={s.interName}>\r\n            <p>Введите имя:</p>\r\n            <Field name={\"firstName\"} validate={[requiredField,]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Имя\"/>\r\n        </div>\r\n        <div className={s.interFirstname}>\r\n            <p>Введите фамилию:</p>\r\n            <Field name={\"lastName\"} validate={[requiredField,]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Фамилия\"/>\r\n        </div>\r\n        <div className={s.interAddress}>\r\n            <p>Введите ваш город:</p>\r\n            <Field name={\"address\"} validate={[requiredField]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Город\"/>\r\n        </div>\r\n        <div className={s.interAge}>\r\n            <p>Укажите ваш возраст:</p>\r\n            <Field name={\"age\"} validate={[requiredField]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Возраст\"/>\r\n        </div>\r\n        <div className={s.interPassword}>\r\n            <p>Придумайте пароль:</p>\r\n            <Field name={\"password\"} validate={[requiredField, requiredLengthFrom5to30]} component={InputForm} type=\"password\" placeholder=\"Пароль\"/>\r\n        </div>\r\n        <div className={s.regButton}>\r\n            <button disabled={props.registrationInProgress}\r\n            >Регистрация\r\n            </button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxRegistrationPageForm = reduxForm({\r\n    form: \"registration\"\r\n})(RegistrationPageForm)\r\n\r\nexport default React.memo(RegistrationPage)","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport RegistrationPage from \"./RegistrationPage\";\r\nimport {\r\n    registrationUserThunkCreator,\r\n}\r\n    from \"../../../Redux/AuthoRegReducers/RegistrationPageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        registrationPage: state.registrationPage,\r\n    }\r\n}\r\n\r\nclass RegistrationGageService extends React.Component {\r\n\r\n    onRegistrationUser = (login, password, firstName, lastName, address, age, email) => {\r\n        this.props.registrationUserThunkCreator(login, password, firstName, lastName, address, age, email)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <RegistrationPage\r\n                onRegistrationUser = {this.onRegistrationUser}\r\n                registrationInProgress = {this.props.registrationPage.registrationInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst RegistrationPageContainer = connect(mapStateToProps, {\r\n    registrationUserThunkCreator,\r\n})(RegistrationGageService)\r\n\r\nexport default RegistrationPageContainer","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./Redux/ReduxStore\";\r\nimport {BrowserRouter, HashRouter, Route} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport AuthorizationPageContainer from \"./Components/AuthoRegComponents/AuthorizationPage/AuthorizationPageContainer\";\r\nimport RegistrationPageContainer from \"./Components/AuthoRegComponents/RegistrationPage/RegistrarionPageContainer\";\r\n\r\n\r\nReactDOM.render(\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <Route path=\"/AuthUser\" render={() => <App/>}/>\r\n            <Route exact path=\"/\" render={() => <AuthorizationPageContainer/>}/>\r\n            <Route path=\"/RegistrationPage\" render={() => <RegistrationPageContainer/>}/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__hhmQm\",\"friendAva\":\"Friend_friendAva__wIJRW\",\"friendLink\":\"Friend_friendLink__3a-17\",\"button\":\"Friend_button__3Jcdh\",\"toMessageButton\":\"Friend_toMessageButton__1iuDh\",\"unfollowButton\":\"Friend_unfollowButton__3LdZ7\",\"followButton\":\"Friend_followButton__P8n0h\",\"friendInfo\":\"Friend_friendInfo__2ABPU\",\"followedStatus\":\"Friend_followedStatus__1AtIP\"};","import * as React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nexport const CheckAuthRedirect = (Component) => {\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            auth: state.authorizationPage.auth\r\n        }\r\n    }\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.auth) return <Redirect to={\"/\"}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, {})(RedirectComponent)\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsPage\":\"DialogsPage_dialogsPage__EBCWN\",\"dialogList\":\"DialogsPage_dialogList__2i7dp\",\"dialogsBar\":\"DialogsPage_dialogsBar__33xn5\",\"nullMessagesMessage\":\"DialogsPage_nullMessagesMessage__1ti4d\",\"messageBar\":\"DialogsPage_messageBar__2_UBk\",\"sendMessageForm\":\"DialogsPage_sendMessageForm__3Hgur\",\"sendMessageButton\":\"DialogsPage_sendMessageButton__FxC33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsPage\":\"FriendsPage_friendsPage__2__WV\",\"pageNumber\":\"FriendsPage_pageNumber__ZZooW\",\"selectedPage\":\"FriendsPage_selectedPage__1Ik_A\",\"searchFriends\":\"FriendsPage_searchFriends__10eGX\",\"selectingPageMenu\":\"FriendsPage_selectingPageMenu__2anNU\",\"searchFriendsButtonWrap\":\"FriendsPage_searchFriendsButtonWrap__1seXZ\",\"usersListArea\":\"FriendsPage_usersListArea__2865d\",\"searchFriendsButton\":\"FriendsPage_searchFriendsButton__3IwF3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__U6__R\",\"deleteMessage\":\"Message_deleteMessage__W3MBy\",\"senderLink\":\"Message_senderLink__rpyek\",\"text\":\"Message_text__4g4z6\",\"senderAva\":\"Message_senderAva__N6CrW\",\"senderName\":\"Message_senderName__1ilwI\",\"messageContent\":\"Message_messageContent__1yUuw\",\"time\":\"Message_time__1yfKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorText\":\"FormsElements_errorText__MHg2Q\",\"formBar\":\"FormsElements_formBar__1exTu\",\"inputForm\":\"FormsElements_inputForm__TYzSU\",\"textareaForm\":\"FormsElements_textareaForm__flmM9\",\"summaryError\":\"FormsElements_summaryError__urlex\",\"error\":\"FormsElements_error__PrWf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__1ieh9\",\"newsContent\":\"News_newsContent__3BXBY\",\"resourceLink\":\"News_resourceLink__3bx45\",\"avaNews\":\"News_avaNews__2NWVq\",\"resourceName\":\"News_resourceName__1bP5U\",\"newsText\":\"News_newsText__1MPVe\",\"dateTime\":\"News_dateTime__2v-at\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBox\":\"Post_postBox__2rXgx\",\"postText\":\"Post_postText__jm-Em\",\"avaPost\":\"Post_avaPost__1_U2f\",\"postContent\":\"Post_postContent__1t9rt\",\"dateTime\":\"Post_dateTime__3rtNB\",\"deletePost\":\"Post_deletePost__15fqT\",\"name\":\"Post_name__10Cgx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__UCfD3\",\"deleteDialog\":\"Dialog_deleteDialog__3kNAa\",\"dialogLink\":\"Dialog_dialogLink__1XMu5\",\"dialogLinkButton\":\"Dialog_dialogLinkButton__1oCXm\",\"activeDialog\":\"Dialog_activeDialog__CITXG\",\"dialogAva\":\"Dialog_dialogAva__2pHzv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppWrapper\":\"App_AppWrapper__3qAsm\",\"main\":\"App_main__2Rak8\",\"content\":\"App_content__3TdWw\",\"preloaderBar\":\"App_preloaderBar__3yzbO\",\"lazyLoadPreloaderBar\":\"App_lazyLoadPreloaderBar__3BKQI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3OQZO\",\"headerWRap\":\"Header_headerWRap__39axr\",\"logo\":\"Header_logo__2EqNj\",\"title\":\"Header_title__3CEcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"UsersPage_usersPage__1kzV_\",\"user\":\"UsersPage_user__2JE67\",\"userAva\":\"UsersPage_userAva__oAJ_2\",\"userLink\":\"UsersPage_userLink__3sSfT\",\"button\":\"UsersPage_button__3fPc6\",\"toMessageButton\":\"UsersPage_toMessageButton__2unoZ\",\"unfollowButton\":\"UsersPage_unfollowButton__6Nzr0\",\"followButton\":\"UsersPage_followButton__1eSn7\",\"userInfo\":\"UsersPage_userInfo__2bSxh\",\"pageNumber\":\"UsersPage_pageNumber__zEOE5\",\"selectedPage\":\"UsersPage_selectedPage__PoJB9\",\"selectingPageMenu\":\"UsersPage_selectingPageMenu__3Pbm8\",\"followedStatus\":\"UsersPage_followedStatus__2djeD\",\"usersListBar\":\"UsersPage_usersListBar__3e_9m\",\"searchUsersForm\":\"UsersPage_searchUsersForm__3SqAW\",\"searchTextArea\":\"UsersPage_searchTextArea__2jSwh\",\"searchButtonWrap\":\"UsersPage_searchButtonWrap__RrfM1\",\"searchButton\":\"UsersPage_searchButton__24hzN\",\"inputSearchText\":\"UsersPage_inputSearchText__sJE8k\"};","import * as axios from \"axios\";\r\n\r\n\r\n//AUTH\r\n\r\nexport let serverLink = \"https://188.32.105.146:8123\"\r\n\r\nexport const userVerificationRequest = (login, password) => {\r\n    return axios.post(`${serverLink}/auth`, {\"login\": login, \"password\": password})\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const checkAuthMeRequest = () => {\r\n    return axios.get(`${serverLink}/checkAuthMe?token=${localStorage.getItem(\"userToken\")}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//REG\r\n\r\nexport const userRegistrationRequest = (login, firstName, lastName, password, address, age, email) => {\r\n    return axios.post(`${serverLink}/reg`, {\r\n        \"login\": login,\r\n        \"firstName\": firstName,\r\n        \"lastName\": lastName,\r\n        \"password\": password,\r\n        \"address\": address,\r\n        \"age\": age,\r\n        \"email\": email,\r\n    },)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//DIALOGS_PAGE\r\n\r\nexport const getDialogsRequest = () => {\r\n    return axios.get(`${serverLink}/dialogs?token=${localStorage.getItem(\"userToken\")}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getMessagesRequest = (idDialog) => {\r\n    return axios.get(`${serverLink}/messages?token=${localStorage.getItem(\"userToken\")}&idDialog=${idDialog}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const deleteDialogRequest = (idDialog) => {\r\n    return axios.delete(`${serverLink}/deleteDialog`, {\r\n        data: {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"idDialog\": idDialog,\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const deleteMessageRequest = (dialogId, idMessage) => {\r\n    return axios.delete(`${serverLink}/deleteMessage`,\r\n        {\r\n            data: {\r\n                \"token\": localStorage.getItem(\"userToken\"),\r\n                \"idDialog\": dialogId,\r\n                \"idMessage\": idMessage,\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const goToDialogRequest = (userId) => {\r\n    return axios.post(`${serverLink}/createDialog`, {\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"userId\": userId\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const sendNewMessageRequest = (dialogId, messageText) => {\r\n    return axios.post(`${serverLink}/sendMessage`,\r\n        {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"idDialog\": dialogId,\r\n            \"text\": messageText,\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//FRIENDS_PAGE\r\n\r\nexport const getFriendsRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/friends?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const unFollowRequest = (userId) => {\r\n    return axios.delete(`${serverLink}/unFollowFriend`,\r\n        {\r\n            data: {\r\n                \"token\": localStorage.getItem(\"userToken\"),\r\n                \"userId\": userId,\r\n\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const followRequest = (userId) => {\r\n    return axios.post(`${serverLink}/followFriend`,\r\n\r\n        {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"userId\": userId,\r\n\r\n        }\r\n    )\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\n//USERS_PAGE\r\n\r\nexport const getUsersRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/users?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const searchUsersRequest = (page, count, isSearch, searchText) => {\r\n    if (searchText.length > 0) {\r\n        return axios.get(`${serverLink}/users?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}&isSearch=${isSearch}&searchText=${searchText}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n    return getUsersRequest(page, count)\r\n}\r\n\r\n//NEWS_PAGE\r\n\r\nexport const getNewsRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/news?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//PROFILE_PAGE\r\n\r\n\r\nexport const getMyProfileInfoRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/profileInfo?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getMyPostsRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/posts?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const addNewPostRequest = (postText) => {\r\n    return axios.post(`${serverLink}/addPost`, {\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"postText\": postText\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const deletePostRequest = (idPost) => {\r\n    return axios.delete(`${serverLink}/deletePost`, {\r\n            data: {\r\n                \"token\":\r\n                    localStorage.getItem(\"userToken\"),\r\n                \"idPost\": idPost\r\n            }\r\n        }\r\n    )\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const updateUserStatusRequest = (newStatusText) => {\r\n    return axios.put(`${serverLink}/updUserStatus`, {\r\n\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"statusText\": newStatusText\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getStatusRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/status?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//SELECTED_PROFILE_PAGE\r\n\r\nexport const getSelectedUserProfileRequest = (id) => {\r\n    return axios.get(`${serverLink}/user?token=${localStorage.getItem(\"userToken\")}&id=${id}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getSelectedUserStatusRequest = (userId) => {\r\n    return axios.get(`${serverLink}/status?token=${localStorage.getItem(\"userToken\")}&userId=${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\n","import s from \"./UsersPage/UsersPage.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Pagination = (props) => {\r\n    let pagesCount = Math.ceil(props.totalCount / props.pageSize)\r\n    let pageNumbers = []\r\n    let portionSize = 5\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    let leftPortionBorder = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionBorder = portionNumber * portionSize\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pageNumbers.push(i)\r\n    }\r\n    let pageNumbersList = pageNumbers\r\n        .filter((n) => n >= leftPortionBorder && n <= rightPortionBorder)\r\n        .map((n) => <span\r\n            key={n}\r\n            className={n === props.currentPage ? `${s.selectedPage} ${s.pageNumber}` : s.pageNumber}\r\n            onClick={() => {\r\n                props.setCurrentPage(n)\r\n            }}>{n}</span>)\r\n\r\n    return <div>\r\n        {portionNumber > 1 ?\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n                props.setCurrentPage(leftPortionBorder - 1)\r\n            }}>{`<<`}</button> : null}\r\n        {pageNumbersList}\r\n        {portionNumber < portionCount ?\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n                props.setCurrentPage(rightPortionBorder + 1)\r\n            }}>{`>>`}</button> : null}\r\n    </div>\r\n}\r\n\r\nexport default Pagination","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsPage\":\"NewsPage_newsPage__34zRM\",\"newsList\":\"NewsPage_newsList__2TDW0\",\"selectingPageMenu\":\"NewsPage_selectingPageMenu__8Gdbm\",\"selectedPage\":\"NewsPage_selectedPage__3w1EZ\",\"pageNumber\":\"NewsPage_pageNumber__1ZPep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3NsM-\",\"addPostButton\":\"MyPosts_addPostButton__1qNDF\",\"addPostForm\":\"MyPosts_addPostForm__u7fQD\",\"inputPostText\":\"MyPosts_inputPostText__3DcDZ\"};"],"sourceRoot":""}