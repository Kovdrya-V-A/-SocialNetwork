{"version":3,"sources":["Components/UsersPage/UsersList/User.jsx","Components/UsersPage/UsersList/UsersList.jsx","Components/UsersPage/UsersPage.jsx","Components/UsersPage/UsersPageContainer.jsx"],"names":["User","props","className","s","user","userAva","src","img","standUserAva","alt","userInfo","userLink","to","id","name","disabled","setIsWroteInProgress","some","onClick","onMessage","toMessageButton","button","followed","followingInProgress","onUnfollow","unfollowButton","onFollow","followButton","followedStatus","UsersList","userItems","usersData","map","u","usersList","length","UsersPage","isWrote","currentDialogId","usersPage","ReduxSearchUsersForm","searchUsersInProgress","onSubmit","formData","onSearchUsers","searchText","usersListBar","selectingPageMenu","Pagination","totalCount","totalUsersCount","pageSize","currentPage","setCurrentPage","onSetCurrentPage","reduxForm","form","searchUsersForm","handleSubmit","searchTextArea","Field","inputSearchText","component","searchButtonWrap","searchButton","React","memo","UsersPageContainer","searchUsersThunkCreator","userId","unFollowThunkCreator","followThunkCreator","number","setCurrentPageThunkCreator","goToDialogThunkCreator","this","setUsersThunkCreator","setIsWrote","Component","compose","connect","state","isFetching","dialogsPage","CheckAuthRedirect"],"mappings":"uPAkCeA,EA5BF,SAACC,GACV,OAAO,sBAAKC,UAAWC,IAAEC,KAAlB,UACH,qBAAKF,UAAWC,IAAEE,QAAlB,SACI,qBACIC,IAAkB,MAAbL,EAAMM,IAAcN,EAAMM,IAAMC,IACrCC,IAAI,cAEZ,sBAAKP,UAAWC,IAAEO,SAAlB,UACI,cAAC,IAAD,CAASR,UAAWC,IAAEQ,SACbC,GAAI,yBAA2BX,EAAMY,GAD9C,SACmDZ,EAAMa,OACzD,wBAAQC,SAAUd,EAAMe,qBAAqBC,MAAK,SAAAJ,GAAE,OAAIA,IAAOZ,EAAMY,MAAKK,QAAS,WAC/EjB,EAAMkB,UAAUlB,EAAMY,KACvBX,UAAS,UAAKC,IAAEiB,gBAAP,YAA0BjB,IAAEkB,QAFxC,8DAICpB,EAAMqB,SACH,wBAAQP,SAAUd,EAAMsB,oBAAoBN,MAAK,SAAAJ,GAAE,OAAIA,IAAOZ,EAAMY,MAC5DK,QAAS,kBAAMjB,EAAMuB,WAAWvB,EAAMY,KACtCX,UAAS,UAAKC,IAAEsB,eAAP,YAAyBtB,IAAEkB,QAF5C,wDAGA,wBAAQN,SAAUd,EAAMsB,oBAAoBN,MAAK,SAAAJ,GAAE,OAAIA,IAAOZ,EAAMY,MAC5DK,QAAS,kBAAMjB,EAAMyB,SAASzB,EAAMY,KACpCX,UAAS,UAAKC,IAAEwB,aAAP,YAAuBxB,IAAEkB,QAF1C,8DAGHpB,EAAMqB,SAAW,qBAAKpB,UAAWC,IAAEyB,eAAlB,SAAkC,8EAAwB,YCNzEC,EAhBG,SAAC5B,GAEf,IAAI6B,EAAY7B,EAAM8B,UAAUC,KAAI,SAACC,GACjC,OAAO,cAAC,EAAD,CAAiBpB,GAAIoB,EAAEpB,GAAIN,IAAK0B,EAAE1B,IAAKO,KAAMmB,EAAEnB,KAAMQ,SAAUW,EAAEX,SAC3DN,qBAAsBf,EAAMe,qBAC5BG,UAAWlB,EAAMkB,UACjBI,oBAAqBtB,EAAMsB,oBAC3BC,WAAYvB,EAAMuB,WAClBE,SAAUzB,EAAMyB,UALXO,EAAEpB,OAQxB,OAAO,qBAAKX,UAAWC,IAAE+B,UAAlB,SACFjC,EAAM8B,UAAUI,OAAS,EAAIL,EAAY,8L,QCV5CM,EAAY,SAACnC,GACf,GAAIA,EAAMoC,SAAWpC,EAAMqC,gBACvB,OAAO,cAAC,IAAD,CAAU1B,GAAI,yBAA2BX,EAAMqC,kBAO1D,OACI,sBAAKpC,UAAWC,IAAEoC,UAAlB,UACI,cAACC,EAAD,CAAsBC,sBAAuBxC,EAAMwC,sBAAuBC,SANjE,SAACC,GACd1C,EAAM2C,cAAcD,EAASE,WAAaF,EAASE,WAAa,OAM5D,sBAAK3C,UAAWC,IAAE2C,aAAlB,UAAgC,sJAC5B,cAAC,EAAD,CAAWf,UAAW9B,EAAM8B,UACjBf,qBAAsBf,EAAMe,qBAC5BG,UAAWlB,EAAMkB,UACjBI,oBAAqBtB,EAAMsB,oBAC3BC,WAAYvB,EAAMuB,WAClBE,SAAUzB,EAAMyB,cAE/B,qBAAKxB,UAAWC,IAAE4C,kBAAlB,SAAqC,cAACC,EAAA,EAAD,CAAYC,WAAchD,EAAMiD,gBACpBC,SAAYlD,EAAMkD,SAClBC,YAAenD,EAAMmD,YACrBC,eAAkBpD,EAAMqD,yBAoB/Ed,EAAuBe,YAAU,CACnCC,KAAM,eADmBD,EAdL,SAACtD,GACrB,OAAO,uBAAMC,UAAWC,IAAEsD,gBAAiBf,SAAUzC,EAAMyD,aAApD,UACH,qBAAKxD,UAAWC,IAAEwD,eAAlB,SACI,cAACC,EAAA,EAAD,CACI1D,UAAWC,IAAE0D,gBACb/C,KAAK,aAAagD,UAAW,eACrC,qBAAK5D,UAAWC,IAAE4D,iBAAlB,SACI,wBAAQhD,SAAUd,EAAMwC,sBAChBvC,UAAWC,IAAE6D,aADrB,4BAYGC,MAAMC,KAAK9B,G,gBCzBpB+B,E,4MAUFvB,cAAgB,SAACC,GACb,EAAK5C,MAAMmE,wBAAwB,EAAKnE,MAAMmD,YAAa,EAAKnD,MAAMkD,SAAUN,I,EAGpFrB,WAAa,SAAC6C,GACV,EAAKpE,MAAMqE,qBAAqBD,I,EAGpC3C,SAAW,SAAC2C,GACR,EAAKpE,MAAMsE,mBAAmBF,I,EAGlCf,iBAAmB,SAACkB,GAChB,EAAKvE,MAAMwE,2BAA2BD,EAAQ,EAAKvE,MAAMkD,W,EAG7DhC,UAAY,SAACkD,GACT,EAAKpE,MAAMyE,uBAAuBL,I,uDAzBtC,WACIM,KAAK1E,MAAM2E,qBAAqBD,KAAK1E,MAAMmD,YAAauB,KAAK1E,MAAMkD,Y,kCAGvE,WACIwB,KAAK1E,MAAM4E,YAAW,K,oBAwB1B,WACI,OAAO,mCACH,cAAC,EAAD,CACIvB,iBAAkBqB,KAAKrB,iBACvBJ,gBAAiByB,KAAK1E,MAAMiD,gBAC5BC,SAAUwB,KAAK1E,MAAMkD,SACrBC,YAAauB,KAAK1E,MAAMmD,YACxBrB,UAAW4C,KAAK1E,MAAM8B,UACtBM,QAASsC,KAAK1E,MAAMoC,QACpBb,WAAYmD,KAAKnD,WACjBE,SAAUiD,KAAKjD,SACfP,UAAWwD,KAAKxD,UAChByB,cAAe+B,KAAK/B,cACpBN,gBAAiBqC,KAAK1E,MAAMqC,gBAC5Bf,oBAAqBoD,KAAK1E,MAAMsB,oBAChCP,qBAAsB2D,KAAK1E,MAAMe,qBACjCyB,sBAAuBkC,KAAK1E,MAAMwC,8B,GA/CjBwB,IAAMa,WAqDxBC,sBACXC,aAvEkB,SAACC,GACnB,MAAO,CACHlD,UAAWkD,EAAM1C,UAAUR,UAC3BoB,SAAU8B,EAAM1C,UAAUY,SAC1BD,gBAAiB+B,EAAM1C,UAAUW,gBACjCE,YAAa6B,EAAM1C,UAAUa,YAC7B8B,WAAYD,EAAM1C,UAAU2C,WAC5B7C,QAAS4C,EAAM1C,UAAUF,QACzBC,gBAAiB2C,EAAME,YAAY7C,gBACnCf,oBAAqB0D,EAAM1C,UAAUhB,oBACrCP,qBAAsBiE,EAAM1C,UAAUvB,qBACtCyB,sBAAuBwC,EAAM1C,UAAUE,yBA4DlB,CACrBoC,eACAD,yBACAR,4BACAE,yBACAC,uBACAE,+BACAC,6BAEJU,IAVWL,CAWbZ","file":"static/js/3.39aed456.chunk.js","sourcesContent":["import s from \"../UsersPage.module.css\";\r\nimport standUserAva from \"../../../Assets/standUserAva.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n\r\nconst User = (props) => {\r\n    return <div className={s.user}>\r\n        <div className={s.userAva}>\r\n            <img\r\n                src={props.img != null ? props.img : standUserAva}\r\n                alt=\"userAva\"/>\r\n        </div>\r\n        <div className={s.userInfo}>\r\n            <NavLink className={s.userLink}\r\n                     to={\"/AuthUser/ProfilePage/\" + props.id}>{props.name}</NavLink>\r\n            <button disabled={props.setIsWroteInProgress.some(id => id === props.id)} onClick={() => {\r\n                props.onMessage(props.id)\r\n            }} className={`${s.toMessageButton} ${s.button}`}>Написать\r\n            </button>\r\n            {props.followed ?\r\n                <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                        onClick={() => props.onUnfollow(props.id)}\r\n                        className={`${s.unfollowButton} ${s.button}`}>Удалить</button> :\r\n                <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                        onClick={() => props.onFollow(props.id)}\r\n                        className={`${s.followButton} ${s.button}`}>Добавить</button>}\r\n            {props.followed ? <div className={s.followedStatus}><p>Ваш друг</p></div> : null}\r\n        </div>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default User","import s from \"../UsersPage.module.css\";\r\nimport React from \"react\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst UsersList = (props) => {\r\n\r\n    let userItems = props.usersData.map((u) => {\r\n        return <User key={u.id} id={u.id} img={u.img} name={u.name} followed={u.followed}\r\n                     setIsWroteInProgress={props.setIsWroteInProgress}\r\n                     onMessage={props.onMessage}\r\n                     followingInProgress={props.followingInProgress}\r\n                     onUnfollow={props.onUnfollow}\r\n                     onFollow={props.onFollow}/>\r\n    })\r\n\r\n    return <div className={s.usersList}>\r\n        {props.usersData.length > 0 ? userItems : <h2>Такой пользователь не найден</h2>}\r\n    </div>\r\n}\r\n\r\nexport default UsersList","import s from \"./UsersPage.module.css\"\r\nimport React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport UsersList from \"./UsersList/UsersList\";\r\nimport Pagination from \"../Pagination\";\r\n\r\nconst UsersPage = (props) => {\r\n    if (props.isWrote && props.currentDialogId) {\r\n        return <Redirect to={\"/AuthUser/DialogsPage/\" + props.currentDialogId}/>\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.onSearchUsers(formData.searchText ? formData.searchText : \"\")\r\n    }\r\n\r\n    return (\r\n        <div className={s.usersPage}>\r\n            <ReduxSearchUsersForm searchUsersInProgress={props.searchUsersInProgress} onSubmit={onSubmit}/>\r\n            <div className={s.usersListBar}><h2>Список пользователей:</h2>\r\n                <UsersList usersData={props.usersData}\r\n                           setIsWroteInProgress={props.setIsWroteInProgress}\r\n                           onMessage={props.onMessage}\r\n                           followingInProgress={props.followingInProgress}\r\n                           onUnfollow={props.onUnfollow}\r\n                           onFollow={props.onFollow}/>\r\n            </div>\r\n            <div className={s.selectingPageMenu}><Pagination totalCount = {props.totalUsersCount}\r\n                                                             pageSize = {props.pageSize}\r\n                                                             currentPage = {props.currentPage}\r\n                                                             setCurrentPage = {props.onSetCurrentPage}/></div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst SearchUsersForm = (props) => {\r\n    return <form className={s.searchUsersForm} onSubmit={props.handleSubmit}>\r\n        <div className={s.searchTextArea}>\r\n            <Field\r\n                className={s.inputSearchText}\r\n                name=\"searchText\" component={\"textarea\"}/></div>\r\n        <div className={s.searchButtonWrap}>\r\n            <button disabled={props.searchUsersInProgress}\r\n                    className={s.searchButton}>Search\r\n            </button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxSearchUsersForm = reduxForm({\r\n    form: \"searchUsers\"\r\n})(SearchUsersForm)\r\n\r\n\r\nexport default React.memo(UsersPage)","import React, {Suspense} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunkCreator, goToDialogThunkCreator, searchUsersThunkCreator,\r\n    setCurrentPageThunkCreator,\r\n    setIsWrote,\r\n    setUsersThunkCreator,\r\n    unFollowThunkCreator,\r\n} from \"../../Redux/Reducers/UsersPageReducer\";\r\nimport UsersPage from \"./UsersPage\";\r\nimport {compose} from \"redux\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        isWrote: state.usersPage.isWrote,\r\n        currentDialogId: state.dialogsPage.currentDialogId,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        setIsWroteInProgress: state.usersPage.setIsWroteInProgress,\r\n        searchUsersInProgress: state.usersPage.searchUsersInProgress,\r\n\r\n    }\r\n}\r\n\r\n\r\nclass UsersPageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setIsWrote(false)\r\n    }\r\n\r\n    onSearchUsers = (searchText) => {\r\n        this.props.searchUsersThunkCreator(this.props.currentPage, this.props.pageSize, searchText)\r\n    }\r\n\r\n    onUnfollow = (userId) => {\r\n        this.props.unFollowThunkCreator(userId)\r\n    }\r\n\r\n    onFollow = (userId) => {\r\n        this.props.followThunkCreator(userId)\r\n    }\r\n\r\n    onSetCurrentPage = (number) => {\r\n        this.props.setCurrentPageThunkCreator(number, this.props.pageSize)\r\n    }\r\n\r\n    onMessage = (userId) => {\r\n        this.props.goToDialogThunkCreator(userId)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <UsersPage\r\n                onSetCurrentPage={this.onSetCurrentPage}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                usersData={this.props.usersData}\r\n                isWrote={this.props.isWrote}\r\n                onUnfollow={this.onUnfollow}\r\n                onFollow={this.onFollow}\r\n                onMessage={this.onMessage}\r\n                onSearchUsers={this.onSearchUsers}\r\n                currentDialogId={this.props.currentDialogId}\r\n                followingInProgress={this.props.followingInProgress}\r\n                setIsWroteInProgress={this.props.setIsWroteInProgress}\r\n                searchUsersInProgress={this.props.searchUsersInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setIsWrote,\r\n        setUsersThunkCreator,\r\n        searchUsersThunkCreator,\r\n        unFollowThunkCreator,\r\n        followThunkCreator,\r\n        setCurrentPageThunkCreator,\r\n        goToDialogThunkCreator,\r\n    }),\r\n    CheckAuthRedirect\r\n)(UsersPageContainer)"],"sourceRoot":""}