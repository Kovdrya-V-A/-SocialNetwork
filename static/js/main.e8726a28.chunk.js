(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{134:function(e,t,n){"use strict";t.a=n.p+"static/media/standUserAva.ab7efdc7.png"},135:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return M}));var r=n(4),a=n.n(r),s=n(9),o=n(25),i=n(2),c=n(7),u=n(24),l="UNFOLLOW",d="FOLLOW",g="SET_USERS",f="SET_USERS_TOTAL_COUNT",p="SET_CURRENT_USERS_PAGE",j="SET_IS_WROTE",h="UP_TOGGLE_IS_WROTE_PROGRESS",b="UP_TOGGLE_FOLLOWING_PROGRESS",m="TOGGLE_SEARCH_USERS_PROGRESS",O={usersData:[],currentPage:1,pageSize:7,totalUsersCount:0,isFetching:!1,isWrote:!1,followingInProgress:[],setIsWroteInProgress:[],searchUsersInProgress:!1},_=function(e,t){return{type:l,userId:e,message:t}},P=function(e,t,n){return{type:d,userId:e,message:t,error:n}},v=function(e){return{type:g,usersData:e}},x=function(e){return{type:p,number:e}},I=function(e){return{type:f,count:e}},D=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},w=function(e){return{type:j,isWrote:e}},S=function(e,t){return{type:h,inProgress:e,userId:t}},N=function(e,t){return{type:b,inProgress:e,userId:t}},k=function(e){return{type:m,searchUsersInProgress:e}},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),n.next=3,Object(c.n)(e,t);case 3:s=n.sent,r(D(!1)),r(v(s.items)),r(I(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return k(!0),r.next=3,Object(c.p)(e,t,!0,n);case 3:o=r.sent,s(v(o.items)),s(I(o.totalCount)),s(k(!1));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(c.s)(e);case 3:r=t.sent,n(_(e,r.message)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(c.f)(e);case 3:r=t.sent,n(P(e,r.message,r.error)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(e)),r(D(!0)),n.next=4,Object(c.n)(e,t);case 4:s=n.sent,r(D(!1)),r(v(s.items)),r(I(s.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0,e)),t.next=3,Object(c.o)(e);case 3:r=t.sent,n(w(!0)),n(Object(u.f)(r.idDialog)),n(S(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!t.error}):e}))});case g:return Object(i.a)(Object(i.a)({},e),{},{usersData:Object(o.a)(t.usersData)});case p:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.number});case f:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.count});case j:return Object(i.a)(Object(i.a)({},e),{},{isWrote:t.isWrote});case h:return Object(i.a)(Object(i.a)({},e),{},{setIsWroteInProgress:t.inProgress?[].concat(Object(o.a)(e.setIsWroteInProgress),[t.userId]):e.setIsWroteInProgress.filter((function(e){return e!=t.userId}))});case b:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case m:return Object(i.a)(Object(i.a)({},e),{},{searchUsersInProgress:t.searchUsersInProgress});default:return e}}},139:function(e,t,n){e.exports={footer:"Footer_footer__3GEEm"}},140:function(e,t,n){e.exports={settings:"Settings_settings__37aTB"}},143:function(e,t,n){e.exports={profilePage:"ProfilePage_profilePage__1v0sS"}},174:function(e,t,n){},19:function(e,t,n){e.exports={profileInfoWrap:"ProfileInfo_profileInfoWrap__21npk",profileInfo:"ProfileInfo_profileInfo__37NZF",ProfileStatus:"ProfileInfo_ProfileStatus__kWrzt",statusValue:"ProfileInfo_statusValue__3-Pw3",strangerStatusValue:"ProfileInfo_strangerStatusValue__J5rsx",inputStatus:"ProfileInfo_inputStatus__2r1-C",inputStatusArea:"ProfileInfo_inputStatusArea__jIbXg",ava:"ProfileInfo_ava__2MQDi",userData:"ProfileInfo_userData__3M54u",name:"ProfileInfo_name__lNL1_",modal:"ProfileInfo_modal__28SLg",modalName:"ProfileInfo_modalName__1fTWo",choiceFile:"ProfileInfo_choiceFile__2X3Rr",modalContent:"ProfileInfo_modalContent__DXr_w",addImgInput:"ProfileInfo_addImgInput__YUEp_",submitInput:"ProfileInfo_submitInput__2D1ZT",changeAvaStatus:"ProfileInfo_changeAvaStatus__1YHab",loadedImg:"ProfileInfo_loadedImg__1IYp9",activity:"ProfileInfo_activity__3513U",activityButton:"ProfileInfo_activityButton__3bT-Y"}},21:function(e,t,n){e.exports={main:"AuthoReg_main__2SsnM",form:"AuthoReg_form__FkHsO",autoReg:"AuthoReg_autoReg__YtsmX",authorisation:"AuthoReg_authorisation__2sirQ",entryButton:"AuthoReg_entryButton__3joip",imgLoadWrap:"AuthoReg_imgLoadWrap__2tnHN",registration:"AuthoReg_registration__1DiEh",regButton:"AuthoReg_regButton__3wMbq",authLink:"AuthoReg_authLink__3AwIA",link:"AuthoReg_link__1ADaR",addImg:"AuthoReg_addImg__39XFH",loadedImg:"AuthoReg_loadedImg__6qvu_",summaryErrorBar:"AuthoReg_summaryErrorBar__3OO6I"}},23:function(e,t,n){e.exports={nav:"Nav_nav__1IZr-",navItem:"Nav_navItem__1qv9U",link:"Nav_link__1BqEI",logoutLink:"Nav_logoutLink__N7lpE",activeLink:"Nav_activeLink__1kvgm",logoutButton:"Nav_logoutButton__3A0cD"}},24:function(e,t,n){"use strict";n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return C}));var r=n(4),a=n.n(r),s=n(9),o=n(25),i=n(2),c=n(7),u="SEND_MESSAGE",l="SET_MESSAGES",d="SET_DIALOGS",g="SET_CURRENT_DIALOG",f="DELETE_DIALOG",p="DELETE_MESSAGE",j="TOGGLE_SET_CURRENT_DIALOG_PROGRESS",h="TOGGLE_DELETE_DIALOG_PROGRESS",b="TOGGLE_DELETE_MESSAGE_PROGRESS",m="TOGGLE_SEND_MESSAGE_PROGRESS",O={dialogsData:[],messagesData:[],currentDialogId:null,setCurrentDialogInProgress:!1,deleteDialogInProgress:!1,deleteMessageInProgress:!1,sendMessageInProgress:!1},_=function(e,t){return{type:f,idDialog:e,message:t}},P=function(e){return{type:l,messagesData:e}},v=function(e,t){return{type:p,idMessage:e,message:t}},x=function(e){return{type:g,selectedDialogId:e}},I=function(e){return{type:j,setCurrentDialogInProgress:e}},D=function(e){return{type:h,deleteDialogInProgress:e}},w=function(e){return{type:b,deleteMessageInProgress:e}},S=function(e){return{type:m,sendMessageInProgress:e}},N=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.g)();case 2:if((r=t.sent)&&n((a=r.items,{type:d,dialogsData:a})),!e){t.next=9;break}return t.next=7,Object(c.i)(e);case 7:(s=t.sent)?n(P(s.items)):null===s&&n(P([]));case 9:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),n.next=3,Object(c.c)(e);case 3:s=n.sent,r(_(e,s.message)),t===e&&r(x("")),r(D(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),n.next=3,Object(c.d)(e,t);case 3:s=n.sent,r(v(t,s.message)),r(w(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(I(!0)),t.next=3,Object(c.i)(e);case 3:(r=t.sent)?n(P(r.items)):null===r&&n(P([])),n(I(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(S(!0)),n.next=3,Object(c.q)(e,t);case 3:s=n.sent,r((a=s[0].name,o=s[0].img,i=s[0].id,l=s[0].text,d=s[0].time,g=s[0].senderId,{type:u,name:a,img:o,id:i,text:l,time:d,senderId:g})),r(S(!1));case 6:case"end":return n.stop()}var a,o,i,l,d,g}),n)})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:t.id,name:t.name,text:t.text,img:t.img,time:t.time,senderId:t.senderId};return Object(i.a)(Object(i.a)({},e),{},{messagesData:[].concat(Object(o.a)(e.messagesData),[n])});case l:return Object(i.a)(Object(i.a)({},e),{},{messagesData:Object(o.a)(t.messagesData)});case f:return Object(i.a)(Object(i.a)({},e),{},{dialogsData:e.dialogsData.map((function(e){return e.idDialog===t.idDialog?Object(i.a)(Object(i.a)({},e),{},{isDeleted:!0}):e}))});case p:return Object(i.a)(Object(i.a)({},e),{},{messagesData:e.messagesData.map((function(e){return e.id===t.idMessage?Object(i.a)(Object(i.a)({},e),{},{isDeleted:!0}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{dialogsData:Object(o.a)(t.dialogsData)});case g:return Object(i.a)(Object(i.a)({},e),{},{currentDialogId:t.selectedDialogId});case j:return Object(i.a)(Object(i.a)({},e),{},{setCurrentDialogInProgress:t.setCurrentDialogInProgress});case h:return Object(i.a)(Object(i.a)({},e),{},{deleteDialogInProgress:t.deleteDialogInProgress});case b:return Object(i.a)(Object(i.a)({},e),{},{deleteMessageInProgress:t.deleteMessageInProgress});case m:return Object(i.a)(Object(i.a)({},e),{},{sendMessageInProgress:t.sendMessageInProgress});default:return e}}},307:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=(n(174),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,308)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))}),o=n(77),i=n.n(o),c=n(15),u=n(16),l=n(18),d=n(17),g=n(139),f=n.n(g),p=n(0),j=function(){return Object(p.jsx)("footer",{className:f.a.footer,children:"FOOTER"})},h=n(67),b=n.n(h),m=function(){return Object(p.jsx)("header",{className:b.a.header,children:Object(p.jsxs)("div",{className:b.a.headerWRap,children:[Object(p.jsx)("div",{className:b.a.logo,children:Object(p.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/10/wonder-day-among-us-21.png"})}),Object(p.jsx)("div",{className:b.a.title,children:Object(p.jsx)("p",{children:"VLopatiche"})})]})})},O=n(56),_=n.n(O),P=n(22),v=n(140),x=n.n(v),I=n(10),D=n(11),w=n(32),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(N,{})}}]),n}(a.a.Component),N=function(){return Object(p.jsx)("div",{className:x.a.settings,children:Object(p.jsx)("h1",{children:"\u0421\u0422\u0420\u0410\u041d\u0418\u0426\u0410 \u041d\u0410\u0421\u0422\u0420\u041e\u0415\u041a (\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415)"})})},k=Object(D.d)(Object(I.b)((function(e){return{}}),{}),w.a)(S),T=n(82),y=n.n(T),C=n(46),A=n.n(C),E=n(13),M=function(e){return Object(p.jsxs)("div",{className:A.a.news,children:[Object(p.jsx)("div",{className:A.a.avaNews,children:Object(p.jsx)("img",{src:e.img,alt:"avaNews"})}),Object(p.jsxs)("div",{className:A.a.newsContent,children:[Object(p.jsx)("div",{className:A.a.resourceName,children:Object(p.jsx)(E.b,{className:A.a.resourceLink,to:"/AuthUser/ProfilePage/"+e.resourceId,children:Object(p.jsx)("h2",{children:e.name})})}),Object(p.jsx)("div",{className:A.a.newsText,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:A.a.dateTime,children:Object(p.jsx)("p",{children:e.dateTime})})]})]})},U=a.a.memo(M),F=n(78),L=function(e){var t=e.newsData.map((function(e){return Object(p.jsx)(U,{id:e.idPost,resourceId:e.resourceId,img:e.img,name:e.name,text:e.text,dateTime:e.dateTime},e.idPost)}));return Object(p.jsx)("div",{className:y.a.newsPage,children:Object(p.jsxs)("div",{className:y.a.newsList,children:[t,Object(p.jsx)("div",{className:y.a.selectingPageMenu,children:Object(p.jsx)(F.a,{totalCount:e.totalNewsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage})})]})})},W=a.a.memo(L),R=n(4),B=n.n(R),G=n(9),z=n(25),V=n(2),H=n(7),X="SET_NEWS",q="SET_CURRENT_NEWS_PAGE",Z="SET_NEWS_TOTAL_COUNT",J={newsData:[],currentPage:1,pageSize:10,totalNewsCount:0},Y=function(e){return{type:X,newsData:e}},Q=function(e){return{type:q,number:e}},K=function(e){return{type:Z,count:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(V.a)(Object(V.a)({},e),{},{newsData:Object(z.a)(t.newsData)});case q:return Object(V.a)(Object(V.a)({},e),{},{currentPage:t.number});case Z:return Object(V.a)(Object(V.a)({},e),{},{totalNewsCount:t.count});default:return e}},ee=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onSetCurrentPage=function(t){e.props.setCurrentPageThunkCreator(t,e.props.newsPage.pageSize)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){this.props.setNewsThunkCreator(this.props.newsPage.currentPage,this.props.newsPage.pageSize)}},{key:"render",value:function(){return Object(p.jsx)(W,{onSetCurrentPage:this.onSetCurrentPage,currentPage:this.props.newsPage.currentPage,totalNewsCount:this.props.newsPage.totalNewsCount,pageSize:this.props.newsPage.pageSize,newsData:this.props.newsPage.newsData})}}]),n}(a.a.Component),te=Object(D.d)(Object(I.b)((function(e){return{newsPage:e.newsPage}}),{setNewsThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(H.j)(e,t);case 2:(a=n.sent)&&(r(Y(a.items)),r(K(a.totalCount)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setCurrentPageThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Q(e)),n.next=3,Object(H.j)(e,t);case 3:a=n.sent,r(Y(a.items)),r(K(a.totalCount));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),w.a)(ee),ne=n(143),re=n.n(ne),ae=n(83),se=n.n(ae),oe=n(47),ie=n.n(oe),ce=function(e){return Object(p.jsxs)("div",{className:ie.a.postBox,children:[Object(p.jsx)("div",{className:ie.a.avaPost,children:Object(p.jsx)("img",{src:e.avaImg,alt:"avapost"})}),Object(p.jsxs)("div",{className:ie.a.postContent,children:[Object(p.jsx)("div",{className:ie.a.name,children:Object(p.jsx)("p",{children:e.name})}),Object(p.jsx)("div",{className:ie.a.postText,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:ie.a.dateTime,children:Object(p.jsx)("p",{children:e.dateTime})})]}),e.isMyProfile?Object(p.jsx)("div",{className:ie.a.deletePost,children:Object(p.jsx)("button",{disabled:e.deletePostInProgress,onClick:function(){return e.onDeletePost(e.idPost)},children:Object(p.jsx)("p",{children:"\xd7"})})}):null]})},ue=a.a.memo(ce),le=n(38),de=n(136),ge=n(137),fe=n(147),pe=n(45),je=n.n(pe),he=["input","meta"],be=function(e){return function(t){var n=t.input,r=t.meta,a=Object(fe.a)(t,he),s=r.touched&&r.error;return Object(p.jsxs)("div",{className:je.a.formBar,children:[Object(p.jsx)(e,Object(V.a)(Object(V.a)(Object(V.a)({},n),a),{},{className:"textarea"===e?je.a.textareaForm:je.a.inputForm+" "+(s?je.a.error:null)})),s?Object(p.jsx)("span",{className:je.a.errorText,children:r.error}):null]})}},me=function(e){if(!e)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},Oe=function(e,t){return function(n){return n&&n.length>t?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(t):n&&n.length<e?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(e):void 0}},_e=function(e){var t=e.postsData.map((function(t){return t.isDeleted?null:Object(p.jsx)(ue,{avaImg:e.avaImg,name:e.name,text:t.text,dateTime:t.dateTime,idPost:t.idPost,onDeletePost:e.onDeletePost,deletePostInProgress:e.deletePostInProgress,isMyProfile:e.isMyProfile},t.idPost)}));return Object(p.jsxs)("div",{className:se.a.myPosts,children:[e.isMyProfile?Object(p.jsx)(xe,{addPostInProgress:e.addPostInProgress,onSubmit:function(t,n){e.onAddNewPost(t.postText),n(Object(le.a)("addPost"))}}):null,Object(p.jsx)("h2",{children:e.isMyProfile?"\u0412\u0430\u0448\u0438 \u043f\u043e\u0441\u0442\u044b:":"\u041f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),e.postsData.length>0?t:"\u0412 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432"]})},Pe=be("textarea"),ve=Oe(0,500),xe=Object(ge.a)({form:"addPost"})((function(e){return Object(p.jsxs)("form",{className:se.a.addPostForm,onSubmit:e.handleSubmit,children:[Object(p.jsx)(de.a,{placeholder:"\u0415\u0441\u0442\u044c \u0447\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e ?",name:"postText",validate:[ve],component:Pe}),Object(p.jsx)("button",{disabled:e.addPostInProgress,className:se.a.addPostButton,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})),Ie=a.a.memo(_e),De=n(24),we="ADD_POST",Se="SET_POSTS",Ne="SET_PROFILE_INFO",ke="DELETE_POST",Te="SET_CHANGE_AVA_IS_ACTIVE",ye="SET_CHANGE_AVA_STATUS",Ce="TOGGLE_ADD_POST_PROGRESS",Ae="TOGGLE_DELETE_POST_PROGRESS",Ee="SET_STATUS",Me="SP_TOGGLE_IS_WROTE_PROGRESS",Ue="SP_TOGGLE_FOLLOWING_PROGRESS",Fe="SET_IS_WROTE",Le="UNFOLLOW",We="FOLLOW",Re="SET_MY_ID",Be={postsData:[],profileData:[{}],changeAvaIsActive:!1,changeAvaStatus:null,addPostInProgress:!1,deletePostInProgress:!1,status:"",isWrote:!1,setIsWroteInProgress:!1,followingInProgress:!1,myId:null},Ge=function(e){return{type:Fe,isWrote:e}},ze=function(e){return{type:Ee,statusText:e}},Ve=function(e,t){return{type:ke,idPost:e,message:t}},He=function(e){return{type:Se,postsData:e}},Xe=function(e){return{type:Te,changeAvaIsActive:e}},qe=function(e){return{type:Ce,addPostInProgress:e}},Ze=function(e){return{type:Ae,deletePostInProgress:e}},Je=function(e){return{type:Me,setIsWroteInProgress:e}},Ye=function(e){return{type:Ue,followingInProgress:e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(V.a)(Object(V.a)({},e),{},{myId:t.myId});case Le:return Object(V.a)(Object(V.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{followed:!1})}))});case We:return Object(V.a)(Object(V.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{followed:!0})}))});case Fe:return Object(V.a)(Object(V.a)({},e),{},{isWrote:t.isWrote});case we:var n={idPost:t.idPost,text:t.text,dateTime:t.dateTime};return Object(V.a)(Object(V.a)({},e),{},{postsData:[n].concat(Object(z.a)(e.postsData))});case Te:return Object(V.a)(Object(V.a)({},e),{},{changeAvaIsActive:t.changeAvaIsActive});case ye:return Object(V.a)(Object(V.a)({},e),{},{changeAvaStatus:t.status});case ke:return Object(V.a)(Object(V.a)({},e),{},{postsData:e.postsData.map((function(e){return e.idPost===t.idPost?Object(V.a)(Object(V.a)({},e),{},{isDeleted:!0}):e}))});case Ne:return Object(V.a)(Object(V.a)({},e),{},{profileData:[t.profileData]});case Se:if(t.postsData)return Object(V.a)(Object(V.a)({},e),{},{postsData:Object(z.a)(t.postsData)});case Ce:return Object(V.a)(Object(V.a)({},e),{},{addPostInProgress:t.addPostInProgress});case Ae:return Object(V.a)(Object(V.a)({},e),{},{deletePostInProgress:t.deletePostInProgress});case Ee:return Object(V.a)(Object(V.a)({},e),{},{status:t.statusText});case Me:return Object(V.a)(Object(V.a)({},e),{},{setIsWroteInProgress:t.setIsWroteInProgress});case Ue:return Object(V.a)(Object(V.a)({},e),{},{followingInProgress:t.followingInProgress});default:return e}},Ke=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAddNewPost=function(t){t&&e.props.addPostThunkCreator(t)},e.onDeletePost=function(t){e.props.deletePostThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setPostsThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setPostsThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(p.jsx)(Ie,{postsData:this.props.profilePage.postsData,onAddNewPost:this.onAddNewPost,onDeletePost:this.onDeletePost,avaImg:this.props.profilePage.profileData[0].img,name:this.props.profilePage.profileData[0].name,addPostInProgress:this.props.profilePage.addPostInProgress,deletePostInProgress:this.props.profilePage.deletePostInProgress,isMyProfile:this.props.isMyProfile})}}]),n}(a.a.Component),$e=Object(I.b)((function(e){return{profilePage:e.profilePage}}),{setPostsThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.k)(e);case 2:r=t.sent,n(He(r?r.items:[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPostThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(qe(!0)),t.next=3,Object(H.a)(e);case 3:r=t.sent,n((a=r[0].idPost,s=r[0].text,o=r[0].dateTime,{type:we,idPost:a,text:s,dateTime:o})),n(qe(!1));case 6:case"end":return t.stop()}var a,s,o}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePostThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ze(!0)),t.next=3,Object(H.e)(e);case 3:r=t.sent,n(Ve(e,r.message)),n(Ze(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ke),et=n(19),tt=n.n(et),nt=n(20),rt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).custom_file_upload_url="".concat(H.r,"/uploadImg"),r.onSetChangeAvaIsActive=function(e){r.props.setChangeAvaIsActive(e),!e&&r.props.changeAvaStatus&&window.location.reload()},r.onSetChangeAvaStatus=function(e){r.props.setChangeAvaStatus(e)},r.handleImagePreview=function(e){var t=URL.createObjectURL(e.target.files[0]),n=e.target.files[0];r.setState({image_preview:t,image_file:n})},r.handleSubmitFile=function(){if(null!==r.state.image_file){var e=new FormData;e.append("file",r.state.image_file),e.append("token",localStorage.getItem("userToken")),nt.post(r.custom_file_upload_url,e,{headers:{Accept:"application/json","Content-type":"multipart/form-data"}}).then((function(e){r.onSetChangeAvaStatus(e.data.message||e.data.error)}))}},r.state={image_file:null,image_preview:""},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:tt.a.modal,onClick:function(){return e.onSetChangeAvaIsActive(!1)},children:Object(p.jsxs)("div",{className:tt.a.modalContent,onClick:function(e){return e.stopPropagation()},children:[Object(p.jsx)("div",{className:tt.a.modalName,children:Object(p.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u043e\u0442\u043e"})}),Object(p.jsx)("input",{className:tt.a.addImgInput,type:"file",onChange:this.handleImagePreview}),Object(p.jsx)("img",{className:tt.a.loadedImg,src:this.state.image_preview}),Object(p.jsx)("div",{className:tt.a.changeAvaStatus,children:Object(p.jsx)("p",{children:this.props.changeAvaStatus})}),Object(p.jsx)("input",{className:tt.a.submitInput,type:"submit",onClick:this.handleSubmitFile,value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})})}}]),n}(a.a.Component),at=Object(I.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,changeAvaStatus:e.profilePage.changeAvaStatus,registrationPage:e.registrationPage,serverLink:e.authorizationPage.serverLink}}),(function(e){return{setChangeAvaIsActive:function(t){e(Xe(t))},setChangeAvaStatus:function(t){e(function(e){return{type:ye,status:e}}(t))}}}))(rt),st=n(66),ot=function(e){var t=Object(r.useState)(!1),n=Object(st.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.status),i=Object(st.a)(o,2),c=i[0],u=i[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(p.jsx)("div",{className:tt.a.ProfileStatus,children:a?Object(p.jsx)("div",{className:tt.a.inputStatusArea,children:Object(p.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.onSetNewStatus(c)},className:tt.a.inputStatus,value:c})}):Object(p.jsx)("div",{children:Object(p.jsx)("span",{className:e.isMyProfile?tt.a.statusValue:tt.a.strangerStatusValue,onDoubleClick:e.isMyProfile?function(){s(!0)}:null,children:e.status})})})},it=a.a.memo(ot),ct=function(e){return Object(p.jsxs)("div",{className:tt.a.profileInfoWrap,children:[Object(p.jsxs)("div",{className:tt.a.profileInfo,children:[Object(p.jsx)("div",{className:tt.a.ava,children:Object(p.jsx)("img",{alt:"ava",src:e.profileData[0].img})}),Object(p.jsxs)("div",{className:tt.a.userData,children:[Object(p.jsx)("p",{className:tt.a.name,children:e.profileData[0].name}),Object(p.jsx)(it,{onSetNewStatus:e.onSetNewStatus,status:e.status,isMyProfile:e.isMyProfile}),Object(p.jsxs)("p",{children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",e.profileData[0].age]}),Object(p.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441: ",e.profileData[0].address]}),e.profileData[0].followed?Object(p.jsx)("div",{className:tt.a.followedStatus,children:Object(p.jsx)("p",{children:"\u0412\u0430\u0448 \u0434\u0440\u0443\u0433"})}):null]})]}),Object(p.jsxs)("div",{className:tt.a.activity,children:[e.isMyProfile?Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return e.onSetChangeAvaIsActive(!0)},className:tt.a.activityButton,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})}):Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{disabled:e.setIsWroteInProgress,onClick:function(){e.onMessage(e.profileData[0].userId)},className:tt.a.activityButton,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.profileData[0].followed?Object(p.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onUnfollow(e.profileData[0].userId)},className:tt.a.activityButton,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(p.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onFollow(e.profileData[0].userId)},className:tt.a.activityButton,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),e.changeAvaIsActive?Object(p.jsx)(at,{}):null]})]})},ut=a.a.memo(ct),lt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUnfollow=function(t){e.props.unFollowThunkCreator(t)},e.onFollow=function(t){e.props.followThunkCreator(t)},e.onMessage=function(t){e.props.goToDialogThunkCreator(t)},e.onSetChangeAvaIsActive=function(t){e.props.setChangeAvaIsActive(t)},e.onSetNewStatus=function(t){e.props.setNewStatusThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(p.jsx)(ut,{isMyProfile:this.props.isMyProfile,changeAvaIsActive:this.props.changeAvaIsActive,profileData:this.props.profileData,status:this.props.status,onSetChangeAvaIsActive:this.onSetChangeAvaIsActive,onSetNewStatus:this.onSetNewStatus,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,setIsWroteInProgress:this.props.setIsWroteInProgress,followingInProgress:this.props.followingInProgress})}}]),n}(a.a.Component),dt=Object(D.d)(Object(I.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,profileData:e.profilePage.profileData,status:e.profilePage.status,setIsWroteInProgress:e.profilePage.setIsWroteInProgress,followingInProgress:e.profilePage.followingInProgress}}),{setChangeAvaIsActive:Xe,setProfileInfoThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.l)(e);case 2:return r=t.sent,n({type:Ne,profileData:r}),t.next=6,Object(H.m)(e);case 6:a=t.sent,n(ze(a.userStatus));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewStatusThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.t)(e);case 2:(r=t.sent).error||n(ze(r.userStatus));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ye(!0)),t.next=3,Object(H.s)(e);case 3:r=t.sent,n((a=e,r.message,{type:Le,message:a})),n(Ye(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ye(!0)),t.next=3,Object(H.f)(e);case 3:r=t.sent,n((a=e,r.message,{type:We,message:a})),n(Ye(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},goToDialogThunkCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Je(!0)),t.next=3,Object(H.o)(e);case 3:r=t.sent,n(Ge(!0)),n(Object(De.f)(r.idDialog)),n(Je(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(lt),gt=function(e){return Object(p.jsxs)("div",{className:re.a.profilePage,children:[Object(p.jsx)(dt,{isMyProfile:e.isMyProfile,profileId:e.profileId}),Object(p.jsx)($e,{isMyProfile:e.isMyProfile,profileId:e.profileId})]})},ft=a.a.memo(gt),pt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.isWrote&&this.props.setIsWrote(!1)}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){var e=this.props.match.params.profileId,t=+this.props.match.params.profileId===this.props.myId||!e;return this.props.isWrote&&this.props.currentDialogId?Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage/"+this.props.currentDialogId}):Object(p.jsx)(ft,{profileId:e,isMyProfile:t})}}]),n}(a.a.Component),jt=Object(D.d)(P.f,Object(I.b)((function(e){return{isWrote:e.profilePage.isWrote,currentDialogId:e.dialogsPage.currentDialogId,myId:e.profilePage.myId}}),{setIsWrote:Ge}),w.a)(pt),ht=n(39),bt=n.n(ht),mt=n(33),Ot=n.n(mt),_t=n(134),Pt=function(e){return e.isWrote&&e.currentDialogId?Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage/"+e.currentDialogId}):Object(p.jsxs)("div",{className:Ot.a.friend,children:[Object(p.jsx)("div",{className:Ot.a.friendAva,children:Object(p.jsx)("img",{src:null!=e.img?e.img:_t.a,alt:"userAva"})}),Object(p.jsxs)("div",{className:Ot.a.friendInfo,children:[Object(p.jsx)(E.b,{className:Ot.a.friendLink,to:"/AuthUser/ProfilePage/"+e.id,children:"".concat(e.name)}),Object(p.jsx)("button",{disabled:e.isWroteInProgress.some((function(t){return t==e.id})),onClick:function(){e.onMessage(e.id)},className:"".concat(Ot.a.toMessageButton," ").concat(Ot.a.button),children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.followed?Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onUnfollow(e.id)},className:"".concat(Ot.a.unfollowButton," ").concat(Ot.a.button),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onFollow(e.id)},className:"".concat(Ot.a.followButton," ").concat(Ot.a.button),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),e.followed?null:Object(p.jsx)("div",{className:Ot.a.followedStatus,children:Object(p.jsx)("p",{children:"\u0423\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})})]})]})},vt=a.a.memo(Pt),xt=function(e){var t=e.friendsData.map((function(t){return Object(p.jsx)(vt,{img:t.img,id:t.id,name:t.name,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followed:t.followed,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress},t.id)}));return Object(p.jsx)("div",{className:bt.a.friendList,children:e.friendsData.length>0?t:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439"})},It=a.a.memo(xt),Dt=function(e){return Object(p.jsxs)("div",{className:bt.a.friendsPage,children:[Object(p.jsx)("div",{className:bt.a.searchFriendsButtonWrap,children:Object(p.jsx)("button",{className:bt.a.searchFriendsButton,children:Object(p.jsx)(E.b,{className:bt.a.searchFriends,to:"/AuthUser/UsersPage",children:"Search new friends"})})}),Object(p.jsxs)("div",{className:bt.a.usersListArea,children:[Object(p.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f:"}),Object(p.jsx)(It,{friendsData:e.friendsData,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress})]}),Object(p.jsx)("div",{className:bt.a.selectingPageMenu,children:e.friendsData.length>0?Object(p.jsx)(F.a,{totalCount:e.totalFriendsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage}):null})]})},wt=a.a.memo(Dt),St="SET_FRIENDS",Nt="SET_FRIENDS_TOTAL_COUNT",kt="SET_CURRENT_FRIENDS_PAGE",Tt="SET_IS_WROTE",yt="UNFOLLOW",Ct="FOLLOW",At="FP_TOGGLE_FOLLOWING_PROGRESS",Et="FP_TOGGLE_IS_WROTE_PROGRESS",Mt={friendsData:[],currentPage:1,pageSize:7,totalFriendsCount:0,isFetching:!1,followingInProgress:[],isWrote:!1,isWroteInProgress:[]},Ut=function(e){return{type:St,friendsData:e}},Ft=function(e){return{type:kt,number:e}},Lt=function(e){return{type:Nt,count:e}},Wt=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},Rt=function(e){return{type:Tt,isWrote:e}},Bt=function(e,t){return{type:yt,userId:e,message:t}},Gt=function(e,t){return{type:At,inProgress:e,userId:t}},zt=function(e,t){return{type:Et,inProgress:e,userId:t}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return Object(V.a)(Object(V.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.userId?Object(V.a)(Object(V.a)({},e),{},{followed:!1}):e}))});case Ct:return Object(V.a)(Object(V.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.friendId?Object(V.a)(Object(V.a)({},e),{},{followed:!0}):e}))});case Tt:return Object(V.a)(Object(V.a)({},e),{},{isWrote:t.isWrote});case St:return t.friendsData?Object(V.a)(Object(V.a)({},e),{},{friendsData:Object(z.a)(t.friendsData)}):e;case kt:return Object(V.a)(Object(V.a)({},e),{},{currentPage:t.number});case Nt:return Object(V.a)(Object(V.a)({},e),{},{totalFriendsCount:t.count});case At:return Object(V.a)(Object(V.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(z.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});case Et:return Object(V.a)(Object(V.a)({},e),{},{isWroteInProgress:t.inProgress?[].concat(Object(z.a)(e.isWroteInProgress),[t.userId]):e.isWroteInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Ht=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUnfollow=function(t){e.props.unFollowThunkActionCreator(t)},e.onFollow=function(t){e.props.followThunkActionCreator(t)},e.onSetCurrentPage=function(t){e.props.setCurrentPageThunkActionCreator(t,e.props.pageSize)},e.onMessage=function(t){e.props.goToDialogThunkActionCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setFriendsThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.setIsWrote(!1),this.props.setCurrentPage(1)}},{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(wt,{totalFriendsCount:this.props.totalFriendsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,friendsData:this.props.friendsData,currentDialogId:this.props.currentDialogId,onSetCurrentPage:this.onSetCurrentPage,isWrote:this.props.isWrote,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,followingInProgress:this.props.followingInProgress,isWroteInProgress:this.props.isWroteInProgress})})}}]),n}(a.a.Component),Xt=Object(D.d)(Object(I.b)((function(e){return{friendsData:e.friendsPage.friendsData,pageSize:e.friendsPage.pageSize,totalFriendsCount:e.friendsPage.totalFriendsCount,currentPage:e.friendsPage.currentPage,isFetching:e.friendsPage.isFetching,isWrote:e.friendsPage.isWrote,serverLink:e.authorizationPage.serverLink,currentDialogId:e.dialogsPage.currentDialogId,followingInProgress:e.friendsPage.followingInProgress,isWroteInProgress:e.friendsPage.isWroteInProgress,auth:e.authorizationPage.auth}}),{setIsWrote:Rt,setCurrentPage:Ft,setFriendsThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Wt(!0)),n.next=3,Object(H.h)(e,t);case 3:a=n.sent,r(Wt(!1)),a&&(r(Ut(a.items)),r(Lt(a.totalCount)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unFollowThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Gt(!0,e)),t.next=3,Object(H.s)(e);case 3:r=t.sent,n(Bt(e,r.message)),n(Gt(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Gt(!0,e)),t.next=3,Object(H.f)(e);case 3:r=t.sent,n((a=e,s=r.message,{type:Ct,friendId:a,message:s})),n(Gt(!1,e));case 6:case"end":return t.stop()}var a,s}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPageThunkActionCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ft(e)),r(Wt(!0)),n.next=4,Object(H.h)(e,t);case 4:a=n.sent,r(Wt(!1)),r(Ut(a.items)),r(Lt(a.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},goToDialogThunkActionCreator:function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(zt(!0,e)),t.next=3,Object(H.o)(e);case 3:r=t.sent,n(Rt(!0)),n(Object(De.f)(r.idDialog)),n(zt(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w.a)(Ht),qt=n(23),Zt=n.n(qt),Jt=function(e){return Object(p.jsxs)("nav",{className:Zt.a.nav,children:[Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:Zt.a.link,activeClassName:Zt.a.activeLink,to:"/AuthUser/ProfilePage/"+e.myId,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("p",{onClick:function(){return e.onGoToDialogsPage("")},children:Object(p.jsx)(E.b,{className:Zt.a.link,activeClassName:Zt.a.activeLink,to:"/AuthUser/DialogsPage",children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"})})}),Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:Zt.a.link,activeClassName:Zt.a.activeLink,to:"/AuthUser/FriendsPage",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})})}),Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:Zt.a.link,activeClassName:Zt.a.activeLink,to:"/AuthUser/NewsPage",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})})}),Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("p",{children:Object(p.jsx)(E.b,{className:Zt.a.link,activeClassName:Zt.a.activeLink,to:"/AuthUser/Settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})}),Object(p.jsx)("div",{className:Zt.a.navItem,children:Object(p.jsx)("button",{className:Zt.a.logoutButton,onClick:function(){e.onExit()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})},Yt="USER_VERIFICATION",Qt="RESET_VERIFICATION",Kt="SET_USER_TOKEN",$t="SET_AUTH_USER_ID",en="TOGGLE_AUTHORISATION_PROGRESS",tn={auth:!1,authorisationInProgress:!1,authUserId:null},nn=function(){return{type:Yt}},rn=function(e){return{type:en,authorisationInProgress:e}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(V.a)(Object(V.a)({},e),{},{auth:!0});case $t:return Object(V.a)(Object(V.a)({},e),{},{authUserId:t.authUserId});case Qt:return localStorage.removeItem("userToken"),Object(V.a)(Object(V.a)({},e),{},{auth:!1});case Kt:return localStorage.setItem("userToken",t.token),e;default:return e;case en:return Object(V.a)(Object(V.a)({},e),{},{authorisationInProgress:t.authorisationInProgress})}},sn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onGoToDialogsPage=function(t){e.props.setCurrentDialog(t)},e.onExit=function(){e.props.resetVerificationThunkCreator()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(p.jsx)(Jt,{onGoToDialogsPage:this.onGoToDialogsPage,myId:this.props.myId,onExit:this.onExit})}}]),n}(a.a.Component),on=Object(I.b)((function(e){return{myId:e.profilePage.myId}}),{setCurrentDialog:De.f,resetVerificationThunkCreator:function(){return function(e){e({type:Qt})}}})(sn),cn=n(37),un=n.n(cn),ln=n(40),dn=n.n(ln),gn=function(e){return Object(p.jsxs)("div",{className:dn.a.message,children:[Object(p.jsx)("div",{className:dn.a.senderAva,children:Object(p.jsx)("img",{src:e.senderAva,alt:"senderava"})}),Object(p.jsxs)("div",{className:dn.a.messageContent,children:[Object(p.jsx)("div",{className:dn.a.senderName,children:Object(p.jsx)(E.b,{className:dn.a.senderLink,to:"/AuthUser/ProfilePage/"+e.senderId,children:e.senderName})}),Object(p.jsx)("div",{className:dn.a.text,children:Object(p.jsx)("p",{children:e.text})}),Object(p.jsx)("div",{className:dn.a.time,children:e.time})]}),Object(p.jsx)("div",{className:dn.a.deleteMessage,children:Object(p.jsx)("button",{disabled:e.deleteMessageInProgress,onClick:function(){return e.onDeleteMessage(e.idMessage)},children:Object(p.jsx)("p",{children:"\xd7"})})})]})},fn=a.a.memo(gn),pn=function(e){var t=e.messagesData.map((function(t){return t.isDeleted?null:Object(p.jsx)(fn,{deleteMessageInProgress:e.deleteMessageInProgress,senderName:t.name,text:t.text,senderAva:t.img,time:t.time,idMessage:t.id,onDeleteMessage:e.onDeleteMassage,senderId:t.senderId},t.id)}));return Object(p.jsxs)("div",{className:un.a.messageBar,children:[e.messagesData.length>0?t:Object(p.jsx)("p",{className:un.a.nullMessagesMessage,children:"\u0412 \u044d\u0442\u043e\u043c \u0434\u0438\u0430\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"}),Object(p.jsx)(bn,{sendMessageInProgress:e.sendMessageInProgress,onSubmit:function(t,n){e.onSendNewMessage(t.messageText),n(Object(le.a)("sendMessage"))}})]})},jn=be("textarea"),hn=Oe(0,350),bn=Object(ge.a)({form:"sendMessage"})((function(e){return Object(p.jsxs)("form",{className:un.a.sendMessageForm,onSubmit:e.handleSubmit,children:[Object(p.jsx)(de.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"messageText",validate:[hn],component:jn}),Object(p.jsx)("button",{disabled:e.sendMessageInProgress,className:un.a.sendMessageButton,children:"Send message"})]})})),mn=a.a.memo(pn),On=n(51),_n=n.n(On),Pn=function(e){return Object(p.jsxs)("div",{className:_n.a.dialog,children:[Object(p.jsx)("div",{className:_n.a.dialogAva,children:Object(p.jsx)("img",{src:e.dialogAva,alt:"dialogAva"})}),Object(p.jsx)("button",{disabled:e.setCurrentDialogInProgress,onClick:function(){return e.onSetCurrentDialog(e.idDialog)},className:_n.a.dialogLinkButton,children:Object(p.jsx)(E.b,{className:_n.a.dialogLink,activeClassName:_n.a.activeDialog,to:"/AuthUser/DialogsPage/".concat(e.idDialog),children:e.chatName})}),Object(p.jsx)("div",{className:_n.a.deleteDialog,children:Object(p.jsx)("button",{disabled:e.deleteDialogInProgress,onClick:function(){return e.onDeleteDialog(e.idDialog)},children:Object(p.jsx)("p",{children:"\xd7"})})})]})},vn=a.a.memo(Pn),xn=function(e){var t=e.dialogsData.map((function(t){return t.isDeleted?null:Object(p.jsx)(vn,{deleteDialogInProgress:e.deleteDialogInProgress,setCurrentDialogInProgress:e.setCurrentDialogInProgress,onSetCurrentDialog:e.onSetCurrentDialog,dialogAva:t.img,idDialog:t.idDialog,chatName:t.name,onDeleteDialog:e.onDeleteDialog},t.idDialog)}));return Object(p.jsxs)("div",{className:un.a.dialogList,children:[Object(p.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432:"}),e.dialogsData.length>0?Object(p.jsx)("div",{className:un.a.dialogsBar,children:t}):Object(p.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u044b\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432. \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u0443 - \u043d\u0438\u0431\u0443\u0434\u044c, \u0438 \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0434\u0438\u0430\u043b\u043e\u0433"})]})},In=a.a.memo(xn),Dn=function(e){return Object(p.jsxs)(p.Fragment,{children:[e.currentDialogId?null:Object(p.jsx)(P.a,{to:"/AuthUser/DialogsPage"+e.currentDialogId}),Object(p.jsxs)("div",{className:un.a.dialogsPage,children:[e.currentDialogId?Object(p.jsx)(mn,{sendMessageInProgress:e.sendMessageInProgress,deleteMessageInProgress:e.deleteMessageInProgress,messagesData:e.messagesData,newMessageText:e.newMessageText,onSendNewMessage:e.onSendNewMessage,onDeleteMassage:e.onDeleteMassage}):null,Object(p.jsx)(In,{setCurrentDialogInProgress:e.setCurrentDialogInProgress,dialogsData:e.dialogsData,onDeleteDialog:e.onDeleteDialog,onSetCurrentDialog:e.onSetCurrentDialog,deleteDialogInProgress:e.deleteDialogInProgress})]})]})},wn=a.a.memo(Dn),Sn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.setDialogsThunkCreator(e.props.dialogsPage.currentDialogId)},e.componentWillUnmount=function(){e.props.setCurrentDialog("")},e.onDeleteDialog=function(t){e.props.deleteDialogThunkCreator(t,e.props.dialogsPage.currentDialogId)},e.onDeleteMassage=function(t){var n=e.props.match.params.dialogId;e.props.deleteMessageThunkCreator(n,t)},e.onSetCurrentDialog=function(t){e.props.setCurrentDialog(t),e.props.cetCurrentDialogThunkCreator(t)},e.onSendNewMessage=function(t){if(t){var n=e.props.match.params.dialogId;e.props.sendMessageThunkCreator(n,t)}},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){return Object(p.jsx)(wn,{dialogsData:this.props.dialogsPage.dialogsData,messagesData:this.props.dialogsPage.messagesData,onSendNewMessage:this.onSendNewMessage,currentDialogId:this.props.dialogsPage.currentDialogId,onSetCurrentDialog:this.onSetCurrentDialog,onDeleteDialog:this.onDeleteDialog,onDeleteMassage:this.onDeleteMassage,setCurrentDialogInProgress:this.props.dialogsPage.setCurrentDialogInProgress,deleteDialogInProgress:this.props.dialogsPage.deleteDialogInProgress,deleteMessageInProgress:this.props.dialogsPage.deleteMessageInProgress,sendMessageInProgress:this.props.dialogsPage.sendMessageInProgress})}}]),n}(a.a.Component),Nn=Object(D.d)(Object(I.b)((function(e){return{dialogsPage:e.dialogsPage}}),{setCurrentDialog:De.f,setDialogsThunkCreator:De.g,deleteDialogThunkCreator:De.c,deleteMessageThunkCreator:De.d,cetCurrentDialogThunkCreator:De.a,sendMessageThunkCreator:De.e}),w.a,P.f)(Sn),kn="SET_SESSION_IS_START",Tn={sessionIsStart:!1},yn=function(){return function(){var e=Object(G.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.b)();case 2:return(n=e.sent).auth&&(t(nn()),t((r=n.myId,{type:Re,myId:r}))),e.abrupt("return",!0);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn:return Object(V.a)(Object(V.a)({},e),{},{sessionIsStart:!0});default:return e}},An=n.p+"static/media/mainPreloader.eb8b1ae0.svg",En=function(){return Object(p.jsx)("img",{src:An,alt:"Preloader",height:"100px",width:"100px"})},Mn=a.a.lazy((function(){return n.e(3).then(n.bind(null,309))})),Un=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("userToken")&&this.props.setSessionIsStartThunkCreator()}},{key:"render",value:function(){return this.props.sessionIsStart?Object(p.jsxs)("div",{className:_.a.AppWrapper,children:[Object(p.jsx)(m,{}),Object(p.jsxs)("div",{className:_.a.main,children:[Object(p.jsx)(on,{}),Object(p.jsxs)("div",{className:_.a.content,children:[Object(p.jsx)(P.b,{path:"/AuthUser/ProfilePage/:profileId?",render:function(){return Object(p.jsx)(jt,{})}}),Object(p.jsx)(P.b,{path:"/AuthUser/DialogsPage/:dialogId?",render:function(){return Object(p.jsx)(Nn,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/AuthUser/UsersPage",render:function(){return Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{className:_.a.lazyLoadPreloaderBar,children:Object(p.jsx)(En,{})}),children:Object(p.jsx)(Mn,{})})}}),Object(p.jsx)(P.b,{path:"/AuthUser/NewsPage",render:function(){return Object(p.jsx)(te,{})}}),Object(p.jsx)(P.b,{path:"/AuthUser/Settings",render:function(){return Object(p.jsx)(k,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/AuthUser/FriendsPage",render:function(){return Object(p.jsx)(Xt,{})}})]})]}),Object(p.jsx)(j,{})]}):localStorage.getItem("userToken")?Object(p.jsx)("div",{className:_.a.preloaderBar,children:Object(p.jsx)(En,{})}):Object(p.jsx)(P.a,{to:"/"})}}]),n}(a.a.Component),Fn=Object(I.b)((function(e){return{sessionIsStart:e.app.sessionIsStart}}),{checkAuthMeThunkCreator:yn,setSessionIsStartThunkCreator:function(){return function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(yn());case 2:t({type:kn});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},CheckAuthRedirect:w.a})(Un),Ln=n(135),Wn="TOGGLE_REGISTRATION_PROGRESS",Rn={registrationInProgress:!1},Bn=function(e){return{type:Wn,registrationInProgress:e}},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wn:return Object(V.a)(Object(V.a)({},e),{},{registrationInProgress:t.registrationInProgress});default:return e}},zn=n(146),Vn=n(138),Hn=[Object(D.a)(zn.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()],Xn=Object(D.c)({app:Cn,dialogsPage:De.b,profilePage:Qe,usersPage:Ln.a,newsPage:$,authorizationPage:an,registrationPage:Gn,friendsPage:Vt,form:Vn.a}),qn=Object(D.e)(Xn,D.d.apply(void 0,Hn)),Zn=n(21),Jn=n.n(Zn),Yn=function(e){return Object(p.jsxs)("div",{className:Jn.a.wrapper,children:[Object(p.jsx)(m,{}),Object(p.jsx)("div",{className:Jn.a.main,children:Object(p.jsx)("div",{className:Jn.a.form,children:Object(p.jsxs)("div",{className:Jn.a.authorisation,children:[Object(p.jsx)("h3",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(p.jsx)(Kn,{authorisationInProgress:e.authorisationInProgress,onSubmit:function(t){e.onUserVerification(t.login,t.password)}}),Object(p.jsx)("div",{className:Jn.a.regLink,children:Object(p.jsxs)("p",{children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b ? ",Object(p.jsx)(E.b,{className:Jn.a.link,to:"/RegistrationPage",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})]})})}),Object(p.jsx)(j,{})]})},Qn=be("input"),Kn=Object(ge.a)({form:"authorization"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsxs)("div",{className:Jn.a.enterLogin,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(p.jsx)(de.a,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",validate:[me],component:Qn})]}),Object(p.jsxs)("div",{className:Jn.a.enterPassword,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(p.jsx)(de.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",validate:[me],component:Qn})]}),Object(p.jsxs)("div",{className:Jn.a.entryButton,children:[e.error?Object(p.jsx)("div",{className:Jn.a.summaryErrorBar,children:Object(p.jsx)("spans",{className:je.a.summaryError,children:e.error})}):null,Object(p.jsx)("button",{type:"submit",disabled:e.authorisationInProgress,children:"\u0412\u0445\u043e\u0434"})]})]})})),$n=a.a.memo(Yn),er=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).showSomeError=function(t,n){alert("Some untreated error =("),e.props.toggleAuthorisationProgress(!1)},e.onUserVerification=function(t,n){e.props.userVerificationThunkCreator(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("unhandledrejection",(function(){return e.showSomeError()}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("unhandledrejection",(function(){return e.showSomeError()}))}},{key:"render",value:function(){return this.props.authorizationPage.auth?Object(p.jsx)(P.a,{to:"/AuthUser/ProfilePage/"+this.props.authUserId}):Object(p.jsx)($n,{onUserVerification:this.onUserVerification,authorisationInProgress:this.props.authorizationPage.authorisationInProgress})}}]),n}(a.a.Component),tr=Object(I.b)((function(e){return{authorizationPage:e.authorizationPage,authUserId:e.authorizationPage.authUserId}}),{userVerificationThunkCreator:function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a,s;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(rn(!0)),n.next=3,Object(H.v)(e,t);case 3:(a=n.sent).key_type?(r((i=a.access_token,{type:Kt,token:i})),r((o=a.myId,{type:$t,authUserId:o})),r(nn())):(s=Object(le.b)("authorization",{_error:a.message}),r(s)),r(rn(!1));case 6:case"end":return n.stop()}var o,i}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleAuthorisationProgress:rn})(er),nr=function(e){return Object(p.jsxs)("div",{className:Jn.a.wrapper,children:[Object(p.jsx)(m,{}),Object(p.jsx)("div",{className:Jn.a.main,children:Object(p.jsx)("div",{className:Jn.a.form,children:Object(p.jsxs)("div",{className:Jn.a.registration,children:[Object(p.jsx)("h3",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsx)(or,{onSubmit:function(t){e.onRegistrationUser(t.login,t.password,t.firstName,t.lastName,t.address,t.age,t.email)},registrationInProgress:e.registrationInProgress}),Object(p.jsx)("div",{className:Jn.a.authLink,children:Object(p.jsxs)("p",{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 ? ",Object(p.jsx)(E.b,{className:Jn.a.link,to:"/",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})]})})}),Object(p.jsx)(j,{})]})},rr=Oe(3,20),ar=Oe(5,30),sr=be("input"),or=Object(ge.a)({form:"registration"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsxs)("div",{className:Jn.a.interLogin,children:[Object(p.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(p.jsx)(de.a,{name:"login",validate:[me,rr],component:sr,type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(p.jsxs)("div",{className:Jn.a.interEmail,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email:"}),Object(p.jsx)(de.a,{name:"email",validate:[me],component:sr,type:"text",placeholder:"Email"})]}),Object(p.jsxs)("div",{className:Jn.a.interName,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f:"}),Object(p.jsx)(de.a,{name:"firstName",validate:[me],component:sr,type:"text",placeholder:"\u0418\u043c\u044f"})]}),Object(p.jsxs)("div",{className:Jn.a.interFirstname,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e:"}),Object(p.jsx)(de.a,{name:"lastName",validate:[me],component:sr,type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]}),Object(p.jsxs)("div",{className:Jn.a.interAddress,children:[Object(p.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0433\u043e\u0440\u043e\u0434:"}),Object(p.jsx)(de.a,{name:"address",validate:[me],component:sr,type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434"})]}),Object(p.jsxs)("div",{className:Jn.a.interAge,children:[Object(p.jsx)("p",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442:"}),Object(p.jsx)(de.a,{name:"age",validate:[me],component:sr,type:"text",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})]}),Object(p.jsxs)("div",{className:Jn.a.interPassword,children:[Object(p.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(p.jsx)(de.a,{name:"password",validate:[me,ar],component:sr,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(p.jsx)("div",{className:Jn.a.regButton,children:Object(p.jsx)("button",{disabled:e.registrationInProgress,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})),ir=a.a.memo(nr),cr=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onRegistrationUser=function(t,n,r,a,s,o,i){e.props.registrationUserThunkCreator(t,n,r,a,s,o,i)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(ir,{onRegistrationUser:this.onRegistrationUser,registrationInProgress:this.props.registrationPage.registrationInProgress})}}]),n}(a.a.Component),ur=Object(I.b)((function(e){return{registrationPage:e.registrationPage}}),{registrationUserThunkCreator:function(e,t,n,r,a,s,o){return function(){var i=Object(G.a)(B.a.mark((function i(c){var u;return B.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c(Bn(!0)),i.next=3,Object(H.u)(e,n,r,t,a,s,o);case 3:(u=i.sent).itsFine?alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"):alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d - ".concat(u.error)),c(Bn(!1));case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}})(cr);i.a.render(Object(p.jsx)(E.a,{basename:"/-SocialNetwork",children:Object(p.jsxs)(I.a,{store:qn,children:[Object(p.jsx)(P.b,{path:"/AuthUser",render:function(){return Object(p.jsx)(Fn,{})}}),Object(p.jsx)(P.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(tr,{})}}),Object(p.jsx)(P.b,{path:"/RegistrationPage",render:function(){return Object(p.jsx)(ur,{})}})]})}),document.getElementById("root")),s()},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(2),a=n(15),s=n(16),o=n(18),i=n(17),c=n(1),u=n(22),l=n(10),d=n(0),g=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(i.a)(c);function c(){return Object(a.a)(this,c),n.apply(this,arguments)}return Object(s.a)(c,[{key:"render",value:function(){return this.props.auth?Object(d.jsx)(e,Object(r.a)({},this.props)):Object(d.jsx)(u.a,{to:"/"})}}]),c}(c.Component);return Object(l.b)((function(e){return{auth:e.authorizationPage.auth}}),{})(t)}},33:function(e,t,n){e.exports={friend:"Friend_friend__hhmQm",friendAva:"Friend_friendAva__wIJRW",friendLink:"Friend_friendLink__3a-17",button:"Friend_button__3Jcdh",toMessageButton:"Friend_toMessageButton__1iuDh",unfollowButton:"Friend_unfollowButton__3LdZ7",followButton:"Friend_followButton__P8n0h",friendInfo:"Friend_friendInfo__2ABPU",followedStatus:"Friend_followedStatus__1AtIP"}},37:function(e,t,n){e.exports={dialogsPage:"DialogsPage_dialogsPage__EBCWN",dialogList:"DialogsPage_dialogList__2i7dp",dialogsBar:"DialogsPage_dialogsBar__33xn5",nullMessagesMessage:"DialogsPage_nullMessagesMessage__1ti4d",messageBar:"DialogsPage_messageBar__2_UBk",sendMessageForm:"DialogsPage_sendMessageForm__3Hgur",sendMessageButton:"DialogsPage_sendMessageButton__FxC33"}},39:function(e,t,n){e.exports={friendsPage:"FriendsPage_friendsPage__2__WV",pageNumber:"FriendsPage_pageNumber__ZZooW",selectedPage:"FriendsPage_selectedPage__1Ik_A",searchFriends:"FriendsPage_searchFriends__10eGX",selectingPageMenu:"FriendsPage_selectingPageMenu__2anNU",searchFriendsButtonWrap:"FriendsPage_searchFriendsButtonWrap__1seXZ",usersListArea:"FriendsPage_usersListArea__2865d",searchFriendsButton:"FriendsPage_searchFriendsButton__3IwF3"}},40:function(e,t,n){e.exports={message:"Message_message__U6__R",deleteMessage:"Message_deleteMessage__W3MBy",senderLink:"Message_senderLink__rpyek",text:"Message_text__4g4z6",senderAva:"Message_senderAva__N6CrW",senderName:"Message_senderName__1ilwI",messageContent:"Message_messageContent__1yUuw",time:"Message_time__1yfKo"}},45:function(e,t,n){e.exports={errorText:"FormsElements_errorText__MHg2Q",formBar:"FormsElements_formBar__1exTu",inputForm:"FormsElements_inputForm__TYzSU",textareaForm:"FormsElements_textareaForm__flmM9",summaryError:"FormsElements_summaryError__urlex",error:"FormsElements_error__PrWf4"}},46:function(e,t,n){e.exports={news:"News_news__1ieh9",newsContent:"News_newsContent__3BXBY",resourceLink:"News_resourceLink__3bx45",avaNews:"News_avaNews__2NWVq",resourceName:"News_resourceName__1bP5U",newsText:"News_newsText__1MPVe",dateTime:"News_dateTime__2v-at"}},47:function(e,t,n){e.exports={postBox:"Post_postBox__2rXgx",postText:"Post_postText__jm-Em",avaPost:"Post_avaPost__1_U2f",postContent:"Post_postContent__1t9rt",dateTime:"Post_dateTime__3rtNB",deletePost:"Post_deletePost__15fqT",name:"Post_name__10Cgx"}},51:function(e,t,n){e.exports={dialog:"Dialog_dialog__UCfD3",deleteDialog:"Dialog_deleteDialog__3kNAa",dialogLink:"Dialog_dialogLink__1XMu5",dialogLinkButton:"Dialog_dialogLinkButton__1oCXm",activeDialog:"Dialog_activeDialog__CITXG",dialogAva:"Dialog_dialogAva__2pHzv"}},56:function(e,t,n){e.exports={AppWrapper:"App_AppWrapper__3qAsm",main:"App_main__2Rak8",content:"App_content__3TdWw",preloaderBar:"App_preloaderBar__3yzbO",lazyLoadPreloaderBar:"App_lazyLoadPreloaderBar__3BKQI"}},67:function(e,t,n){e.exports={header:"Header_header__3OQZO",headerWRap:"Header_headerWRap__39axr",logo:"Header_logo__2EqNj",title:"Header_title__3CEcM"}},68:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__1kzV_",user:"UsersPage_user__2JE67",userAva:"UsersPage_userAva__oAJ_2",userLink:"UsersPage_userLink__3sSfT",button:"UsersPage_button__3fPc6",toMessageButton:"UsersPage_toMessageButton__2unoZ",unfollowButton:"UsersPage_unfollowButton__6Nzr0",followButton:"UsersPage_followButton__1eSn7",userInfo:"UsersPage_userInfo__2bSxh",pageNumber:"UsersPage_pageNumber__zEOE5",selectedPage:"UsersPage_selectedPage__PoJB9",selectingPageMenu:"UsersPage_selectingPageMenu__3Pbm8",followedStatus:"UsersPage_followedStatus__2djeD",usersListBar:"UsersPage_usersListBar__3e_9m",searchUsersForm:"UsersPage_searchUsersForm__3SqAW",searchTextArea:"UsersPage_searchTextArea__2jSwh",searchButtonWrap:"UsersPage_searchButtonWrap__RrfM1",searchButton:"UsersPage_searchButton__24hzN",inputSearchText:"UsersPage_inputSearchText__sJE8k"}},7:function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"u",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"s",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"t",(function(){return I})),n.d(t,"m",(function(){return D}));var r=n(20),a="https://188.32.105.146:8123",s=function(e,t){return r.post("".concat(a,"/auth"),{login:e,password:t}).then((function(e){return e.data}))},o=function(){return r.get("".concat(a,"/checkAuthMe?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},i=function(e,t,n,s,o,i,c){return r.post("".concat(a,"/reg"),{login:e,firstName:t,lastName:n,password:s,address:o,age:i,email:c}).then((function(e){return e.data}))},c=function(){return r.get("".concat(a,"/dialogs?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},u=function(e){return r.get("".concat(a,"/messages?token=").concat(localStorage.getItem("userToken"),"&idDialog=").concat(e)).then((function(e){return e.data}))},l=function(e){return r.delete("".concat(a,"/deleteDialog"),{data:{token:localStorage.getItem("userToken"),idDialog:e}}).then((function(e){return e.data}))},d=function(e,t){return r.delete("".concat(a,"/deleteMessage"),{data:{token:localStorage.getItem("userToken"),idDialog:e,idMessage:t}}).then((function(e){return e.data}))},g=function(e){return r.post("".concat(a,"/createDialog"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},f=function(e,t){return r.post("".concat(a,"/sendMessage"),{token:localStorage.getItem("userToken"),idDialog:e,text:t}).then((function(e){return e.data}))},p=function(e,t){return r.get("".concat(a,"/friends?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},j=function(e){return r.delete("".concat(a,"/unFollowFriend"),{data:{token:localStorage.getItem("userToken"),userId:e}}).then((function(e){return e.data}))},h=function(e){return r.post("".concat(a,"/followFriend"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},b=function(e,t){return r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},m=function(e,t,n,s){return s.length>0?r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t,"&isSearch=").concat(n,"&searchText=").concat(s)).then((function(e){return e.data})):b(e,t)},O=function(e,t){return r.get("".concat(a,"/news?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},_=function(e){return r.get("".concat(a,"/profileInfo?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},P=function(e){return r.get("".concat(a,"/posts?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},v=function(e){return r.post("".concat(a,"/addPost"),{token:localStorage.getItem("userToken"),postText:e}).then((function(e){return e.data}))},x=function(e){return r.delete("".concat(a,"/deletePost"),{data:{token:localStorage.getItem("userToken"),idPost:e}}).then((function(e){return e.data}))},I=function(e){return r.put("".concat(a,"/updUserStatus"),{token:localStorage.getItem("userToken"),statusText:e}).then((function(e){return e.data}))},D=function(e){return r.get("".concat(a,"/status?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))}},78:function(e,t,n){"use strict";var r=n(66),a=n(68),s=n.n(a),o=n(1),i=n(0);t.a=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=Math.ceil(t/5),c=Object(o.useState)(1),u=Object(r.a)(c,2),l=u[0],d=u[1],g=5*(l-1)+1,f=5*l,p=1;p<=t;p++)n.push(p);var j=n.filter((function(e){return e>=g&&e<=f})).map((function(t){return Object(i.jsx)("span",{className:t===e.currentPage?"".concat(s.a.selectedPage," ").concat(s.a.pageNumber):s.a.pageNumber,onClick:function(){e.setCurrentPage(t)},children:t},t)}));return Object(i.jsxs)("div",{children:[l>1?Object(i.jsx)("button",{onClick:function(){d(l-1),e.setCurrentPage(g-1)},children:"<<"}):null,j,l<a?Object(i.jsx)("button",{onClick:function(){d(l+1),e.setCurrentPage(f+1)},children:">>"}):null]})}},82:function(e,t,n){e.exports={newsPage:"NewsPage_newsPage__34zRM",newsList:"NewsPage_newsList__2TDW0",selectingPageMenu:"NewsPage_selectingPageMenu__8Gdbm",selectedPage:"NewsPage_selectedPage__3w1EZ",pageNumber:"NewsPage_pageNumber__1ZPep"}},83:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__3NsM-",addPostButton:"MyPosts_addPostButton__1qNDF",addPostForm:"MyPosts_addPostForm__u7fQD",inputPostText:"MyPosts_inputPostText__3DcDZ"}}},[[307,1,2]]]);
//# sourceMappingURL=main.e8726a28.chunk.js.map