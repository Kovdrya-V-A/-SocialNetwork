{"version":3,"sources":["Assets/standUserAva.png","Redux/Reducers/UsersPageReducer.ts","Components/Settings/Settings.module.css","Components/ProfilePage/ProfilePage.module.css","Components/Footer/Footer.module.css","Components/ProfilePage/ProfileInfo/ProfileInfo.module.css","Components/AuthoRegComponents/AuthoReg.module.css","Components/Nav/Nav.module.css","Redux/Reducers/DialogsPageReducer.ts","reportWebVitals.js","Components/Settings/Settings.jsx","Components/NewsPage/News/News.jsx","Components/NewsPage/NewsPage.jsx","Redux/Reducers/NewsPageReducer.ts","Components/NewsPage/NewsPageContainer.jsx","Components/ProfilePage/MyPosts/Post/Post.jsx","Components/Common/FormsElements/FormsElements.jsx","Components/Common/Validators/Validators.js","Components/ProfilePage/MyPosts/MyPosts.jsx","Redux/Reducers/ProfilePageReducer.ts","Components/ProfilePage/MyPosts/MyPostsContainer.jsx","Components/ProfilePage/ProfileInfo/addImg.jsx","Components/ProfilePage/ProfileInfo/ProfileStatus.jsx","Components/ProfilePage/ProfileInfo/ProfileInfo.jsx","Components/ProfilePage/ProfileInfo/ProfileInfoContainer.jsx","Components/ProfilePage/ProfilePage.jsx","Components/ProfilePage/ProfilePageContainer.jsx","Components/FriendsPage/FriendList/Friend/Friend.jsx","Components/FriendsPage/FriendList/FriendList.jsx","Components/FriendsPage/FriendsPage.jsx","Redux/Reducers/FriendsPageReducer.ts","Components/FriendsPage/FriendsPageContainer.jsx","Components/Nav/Nav.jsx","Redux/AuthoRegReducers/AuthorizationPageReducer.ts","Components/Nav/NavContainer.jsx","Components/DialogsPage/MessagesBar/Message/Message.jsx","Components/DialogsPage/MessagesBar/MessagesBar.jsx","Components/DialogsPage/DialogList/Dialog/Dialog.jsx","Components/DialogsPage/DialogList/DialogList.jsx","Components/DialogsPage/DialogsPage.jsx","Components/DialogsPage/DialogsPageContainer.jsx","Redux/Reducers/AppReducer.ts","Assets/Preloaders/mainPreloader.svg","Assets/Preloaders/mainPreloader.jsx","App.js","Redux/AuthoRegReducers/RegistrationPageReducer.ts","Redux/ReduxStore.js","Components/AuthoRegComponents/AuthorizationPage/AuthorizationPage.tsx","Components/AuthoRegComponents/AuthorizationPage/AuthorizationPageContainer.jsx","Components/AuthoRegComponents/RegistrationPage/RegistrationPage.tsx","Components/AuthoRegComponents/RegistrationPage/RegistrarionPageContainer.jsx","Components/Header/Header.jsx","Components/Footer/Footer.jsx","index.js","HOC/CheckAuth.jsx","Components/FriendsPage/FriendList/Friend/Friend.module.css","Components/DialogsPage/DialogsPage.module.css","Components/FriendsPage/FriendsPage.module.css","Components/DialogsPage/MessagesBar/Message/Message.module.css","Components/Common/FormsElements/FormsElements.module.css","Components/NewsPage/News/News.module.css","Components/ProfilePage/MyPosts/Post/Post.module.css","Components/DialogsPage/DialogList/Dialog/Dialog.module.css","App.module.css","Components/ProfilePage/MyPosts/MyPosts.module.css","Components/Header/Header.module.css","Components/UsersPage/UsersPage.module.css","DAL/ApiRequests.js","Components/Pagination.tsx","Components/NewsPage/NewsPage.module.css"],"names":["UNFOLLOW","FOLLOW","SET_USERS","SET_USERS_TOTAL_COUNT","SET_CURRENT_USERS_PAGE","SET_IS_WROTE","UP_TOGGLE_IS_WROTE_PROGRESS","UP_TOGGLE_FOLLOWING_PROGRESS","TOGGLE_SEARCH_USERS_PROGRESS","initialUsersPage","usersData","currentPage","pageSize","totalUsersCount","isFetching","isWrote","followingInProgress","setIsWroteInProgress","searchUsersInProgress","unFollow","userId","message","type","follow","error","setUsers","setCurrentPage","number","setUserTotalCount","count","setIsFetching","isFetch","setIsWrote","toggleSetIsWroteProgress","inProgress","toggleFollowingProgress","toggleSearchUsersProgress","setUsersThunkCreator","dispatch","a","getUsersRequest","data","items","totalCount","searchUsersThunkCreator","searchText","searchUsersRequest","unFollowThunkCreator","unFollowRequest","followThunkCreator","followRequest","setCurrentPageThunkCreator","goToDialogThunkCreator","goToDialogRequest","setCurrentDialog","idDialog","usersPageReducer","usersPage","action","map","f","id","followed","filter","module","exports","SEND_MESSAGE","SET_MESSAGES","SET_DIALOGS","SET_CURRENT_DIALOG","DELETE_DIALOG","DELETE_MESSAGE","TOGGLE_SET_CURRENT_DIALOG_PROGRESS","TOGGLE_DELETE_DIALOG_PROGRESS","TOGGLE_DELETE_MESSAGE_PROGRESS","TOGGLE_SEND_MESSAGE_PROGRESS","initialDialogsPage","dialogsData","messagesData","currentDialogId","setCurrentDialogInProgress","deleteDialogInProgress","deleteMessageInProgress","sendMessageInProgress","deleteDialog","setMessages","deleteMessage","idMessage","selectedDialogId","toggleSetCurrentDialogProgress","toggleDeleteDialogProgress","toggleDeleteMessageProgress","toggleSendMessageProgress","setDialogsThunkCreator","getDialogsRequest","getMessagesRequest","deleteDialogThunkCreator","deleteDialogRequest","deleteMessageThunkCreator","dialogId","deleteMessageRequest","cetCurrentDialogThunkCreator","sendMessageThunkCreator","messageText","sendNewMessageRequest","name","img","text","time","senderId","dialogsPageReducer","dialogsPage","newMessage","d","isDeleted","m","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SettingsContainer","React","Component","Settings","className","s","settings","compose","connect","state","CheckAuthRedirect","News","props","news","avaNews","src","alt","newsContent","resourceName","resourceLink","to","resourceId","newsText","dateTime","memo","NewsPage","newsItems","newsData","n","idPost","newsPage","newsList","length","selectingPageMenu","Pagination","totalNewsCount","onSetCurrentPage","SET_NEWS","SET_CURRENT_NEWS_PAGE","SET_NEWS_TOTAL_COUNT","initialNewsPage","setNews","setNewsTotalCount","newsPageReducer","NewsPageContainer","prevProps","prevState","this","setNewsThunkCreator","getNewsRequest","Post","wrapper","avaPost","avaImg","postContent","postText","isMyProfile","deletePost","disabled","deletePostInProgress","onClick","onDeletePost","CreateFormItem","input","meta","haveError","touched","sForm","formBar","textareaForm","inputForm","errorText","requiredField","value","checkLenghtCreator","minLenght","maxLenght","MyPosts","postsItems","postsData","p","ReduxAddPostForm","addPostInProgress","onSubmit","formData","onAddNewPost","reset","postsList","TextAreaForm","requiredLength","reduxForm","form","addPostForm","handleSubmit","Field","placeholder","validate","component","addPostButton","PPActionsTypes","initialProfilePage","profileData","changeAvaIsActive","changeAvaStatus","status","myId","setStatus","statusText","setPosts","setChangeAvaIsActive","toggleAddPostProgress","toggleDeletePostProgress","profilePageReducer","profilePage","newPost","MyPostsService","addPostThunkCreator","deletePostThunkCreator","setPostsThunkCreator","profileId","snapshot","MyPostsContainer","getPostsRequest","addNewPostRequest","deletePostRequest","FileUploadService","custom_file_upload_url","serverLink","onSetChangeAvaIsActive","window","location","reload","onSetChangeAvaStatus","setChangeAvaStatus","handleImagePreview","e","image_as_base64","URL","createObjectURL","target","files","image_as_files","setState","image_preview","image_file","handleSubmitFile","FormData","append","localStorage","getItem","axios","headers","response","modal","modalContent","stopPropagation","modalName","addImgInput","onChange","loadedImg","submitInput","FileUploadContainer","registrationPage","authorizationPage","ProfileStatus","useState","editMode","toggleEditMode","useEffect","inputStatusArea","currentTarget","autoFocus","onBlur","onSetNewStatus","inputStatus","statusValue","strangerStatusValue","onDoubleClick","ProfileInfo","profileInfoWrap","profileInfo","ava","userData","age","address","followedStatus","activity","activityButton","onMessage","onUnfollow","onFollow","ProfileInfoService","newStatusText","setNewStatusThunkCreator","setProfileInfoThunkCreator","ProfileInfoContainer","getProfileInfoRequest","getStatusRequest","statusData","userStatus","updateUserStatusRequest","ProfilePage","profilePageContainer","match","params","withRouter","Friend","friend","friendAva","standUserAva","friendInfo","friendLink","isWroteInProgress","some","toMessageButton","button","unfollowButton","followButton","FriendList","friendsItems","friendsData","friendList","FriendsPage","friendsPage","searchFriendsButtonWrap","searchFriendsButton","searchFriends","usersListArea","totalFriendsCount","SET_FRIENDS","SET_FRIENDS_TOTAL_COUNT","SET_CURRENT_FRIENDS_PAGE","FP_TOGGLE_FOLLOWING_PROGRESS","FP_TOGGLE_IS_WROTE_PROGRESS","initialFriendsPage","setFriends","setFriendsTotalCount","toggleIsWroteProgress","friendsPageReducer","friendId","FriendsPageContainer","unFollowThunkActionCreator","followThunkActionCreator","setCurrentPageThunkActionCreator","goToDialogThunkActionCreator","setFriendsThunkCreator","auth","getFriendsRequest","Nav","nav","navItem","link","activeClassName","activeLink","onGoToDialogsPage","logoutButton","onExit","AuthPActionsTypes","initialAuthorisationPage","authorisationInProgress","authUserId","userVerification","toggleAuthorisationProgress","authorisationPageReducer","authorisationPage","removeItem","setItem","token","NavService","resetVerificationThunkCreator","NavContainer","Message","senderAva","messageContent","senderName","senderLink","onDeleteMessage","MessagesBar","barBottom","useRef","current","scrollIntoView","messagesItems","onDeleteMassage","messagesBar","messagesList","noMessagesMessage","ref","ReduxSendingMessageForm","onSendNewMessage","sendMessageForm","sendMessageButton","Dialog","dialog","dialogAva","onSetCurrentDialog","dialogLinkButton","dialogLink","activeDialog","chatName","onDeleteDialog","DialogList","dialogsItems","dialogList","dialogsBar","DialogsPage","newMessageText","DialogsPageContainer","componentDidMount","componentWillUnmount","SET_SESSION_IS_START","initialAppState","sessionIsStart","checkAuthMeThunkCreator","checkAuthMeRequest","appReducer","appState","MainPreloader","mainPreloader","height","width","UsersPageContainer","lazy","App","setSessionIsStartThunkCreator","content","path","render","ProfilePageContainer","exact","fallback","lazyLoadPreloaderBar","preloaderBar","app","TOGGLE_REGISTRATION_PROGRESS","initialRegistrationPage","registrationInProgress","toggleRegistrationProgress","registrationPageReducer","enchansers","applyMiddleware","thunkMiddleware","__REDUX_DEVTOOLS_EXTENSION__","reducers","combineReducers","formReducer","store","createStore","AuthorizationPage","onUserVerification","authorisation","ReduxAuthorizationForm","login","password","regLink","InputForm","enterLogin","enterPassword","entryButton","summaryErrorBar","summaryError","AuthorizationPageService","showSomeError","reason","promise","alert","userVerificationThunkCreator","addEventListener","removeEventListener","AuthorizationPageContainer","userVerificationRequest","key_type","access_token","stopSubmit","_error","RegistrationPage","onRegistrationUser","registration","ReduxRegistrationPageForm","firstName","lastName","email","authLink","requiredLengthFrom3to20","requiredLengthFrom5to30","interLogin","interEmail","interName","interFirstname","interAddress","interAge","interPassword","regButton","RegistrationGageService","registrationUserThunkCreator","RegistrationPageContainer","userRegistrationRequest","itsFine","Header","header","headerWRap","logo","title","Footer","footer","ReactDOM","basename","process","document","getElementById","RedirectComponent","page","isSearch","laidPortionSize","pagesCount","Math","ceil","pageNumbers","portionSize","portionCount","portionNumber","setPortionNumber","leftPortionBorder","rightPortionBorder","i","push","pageNumbersList","selectedPage","pageNumber"],"mappings":"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","file":"static/js/main.3607894b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/standUserAva.ab7efdc7.png\";","import {\r\n    followRequest,\r\n    getUsersRequest,\r\n    goToDialogRequest,\r\n    searchUsersRequest,\r\n    unFollowRequest\r\n} from \"../../DAL/ApiRequests\";\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_USERS_TOTAL_COUNT = \"SET_USERS_TOTAL_COUNT\";\r\nconst SET_CURRENT_USERS_PAGE = \"SET_CURRENT_USERS_PAGE\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_IS_WROTE = \"SET_IS_WROTE\";\r\nconst UP_TOGGLE_IS_WROTE_PROGRESS = \"UP_TOGGLE_IS_WROTE_PROGRESS\";\r\nconst UP_TOGGLE_FOLLOWING_PROGRESS = \"UP_TOGGLE_FOLLOWING_PROGRESS\";\r\nconst TOGGLE_SEARCH_USERS_PROGRESS = \"TOGGLE_SEARCH_USERS_PROGRESS\";\r\n\r\nlet initialUsersPage = {\r\n    usersData: [] as Array<UserType>,\r\n    currentPage: 1 as number,\r\n    pageSize: 7 as number,\r\n    totalUsersCount: 0 as number,\r\n    isFetching: false as boolean,\r\n    isWrote: false as boolean,\r\n    followingInProgress: [] as Array<number>,\r\n    setIsWroteInProgress: [] as Array<number>,\r\n    searchUsersInProgress: false as boolean,\r\n};\r\n\r\nexport type initialStateType = typeof initialUsersPage\r\n\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    img: string\r\n    followed: number | boolean\r\n}\r\n\r\nconst usersPageReducer = (usersPage = initialUsersPage, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...usersPage,\r\n                usersData: usersPage.usersData.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...usersPage,\r\n                usersData: usersPage.usersData.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: !action.error ? true : false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...usersPage, usersData: [...action.usersData]\r\n            }\r\n\r\n        case SET_CURRENT_USERS_PAGE:\r\n            return {\r\n                ...usersPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return {\r\n                ...usersPage, totalUsersCount: action.count\r\n            }\r\n\r\n        case SET_IS_WROTE:\r\n            return {...usersPage, isWrote: action.isWrote}\r\n\r\n        case UP_TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                setIsWroteInProgress: action.inProgress ? [...usersPage.setIsWroteInProgress, action.userId] :\r\n                    usersPage.setIsWroteInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        case UP_TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                followingInProgress: action.inProgress ? [...usersPage.followingInProgress, action.userId] :\r\n                    usersPage.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        case TOGGLE_SEARCH_USERS_PROGRESS:\r\n            return {\r\n                ...usersPage,\r\n                searchUsersInProgress: action.searchUsersInProgress\r\n            }\r\n\r\n        default: {\r\n            return usersPage\r\n        }\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId: number, message: string) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n        message\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (userId: number, message: string, error: any) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId,\r\n        message,\r\n        error,\r\n    }\r\n}\r\n\r\nexport const setUsers = (usersData: Array<UserType>) => {\r\n    return {\r\n        type: SET_USERS,\r\n        usersData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number: number) => {\r\n    return {\r\n        type: SET_CURRENT_USERS_PAGE,\r\n        number\r\n    }\r\n}\r\nexport const setUserTotalCount = (count: number) => {\r\n    return {\r\n        type: SET_USERS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (isFetch: boolean) => {\r\n    return {\r\n        type: SET_IS_FETCHING,\r\n        isFetch\r\n    }\r\n}\r\nexport const setIsWrote = (isWrote: boolean) => {\r\n    return {\r\n        type: SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\n\r\nexport const toggleSetIsWroteProgress = (inProgress: boolean, userId: number) => {\r\n    return {\r\n        type: UP_TOGGLE_IS_WROTE_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (inProgress: boolean, userId: number) => {\r\n    return {\r\n        type: UP_TOGGLE_FOLLOWING_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\nexport const toggleSearchUsersProgress = (searchUsersInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_SEARCH_USERS_PROGRESS,\r\n        searchUsersInProgress: searchUsersInProgress\r\n    }\r\n}\r\n\r\nexport const setUsersThunkCreator = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(setIsFetching(true))\r\n        const data = await getUsersRequest(currentPage, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const searchUsersThunkCreator = (currentPage: number, pageSize: number, searchText: string) => {\r\n    return async (dispatch: Function) => {\r\n        toggleSearchUsersProgress(true)\r\n        const data = await searchUsersRequest(currentPage, pageSize, true, searchText)\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n        dispatch(toggleSearchUsersProgress(false))\r\n    }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(userId, data.message, data.error))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkCreator = (number: number, pageSize: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(setCurrentPage(number))\r\n        dispatch(setIsFetching(true))\r\n        const data = await getUsersRequest(number, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUserTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleSetIsWroteProgress(true, userId))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleSetIsWroteProgress(false, userId))\r\n    }\r\n}\r\n\r\n\r\nexport default usersPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__37aTB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"ProfilePage_profilePage__1v0sS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3GEEm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrap\":\"ProfileInfo_profileInfoWrap__21npk\",\"profileInfo\":\"ProfileInfo_profileInfo__37NZF\",\"ProfileStatus\":\"ProfileInfo_ProfileStatus__kWrzt\",\"statusValue\":\"ProfileInfo_statusValue__3-Pw3\",\"strangerStatusValue\":\"ProfileInfo_strangerStatusValue__J5rsx\",\"inputStatus\":\"ProfileInfo_inputStatus__2r1-C\",\"followedStatus\":\"ProfileInfo_followedStatus__3dRvw\",\"ava\":\"ProfileInfo_ava__2MQDi\",\"userData\":\"ProfileInfo_userData__3M54u\",\"name\":\"ProfileInfo_name__lNL1_\",\"modal\":\"ProfileInfo_modal__28SLg\",\"modalName\":\"ProfileInfo_modalName__1fTWo\",\"choiceFile\":\"ProfileInfo_choiceFile__2X3Rr\",\"modalContent\":\"ProfileInfo_modalContent__DXr_w\",\"addImgInput\":\"ProfileInfo_addImgInput__YUEp_\",\"submitInput\":\"ProfileInfo_submitInput__2D1ZT\",\"changeAvaStatus\":\"ProfileInfo_changeAvaStatus__1YHab\",\"loadedImg\":\"ProfileInfo_loadedImg__1IYp9\",\"activity\":\"ProfileInfo_activity__3513U\",\"activityButton\":\"ProfileInfo_activityButton__3bT-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AuthoReg_wrapper__3pGu9\",\"authorisation\":\"AuthoReg_authorisation__2sirQ\",\"entryButton\":\"AuthoReg_entryButton__3joip\",\"registration\":\"AuthoReg_registration__1DiEh\",\"regButton\":\"AuthoReg_regButton__3wMbq\",\"authLink\":\"AuthoReg_authLink__3AwIA\",\"link\":\"AuthoReg_link__1ADaR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1IZr-\",\"navItem\":\"Nav_navItem__1qv9U\",\"link\":\"Nav_link__1BqEI\",\"logoutLink\":\"Nav_logoutLink__N7lpE\",\"activeLink\":\"Nav_activeLink__1kvgm\",\"logoutButton\":\"Nav_logoutButton__3A0cD\"};","import {\r\n    deleteDialogRequest,\r\n    deleteMessageRequest,\r\n    getDialogsRequest,\r\n    getMessagesRequest,\r\n    sendNewMessageRequest\r\n} from \"../../DAL/ApiRequests\";\r\n\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\nconst SET_MESSAGES = \"SET_MESSAGES\";\r\nconst SET_DIALOGS = \"SET_DIALOGS\";\r\nconst SET_CURRENT_DIALOG = \"SET_CURRENT_DIALOG\";\r\nconst DELETE_DIALOG = \"DELETE_DIALOG\";\r\nconst DELETE_MESSAGE = \"DELETE_MESSAGE\";\r\nconst TOGGLE_SET_CURRENT_DIALOG_PROGRESS = \"TOGGLE_SET_CURRENT_DIALOG_PROGRESS\";\r\nconst TOGGLE_DELETE_DIALOG_PROGRESS = \"TOGGLE_DELETE_DIALOG_PROGRESS\";\r\nconst TOGGLE_DELETE_MESSAGE_PROGRESS = \"TOGGLE_DELETE_MESSAGE_PROGRESS\";\r\nconst TOGGLE_SEND_MESSAGE_PROGRESS = \"TOGGLE_SEND_MESSAGE_PROGRESS\";\r\n\r\n\r\nlet initialDialogsPage = {\r\n    dialogsData: [] as Array<DialogType>,\r\n    messagesData: [] as Array<MessageType>,\r\n    currentDialogId: \"\" as string | number,\r\n    setCurrentDialogInProgress: false as boolean,\r\n    deleteDialogInProgress: false as boolean,\r\n    deleteMessageInProgress: false as boolean,\r\n    sendMessageInProgress: false as boolean,\r\n};\r\n\r\nexport type DialogType = {\r\n    idDialog?: number\r\n    name?: string\r\n    img?: string\r\n}\r\n\r\nexport type MessageType = {\r\n    senderId?: number\r\n    id?: number\r\n    name?: string\r\n    date?: string\r\n    time?: string\r\n    img?: string\r\n}\r\n\r\nexport type initialStateType = typeof initialDialogsPage\r\n\r\nconst dialogsPageReducer = (dialogsPage = initialDialogsPage, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE: {\r\n            let newMessage = {\r\n                id: action.id,\r\n                name: action.name,\r\n                text: action.text,\r\n                img: action.img,\r\n                time: action.time,\r\n                senderId: action.senderId\r\n            };\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: [...dialogsPage.messagesData, newMessage],\r\n            };\r\n        }\r\n\r\n\r\n        case SET_MESSAGES: {\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: [...action.messagesData]\r\n            }\r\n        }\r\n\r\n        case DELETE_DIALOG: {\r\n            return {\r\n                ...dialogsPage,\r\n                dialogsData: dialogsPage.dialogsData.map((d: any) => {\r\n                    if (d.idDialog === action.idDialog) {\r\n                        return {...d, isDeleted: true}\r\n                    }\r\n                    return d\r\n                })\r\n            }\r\n        }\r\n\r\n        case DELETE_MESSAGE: {\r\n            return {\r\n                ...dialogsPage,\r\n                messagesData: dialogsPage.messagesData.map((m: any) => {\r\n                    if (m.id === action.idMessage) {\r\n                        return {...m, isDeleted: true}\r\n                    }\r\n                    return m\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_DIALOGS: {\r\n            return {\r\n                ...dialogsPage,\r\n                dialogsData: [...action.dialogsData]\r\n            }\r\n        }\r\n\r\n        case SET_CURRENT_DIALOG: {\r\n            return {\r\n                ...dialogsPage,\r\n                currentDialogId: action.selectedDialogId\r\n            }\r\n        }\r\n\r\n        case TOGGLE_SET_CURRENT_DIALOG_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                setCurrentDialogInProgress: action.setCurrentDialogInProgress\r\n            }\r\n        case TOGGLE_DELETE_DIALOG_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                deleteDialogInProgress: action.deleteDialogInProgress\r\n            }\r\n\r\n        case TOGGLE_DELETE_MESSAGE_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                deleteMessageInProgress: action.deleteMessageInProgress\r\n            }\r\n\r\n        case TOGGLE_SEND_MESSAGE_PROGRESS:\r\n            return {\r\n                ...dialogsPage,\r\n                sendMessageInProgress: action.sendMessageInProgress\r\n            }\r\n\r\n\r\n        default:\r\n            return dialogsPage;\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessage = (name: number, img: string, id: number, text: string, time: string, senderId: number) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        name,\r\n        img,\r\n        id,\r\n        text,\r\n        time,\r\n        senderId\r\n    }\r\n}\r\nexport const deleteDialog = (idDialog: number, message: string) => {\r\n    return {\r\n        type: DELETE_DIALOG,\r\n        idDialog,\r\n        message\r\n\r\n    }\r\n}\r\n\r\nexport const setMessages = (messagesData: Array<MessageType>) => {\r\n    return {\r\n        type: SET_MESSAGES,\r\n        messagesData\r\n    }\r\n}\r\n\r\nexport const deleteMessage = (idMessage: number, message: string) => {\r\n    return {\r\n        type: DELETE_MESSAGE,\r\n        idMessage,\r\n        message\r\n    }\r\n}\r\n\r\nexport const setDialogs = (dialogsData: Array<DialogType>) => {\r\n    return {\r\n        type: SET_DIALOGS,\r\n        dialogsData\r\n    }\r\n}\r\n\r\nexport const setCurrentDialog = (selectedDialogId: number | string) => {\r\n    return {\r\n        type: SET_CURRENT_DIALOG,\r\n        selectedDialogId\r\n    }\r\n}\r\n\r\nexport const toggleSetCurrentDialogProgress = (setCurrentDialogInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_SET_CURRENT_DIALOG_PROGRESS,\r\n        setCurrentDialogInProgress\r\n    }\r\n}\r\n\r\nexport const toggleDeleteDialogProgress = (deleteDialogInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_DELETE_DIALOG_PROGRESS,\r\n        deleteDialogInProgress\r\n    }\r\n}\r\nexport const toggleDeleteMessageProgress = (deleteMessageInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_DELETE_MESSAGE_PROGRESS,\r\n        deleteMessageInProgress\r\n    }\r\n}\r\n\r\nexport const toggleSendMessageProgress = (sendMessageInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_SEND_MESSAGE_PROGRESS,\r\n        sendMessageInProgress\r\n    }\r\n}\r\n\r\nexport const setDialogsThunkCreator = (currentDialogId: number) => {\r\n    return async (dispatch:Function) => {\r\n        const data = await getDialogsRequest()\r\n        if (data) {\r\n            dispatch(setDialogs(data.items))\r\n        }\r\n        if (currentDialogId) {\r\n            const data = await getMessagesRequest(currentDialogId)\r\n            if (data) {\r\n                dispatch(setMessages(data.items))\r\n            } else if (data === null) {\r\n                dispatch(setMessages([]))\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const deleteDialogThunkCreator = (idDialog: number, currentDialogId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleDeleteDialogProgress(true))\r\n        const data = await deleteDialogRequest(idDialog)\r\n        dispatch(deleteDialog(idDialog, data.message))\r\n        if (currentDialogId === idDialog) {\r\n            dispatch(setCurrentDialog(\"\"))\r\n        }\r\n        dispatch(toggleDeleteDialogProgress(false))\r\n    }\r\n}\r\n\r\nexport const deleteMessageThunkCreator = (dialogId: number, idMessage: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleDeleteMessageProgress(true))\r\n        const data = await deleteMessageRequest(dialogId, idMessage)\r\n        dispatch(deleteMessage(idMessage, data.message))\r\n        dispatch(toggleDeleteMessageProgress(false))\r\n    }\r\n}\r\n\r\nexport const cetCurrentDialogThunkCreator = (idDialog: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleSetCurrentDialogProgress(true))\r\n        const data = await getMessagesRequest(idDialog)\r\n        if (data) {\r\n            dispatch(setMessages(data.items))\r\n        } else if (data === null) {\r\n            dispatch(setMessages([]))\r\n        }\r\n        dispatch(toggleSetCurrentDialogProgress(false))\r\n    }\r\n}\r\n\r\nexport const sendMessageThunkCreator = (dialogId: number, messageText: string) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleSendMessageProgress(true))\r\n        const data = await sendNewMessageRequest(dialogId, messageText)\r\n                dispatch(sendMessage(data[0].name, data[0].img, data[0].id, data[0].text, data[0].time, data[0].senderId))\r\n                dispatch(toggleSendMessageProgress(false))\r\n    }\r\n}\r\n\r\nexport default dialogsPageReducer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport s from './Settings.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    }\r\n}\r\n\r\nclass SettingsContainer extends  React.Component {\r\n    render() {\r\n        return <Settings/>\r\n    }\r\n}\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.settings}>\r\n            <h1>СТРАНИЦА НАСТРОЕК (В РАЗРАБОТКЕ)</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {}),\r\n    CheckAuthRedirect\r\n)(SettingsContainer)\r\n","import s from './News.module.css';\r\nimport React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n\r\n            <div className={s.avaNews}>\r\n                <img src={props.img} alt=\"avaNews\"/>\r\n            </div>\r\n            <div className={s.newsContent}>\r\n                <div className={s.resourceName}>\r\n                    <NavLink className={s.resourceLink}\r\n                             to={\"/AuthUser/ProfilePage/\" + props.resourceId}><h2>{props.name}</h2></NavLink>\r\n                </div>\r\n                <div className={s.newsText}>\r\n                    <p>{props.text}</p>\r\n                </div>\r\n                <div className={s.dateTime}>\r\n                    <p>{props.dateTime}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(News);","import s from './NewsPage.module.css';\r\nimport React from 'react';\r\nimport News from \"./News/News\";\r\nimport Pagination from \"../Pagination\";\r\n\r\nconst NewsPage = (props) => {\r\n\r\n    let newsItems = props.newsData.map(n => {\r\n        return <News key={n.idPost}\r\n                     id={n.idPost}\r\n                     resourceId={n.resourceId} img={n.img}\r\n                     name={n.name} text={n.text}\r\n                     dateTime={n.dateTime}/>\r\n    })\r\n\r\n    return (\r\n        <div className={s.newsPage}>\r\n            <div className={s.newsList}>\r\n                { newsItems.length > 0 ? newsItems: <p>Здесь пока нет новостей. Подпишитесь на кого-нибудь, чтобы следить за его новостями</p>}\r\n                <div className={s.selectingPageMenu}><Pagination totalCount={props.totalNewsCount}\r\n                                                                 pageSize={props.pageSize}\r\n                                                                 currentPage={props.currentPage}\r\n                                                                 setCurrentPage={props.onSetCurrentPage}/></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(NewsPage);","import {getNewsRequest} from \"../../DAL/ApiRequests\";\r\n\r\nconst SET_NEWS = \"SET_NEWS\";\r\nconst SET_CURRENT_NEWS_PAGE = \"SET_CURRENT_NEWS_PAGE\";\r\nconst SET_NEWS_TOTAL_COUNT = \"SET_NEWS_TOTAL_COUNT\";\r\n\r\nlet initialNewsPage = {\r\n    newsData: [] as Array<NewsType>,\r\n    currentPage: 1 as number,\r\n    pageSize: 10 as number,\r\n    totalNewsCount: 0 as number,\r\n};\r\n\r\nexport type initialStateType = typeof initialNewsPage\r\n\r\nexport type NewsType = {\r\n    text: string,\r\n    idPost: number,\r\n    dateTime: string,\r\n    name: string,\r\n    img: string,\r\n    resourceId: number\r\n}\r\n\r\nconst newsPageReducer = (newsPage = initialNewsPage, action:any): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_NEWS:\r\n            return {\r\n                ...newsPage, newsData: [...action.newsData]\r\n            }\r\n\r\n        case SET_CURRENT_NEWS_PAGE:\r\n            return {\r\n                ...newsPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_NEWS_TOTAL_COUNT:\r\n            return {\r\n                ...newsPage, totalNewsCount: action.count\r\n            }\r\n\r\n        default:\r\n            return newsPage;\r\n    }\r\n}\r\n\r\n\r\nexport const setNews = (newsData: Array<NewsType>) => {\r\n    return {\r\n        type: SET_NEWS,\r\n        newsData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number: number) => {\r\n    return {\r\n        type: SET_CURRENT_NEWS_PAGE,\r\n        number\r\n    }\r\n}\r\n\r\nexport const setNewsTotalCount = (count: number) => {\r\n    return {\r\n        type: SET_NEWS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setNewsThunkCreator = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Function) => {\r\n        const data = await getNewsRequest(currentPage, pageSize)\r\n        if (data) {\r\n            dispatch(setNews(data.items))\r\n            dispatch(setNewsTotalCount(data.totalCount))\r\n        }\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkCreator = (number: number, pageSize: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(setCurrentPage(number))\r\n        const data = await getNewsRequest(number, pageSize)\r\n        dispatch(setNews(data.items))\r\n        dispatch(setNewsTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport default newsPageReducer;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport NewsPage from \"./NewsPage\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setCurrentPageThunkCreator,\r\n    setNewsThunkCreator,\r\n} from \"../../Redux/Reducers/NewsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newsPage: state.newsPage,\r\n    }\r\n}\r\n\r\n\r\nclass NewsPageContainer extends React.Component {\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setNewsThunkCreator(this.props.newsPage.currentPage, this.props.newsPage.pageSize)\r\n    }\r\n\r\n\r\n    onSetCurrentPage = (number) => {\r\n        this.props.setCurrentPageThunkCreator(number, this.props.newsPage.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <NewsPage onSetCurrentPage={this.onSetCurrentPage}\r\n                      currentPage={this.props.newsPage.currentPage}\r\n                      totalNewsCount={this.props.newsPage.totalNewsCount}\r\n                      pageSize={this.props.newsPage.pageSize}\r\n                      newsData={this.props.newsPage.newsData}/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setNewsThunkCreator,\r\n        setCurrentPageThunkCreator\r\n    }),\r\n    CheckAuthRedirect\r\n)(NewsPageContainer)","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.avaPost}>\r\n                <img src={props.avaImg} alt=\"avapost\"/>\r\n            </div>\r\n            <div className={s.postContent}>\r\n                <div className={s.name}><p>{props.name}</p></div>\r\n                <div className={s.postText}>\r\n                    <p>{props.text}</p>\r\n                </div>\r\n                <div className={s.dateTime}><p>{props.dateTime}</p>\r\n                </div>\r\n            </div>\r\n            {props.isMyProfile ? <div className={s.deletePost}>\r\n                <button disabled={props.deletePostInProgress} onClick={() => props.onDeletePost(props.idPost)}><p>×</p>\r\n                </button>\r\n            </div> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Post);","import React from \"react\";\r\nimport sForm from \"./FormsElements.module.css\"\r\n\r\n\r\nexport const CreateFormItem = (Component) => ({input, meta, ...props}) => {\r\n    const haveError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={sForm.formBar}>\r\n            <Component {...input} {...props} className={Component === \"textarea\" ? sForm.textareaForm : sForm.inputForm + \" \" + (haveError ? sForm.error : null)}/>\r\n            {haveError ?\r\n                <span className={sForm.errorText}>{meta.error}</span>\r\n                : null}\r\n        </div>\r\n    )\r\n}","\r\nexport const requiredField = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return \"Это обязательное поле\"\r\n}\r\n\r\nexport const checkLenghtCreator = (minLenght, maxLenght) => (value) => {\r\n    if (value && value.length > maxLenght) {\r\n        return `Максимальная длинна - ${maxLenght}`\r\n    }\r\n    if (value && value.length < minLenght) {\r\n        return `Минимальная длинна - ${minLenght}`\r\n    }\r\n    return undefined\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator} from \"../../Common/Validators/Validators\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let postsItems =\r\n        props.postsData.map(p => p.isDeleted ? null : <Post key={p.idPost}\r\n                                                            avaImg={props.avaImg}\r\n                                                            name={props.name}\r\n                                                            text={p.text}\r\n                                                            dateTime={p.dateTime}\r\n                                                            idPost={p.idPost}\r\n                                                            onDeletePost={props.onDeletePost}\r\n                                                            deletePostInProgress={props.deletePostInProgress}\r\n                                                            isMyProfile = {props.isMyProfile}/>)\r\n\r\n\r\n    const onSubmit = (formData, dispatch) => {\r\n        props.onAddNewPost(formData.postText)\r\n        dispatch(reset(\"addPost\"))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            {props.isMyProfile ?<ReduxAddPostForm addPostInProgress={props.addPostInProgress} onSubmit={onSubmit}/>:null}\r\n            <h2>{props.isMyProfile ? \"Ваши посты:\" : \"Посты пользователя:\"}</h2>\r\n            <div className={s.postsList}>{props.postsData.length > 0 ? postsItems : \"В профиле пока нет постов\"}</div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst TextAreaForm = CreateFormItem(\"textarea\")\r\nconst requiredLength = checkLenghtCreator(0, 500)\r\n\r\nconst AddPostForm = (props) => {\r\n    return <form className={s.addPostForm} onSubmit={props.handleSubmit}>\r\n        <Field placeholder=\"Есть что нового ?\"\r\n               name=\"postText\" validate={[requiredLength]} component={TextAreaForm}/>\r\n        <button\r\n            disabled={props.addPostInProgress}\r\n            className={s.addPostButton}>Опубликовать\r\n        </button>\r\n    </form>\r\n}\r\n\r\nconst ReduxAddPostForm = reduxForm({\r\n    form: \"addPost\"\r\n})(AddPostForm)\r\n\r\nexport default React.memo(MyPosts);","import {\r\n    addNewPostRequest,\r\n    deletePostRequest,\r\n    followRequest,\r\n    getPostsRequest,\r\n    getProfileInfoRequest,\r\n    getStatusRequest,\r\n    goToDialogRequest,\r\n    unFollowRequest,\r\n    updateUserStatusRequest\r\n} from \"../../DAL/ApiRequests\";\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst PPActionsTypes = {\r\n    ADD_POST: \"ADD_POST\",\r\n    SET_POSTS: \"SET_POSTS\",\r\n    SET_PROFILE_INFO: \"SET_PROFILE_INFO\",\r\n    DELETE_POST: \"DELETE_POST\",\r\n    SET_CHANGE_AVA_IS_ACTIVE: \"SET_CHANGE_AVA_IS_ACTIVE\",\r\n    SET_CHANGE_AVA_STATUS: \"SET_CHANGE_AVA_STATUS\",\r\n    TOGGLE_ADD_POST_PROGRESS: \"TOGGLE_ADD_POST_PROGRESS\",\r\n    TOGGLE_DELETE_POST_PROGRESS: \"TOGGLE_DELETE_POST_PROGRESS\",\r\n    SET_STATUS: \"SET_STATUS\",\r\n    TOGGLE_IS_WROTE_PROGRESS: \"SP_TOGGLE_IS_WROTE_PROGRESS\",\r\n    TOGGLE_FOLLOWING_PROGRESS: \"SP_TOGGLE_FOLLOWING_PROGRESS\",\r\n    SET_IS_WROTE: \"SET_IS_WROTE\",\r\n    UNFOLLOW: \"UNFOLLOW\",\r\n    FOLLOW: \"FOLLOW\",\r\n    SET_MY_ID: \"SET_MY_ID\",\r\n}\r\n\r\nlet initialProfilePage = {\r\n    postsData: [] as Array<PostType>,\r\n    profileData: [{}] as Array<ProfileInfoType>,\r\n    changeAvaIsActive: false as boolean,\r\n    changeAvaStatus: null as any,\r\n    addPostInProgress: false as boolean,\r\n    deletePostInProgress: false as boolean,\r\n    status: \"\" as string,\r\n    isWrote: false as boolean,\r\n    setIsWroteInProgress: false as boolean,\r\n    followingInProgress: false as boolean,\r\n    myId: null as number | null\r\n};\r\n\r\nexport type initialStateType = typeof initialProfilePage\r\n\r\nexport type PostType = {\r\n    idPost: number\r\n    text: string\r\n    dateTime: string\r\n}\r\n\r\nexport type ProfileInfoType = {\r\n    name: string\r\n    address: string\r\n    img: string\r\n    age: number\r\n    followed: boolean | number\r\n    userId: number\r\n}\r\n\r\n\r\nconst profilePageReducer = (profilePage = initialProfilePage, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case PPActionsTypes.SET_MY_ID:\r\n            return {\r\n                ...profilePage,\r\n                myId: action.myId\r\n            }\r\n\r\n        case PPActionsTypes.UNFOLLOW:\r\n            return {\r\n                ...profilePage,\r\n                profileData: profilePage.profileData.map(f => {\r\n                    return {...f, followed: false}\r\n                })\r\n            }\r\n\r\n\r\n        case PPActionsTypes.FOLLOW:\r\n            return {\r\n                ...profilePage,\r\n                profileData: profilePage.profileData.map(f => {\r\n                    return {...f, followed: true}\r\n                })\r\n            }\r\n\r\n        case PPActionsTypes.SET_IS_WROTE:\r\n            return {...profilePage, isWrote: action.isWrote}\r\n\r\n\r\n        case PPActionsTypes.ADD_POST: {\r\n            let newPost = {\r\n                idPost: action.idPost,\r\n                text: action.text,\r\n                dateTime: action.dateTime\r\n            };\r\n            return {\r\n                ...profilePage,\r\n                postsData: [newPost, ...profilePage.postsData],\r\n            };\r\n\r\n        }\r\n\r\n        case PPActionsTypes.SET_CHANGE_AVA_IS_ACTIVE : {\r\n            return {\r\n                ...profilePage,\r\n                changeAvaIsActive: action.changeAvaIsActive\r\n            }\r\n        }\r\n\r\n        case PPActionsTypes.SET_CHANGE_AVA_STATUS: {\r\n            return {\r\n                ...profilePage,\r\n                changeAvaStatus: action.status\r\n            }\r\n        }\r\n\r\n        case PPActionsTypes.DELETE_POST: {\r\n            return {\r\n                ...profilePage,\r\n                postsData: profilePage.postsData.map(p => {\r\n                    if (p.idPost === action.idPost) {\r\n                        return {...p, isDeleted: true}\r\n                    }\r\n                    return p\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n        case PPActionsTypes.SET_PROFILE_INFO:\r\n            return {\r\n                ...profilePage,\r\n                profileData: [action.profileData]\r\n            }\r\n\r\n\r\n        case PPActionsTypes.SET_POSTS:\r\n            if (action.postsData) {\r\n                return {\r\n                    ...profilePage,\r\n                    postsData: [...action.postsData]\r\n                }\r\n            }\r\n            return profilePage\r\n        case PPActionsTypes.TOGGLE_ADD_POST_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                addPostInProgress: action.addPostInProgress\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_DELETE_POST_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                deletePostInProgress: action.deletePostInProgress\r\n            }\r\n\r\n        case PPActionsTypes.SET_STATUS:\r\n            return {\r\n                ...profilePage,\r\n                status: action.statusText\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                setIsWroteInProgress: action.setIsWroteInProgress\r\n            }\r\n\r\n        case PPActionsTypes.TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...profilePage,\r\n                followingInProgress: action.followingInProgress\r\n            }\r\n\r\n        default:\r\n            return profilePage;\r\n    }\r\n    ;\r\n\r\n}\r\nexport const setMyId = (myId: number) => {\r\n    return {\r\n        type: PPActionsTypes.SET_MY_ID,\r\n        myId\r\n    }\r\n}\r\n\r\n\r\nexport const setIsWrote = (isWrote: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\nexport const follow = ( message: string) => {\r\n    return {\r\n        type: PPActionsTypes.FOLLOW,\r\n        message\r\n    }\r\n}\r\n\r\nexport const unFollow = ( message: string) => {\r\n    return {\r\n        type: PPActionsTypes.UNFOLLOW,\r\n        message\r\n    }\r\n}\r\n\r\nexport const setStatus = (statusText: string) => {\r\n    return {\r\n        type: PPActionsTypes.SET_STATUS,\r\n        statusText\r\n    }\r\n}\r\n\r\nexport const addPost = (idPost: number, text: string, dateTime: string) => {\r\n    return {\r\n        type: PPActionsTypes.ADD_POST,\r\n        idPost: idPost,\r\n        text: text,\r\n        dateTime: dateTime\r\n    }\r\n}\r\n\r\nexport const deletePost = (idPost: number, message: string) => {\r\n    return {\r\n        type: PPActionsTypes.DELETE_POST,\r\n        idPost: idPost,\r\n        message: message\r\n    }\r\n}\r\n\r\nexport const setPosts = (postsData: Array<PostType>) => {\r\n    return {\r\n        type: PPActionsTypes.SET_POSTS,\r\n        postsData\r\n    }\r\n}\r\n\r\nexport const setProfileInfo = (profileData: Array<ProfileInfoType>) => {\r\n    return {\r\n        type: PPActionsTypes.SET_PROFILE_INFO,\r\n        profileData\r\n    }\r\n}\r\nexport const setChangeAvaIsActive = (changeAvaIsActive: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.SET_CHANGE_AVA_IS_ACTIVE,\r\n        changeAvaIsActive\r\n    }\r\n}\r\nexport const setChangeAvaStatus = (status: string) => {\r\n    return {\r\n        type: PPActionsTypes.SET_CHANGE_AVA_STATUS,\r\n        status\r\n    }\r\n}\r\nexport const toggleAddPostProgress = (addPostInProgress: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_ADD_POST_PROGRESS,\r\n        addPostInProgress\r\n    }\r\n}\r\nexport const toggleDeletePostProgress = (deletePostInProgress: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_DELETE_POST_PROGRESS,\r\n        deletePostInProgress\r\n    }\r\n}\r\n\r\nexport const toggleSetIsWroteProgress = (setIsWroteInProgress: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_IS_WROTE_PROGRESS,\r\n        setIsWroteInProgress\r\n\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (followingInProgress: boolean) => {\r\n    return {\r\n        type: PPActionsTypes.TOGGLE_FOLLOWING_PROGRESS,\r\n        followingInProgress: followingInProgress\r\n    }\r\n}\r\n\r\n\r\nexport const setPostsThunkCreator = (profileId: number) => {\r\n    return async (dispatch: Function) => {\r\n        const data = await getPostsRequest(profileId)\r\n        if (data) {\r\n            dispatch(setPosts(data.items))\r\n        } else {\r\n            dispatch(setPosts([]))\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPostThunkCreator = (postText: string) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleAddPostProgress(true))\r\n        const data = await addNewPostRequest(postText)\r\n        dispatch(addPost(data[0].idPost, data[0].text, data[0].dateTime))\r\n        dispatch(toggleAddPostProgress(false))\r\n    }\r\n}\r\n\r\nexport const deletePostThunkCreator = (idPost: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleDeletePostProgress(true))\r\n        const data = await deletePostRequest(idPost)\r\n        dispatch(deletePost(idPost, data.message))\r\n        dispatch(toggleDeletePostProgress(false))\r\n    }\r\n}\r\n\r\nexport const setProfileInfoThunkCreator = (profileId: number) => {\r\n    return async (dispatch: Function) => {\r\n        const data = await getProfileInfoRequest(profileId)\r\n        dispatch(setProfileInfo(data))\r\n        const statusData = await getStatusRequest(profileId)\r\n        dispatch(setStatus(statusData.userStatus))\r\n    }\r\n}\r\n\r\nexport const setNewStatusThunkCreator = (newStatusText: string) => {\r\n    return async (dispatch: Function) => {\r\n        const data = await updateUserStatusRequest(newStatusText)\r\n        if (!data.error) {\r\n            dispatch(setStatus(data.userStatus))\r\n        }\r\n    }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleFollowingProgress(true))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow( data.message))\r\n        dispatch(toggleFollowingProgress(false))\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleFollowingProgress(true))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(data.message))\r\n        dispatch(toggleFollowingProgress(false))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleSetIsWroteProgress(true))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleSetIsWroteProgress(false))\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profilePageReducer;","import React from 'react';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addPostThunkCreator,\r\n    deletePostThunkCreator,\r\n    setPostsThunkCreator,\r\n\r\n} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    }\r\n}\r\n\r\n\r\nclass MyPostsService extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setPostsThunkCreator(this.props.profileId)\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.profileId !== this.props.profileId) {\r\n            this.props.setPostsThunkCreator(this.props.profileId)\r\n        }\r\n    }\r\n\r\n\r\n    onAddNewPost = (postText) => {\r\n        if (postText) {\r\n            this.props.addPostThunkCreator(postText)\r\n        }\r\n    }\r\n\r\n    onDeletePost = (idPost) => {\r\n        this.props.deletePostThunkCreator(idPost)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <MyPosts postsData={this.props.profilePage.postsData}\r\n                     onAddNewPost={this.onAddNewPost}\r\n                     onDeletePost={this.onDeletePost}\r\n                     avaImg={this.props.profilePage.profileData[0].img}\r\n                     name={this.props.profilePage.profileData[0].name}\r\n                     addPostInProgress={this.props.profilePage.addPostInProgress}\r\n                     deletePostInProgress={this.props.profilePage.deletePostInProgress}\r\n                     isMyProfile = {this.props.isMyProfile}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n    setPostsThunkCreator,\r\n    addPostThunkCreator,\r\n    deletePostThunkCreator\r\n})(MyPostsService)\r\n\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nimport {serverLink} from \"../../../DAL/ApiRequests\";\r\nimport {setChangeAvaIsActive, setChangeAvaStatus} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        changeAvaIsActive: state.profilePage.changeAvaIsActive,\r\n        changeAvaStatus: state.profilePage.changeAvaStatus,\r\n        registrationPage: state.registrationPage,\r\n        serverLink: state.authorizationPage.serverLink,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setChangeAvaIsActive: (changeAvaIsActive) => {\r\n            dispatch(setChangeAvaIsActive(changeAvaIsActive))\r\n        },\r\n        setChangeAvaStatus: (status) => {\r\n            dispatch(setChangeAvaStatus(status))\r\n        },\r\n    }\r\n}\r\n\r\n\r\nclass FileUploadService extends React.Component {\r\n\r\n    custom_file_upload_url = `${serverLink}/uploadImg`;\r\n\r\n    onSetChangeAvaIsActive = (changeAvaIsActive) => {\r\n        this.props.setChangeAvaIsActive(changeAvaIsActive)\r\n        if (!changeAvaIsActive && this.props.changeAvaStatus) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    onSetChangeAvaStatus = (status) => {\r\n        this.props.setChangeAvaStatus(status)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            image_file: null,\r\n            image_preview: '',\r\n        }\r\n    }\r\n\r\n    // Image Preview Handler\r\n    handleImagePreview = (e) => {\r\n        let image_as_base64 = URL.createObjectURL(e.target.files[0])\r\n        let image_as_files = e.target.files[0];\r\n\r\n        this.setState({\r\n            image_preview: image_as_base64,\r\n            image_file: image_as_files,\r\n        })\r\n    }\r\n\r\n    // Image/File Submit Handler\r\n    handleSubmitFile = () => {\r\n\r\n        if (this.state.image_file !== null) {\r\n            let formData = new FormData();\r\n            formData.append('file', this.state.image_file,);\r\n            formData.append('token', localStorage.getItem(\"userToken\"))\r\n            // the image field name should be similar to your api endpoint field name\r\n            // in my case here the field name is customFile\r\n\r\n\r\n            axios.post(\r\n                this.custom_file_upload_url,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        \"Accept\": \"application/json\",\r\n                        \"Content-type\": \"multipart/form-data\",\r\n                    },\r\n                }\r\n            )\r\n                .then(response => {\r\n                    this.onSetChangeAvaStatus(response.data.message || response.data.error)\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.modal} onClick={() => this.onSetChangeAvaIsActive(false)}>\r\n                <div className={s.modalContent} onClick={e => e.stopPropagation()}>\r\n                    <div className={s.modalName}><p>Загрузка нового фото</p></div>\r\n                    <input\r\n                        className={s.addImgInput}\r\n                        type=\"file\"\r\n                        onChange={this.handleImagePreview}/>\r\n                    <img className={s.loadedImg} src={this.state.image_preview}/>\r\n                    <div className={s.changeAvaStatus}><p>{this.props.changeAvaStatus}</p></div>\r\n                    <input className={s.submitInput} type=\"submit\" onClick={this.handleSubmitFile} value=\"Загрузить\"/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst FileUploadContainer = connect(mapStateToProps, mapDispatchToProps)(FileUploadService);\r\nexport default FileUploadContainer","import React, {useEffect, useState} from \"react\"\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, toggleEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    let activateEditMode = () => {\r\n        toggleEditMode(true)\r\n    }\r\n    let deactivateEditMode = () => {\r\n        toggleEditMode(false)\r\n    }\r\n\r\n    let onStatusTextChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    let onSetNewStatus = () => {\r\n        deactivateEditMode()\r\n        props.onSetNewStatus(status)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n\r\n    return <div className={s.ProfileStatus}>\r\n        {!editMode ? <div>\r\n                <span className={props.isMyProfile ? s.statusValue: s.strangerStatusValue} onDoubleClick={props.isMyProfile ? activateEditMode:null}>\r\n                    {props.status}\r\n                </span>\r\n            </div>\r\n            :\r\n            <div className={s.inputStatusArea}>\r\n                <input onChange={onStatusTextChange} autoFocus={true} onBlur={onSetNewStatus} className={s.inputStatus}\r\n                       value={status}></input>\r\n            </div>}\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default React.memo(ProfileStatus)","import s from './ProfileInfo.module.css'\r\nimport React from 'react';\r\nimport FileUploadContainer from \"./addImg\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div className={s.profileInfoWrap}>\r\n            <div className={s.profileInfo}>\r\n                <div className={s.ava}>\r\n                    <img alt=\"ava\"\r\n                         src={props.profileData[0].img}/>\r\n                </div>\r\n                <div className={s.userData}>\r\n                    <p className={s.name}>{props.profileData[0].name}</p>\r\n                    <ProfileStatus onSetNewStatus ={props.onSetNewStatus}\r\n                                   status = {props.status}\r\n                                   isMyProfile = {props.isMyProfile}\r\n                    />\r\n                    <p>Возраст: {props.profileData[0].age}</p>\r\n                    <p>Адрес: {props.profileData[0].address}</p>\r\n                    {props.profileData[0].followed ? <div className={s.followedStatus}><p>Ваш друг</p></div> : null}\r\n                </div>\r\n            </div>\r\n            <div className={s.activity}>\r\n                {props.isMyProfile ?\r\n                    <div>\r\n                        <button onClick={() => props.onSetChangeAvaIsActive(true)} className={s.activityButton}>Обновить\r\n                            фото</button>\r\n                    </div> :\r\n                    <div>\r\n                        <button disabled={props.setIsWroteInProgress} onClick={() => {\r\n                            props.onMessage(props.profileData[0].userId)\r\n                        }} className={s.activityButton}>Написать\r\n                        </button>\r\n                        {props.profileData[0].followed ?\r\n                            <button disabled={props.followingInProgress}\r\n                                    onClick={() => props.onUnfollow(props.profileData[0].userId)}\r\n                                    className={s.activityButton}>Удалить</button> :\r\n                            <button disabled={props.followingInProgress}\r\n                                    onClick={() => props.onFollow(props.profileData[0].userId)}\r\n                                    className={s.activityButton}>Добавить</button>}\r\n                    </div>\r\n                }\r\n                {props.changeAvaIsActive ? <FileUploadContainer/> :null}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default React.memo(ProfileInfo);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport {\r\n    followThunkCreator, goToDialogThunkCreator,\r\n    setChangeAvaIsActive, setNewStatusThunkCreator,\r\n    setProfileInfoThunkCreator, unFollowThunkCreator,\r\n} from \"../../../Redux/Reducers/ProfilePageReducer\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        changeAvaIsActive: state.profilePage.changeAvaIsActive,\r\n        profileData: state.profilePage.profileData,\r\n        status: state.profilePage.status,\r\n        setIsWroteInProgress: state.profilePage.setIsWroteInProgress,\r\n        followingInProgress: state.profilePage.followingInProgress,\r\n    }\r\n}\r\n\r\nclass ProfileInfoService extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setProfileInfoThunkCreator(this.props.profileId)\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.profileId !== this.props.profileId) {\r\n            this.props.setProfileInfoThunkCreator(this.props.profileId)\r\n        }\r\n    }\r\n\r\n    onUnfollow = (userId) => {\r\n        this.props.unFollowThunkCreator(userId)\r\n    }\r\n\r\n    onFollow = (userId) => {\r\n        this.props.followThunkCreator(userId)\r\n    }\r\n\r\n    onMessage = (userId) => {\r\n        this.props.goToDialogThunkCreator(userId)\r\n    }\r\n\r\n    onSetChangeAvaIsActive = (changeAvaIsActive) => {\r\n        this.props.setChangeAvaIsActive(changeAvaIsActive)\r\n    }\r\n\r\n    onSetNewStatus = (newStatusText) => {\r\n        this.props.setNewStatusThunkCreator(newStatusText)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ProfileInfo\r\n                isMyProfile = {this.props.isMyProfile}\r\n                changeAvaIsActive={this.props.changeAvaIsActive}\r\n                profileData={this.props.profileData}\r\n                status={this.props.status}\r\n                onSetChangeAvaIsActive={this.onSetChangeAvaIsActive}\r\n                onSetNewStatus={this.onSetNewStatus}\r\n                onUnfollow={this.onUnfollow}\r\n                onFollow={this.onFollow}\r\n                onMessage={this.onMessage}\r\n                setIsWroteInProgress={this.props.setIsWroteInProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileInfoContainer = compose(\r\n    connect(mapStateToProps, {\r\n        setChangeAvaIsActive,\r\n        setProfileInfoThunkCreator,\r\n        setNewStatusThunkCreator,\r\n        unFollowThunkCreator,\r\n        followThunkCreator,\r\n        goToDialogThunkCreator,\r\n    })\r\n)(ProfileInfoService)\r\n\r\nexport default ProfileInfoContainer;","import React, {useState} from 'react';\r\nimport s from \"./ProfilePage.module.css\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\n\r\n\r\nconst ProfilePage = (props) => {\r\n    return (\r\n        <div className={s.profilePage}>\r\n            <ProfileInfoContainer isMyProfile={props.isMyProfile} profileId = {props.profileId}/>\r\n            <MyPostsContainer isMyProfile={props.isMyProfile} profileId = {props.profileId}/>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(ProfilePage);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth.jsx\";\r\nimport {compose} from \"redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {setIsWrote, setProfileId} from \"../../Redux/Reducers/ProfilePageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isWrote: state.profilePage.isWrote,\r\n        currentDialogId: state.dialogsPage.currentDialogId,\r\n        myId: state.profilePage.myId,\r\n    }\r\n}\r\n\r\n\r\nclass profilePageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.isWrote) {\r\n            this.props.setIsWrote(false)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    }\r\n\r\n\r\n    render() {\r\n        const profileId = this.props.match.params.profileId\r\n        const isMyProfile = +(this.props.match.params.profileId) === this.props.myId || !profileId\r\n        if (this.props.isWrote && this.props.currentDialogId) {\r\n            return <Redirect to={\"/AuthUser/DialogsPage/\" + this.props.currentDialogId}/>\r\n        }\r\n        return (\r\n            <ProfilePage profileId={profileId}\r\n                         isMyProfile = {isMyProfile}/>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {setIsWrote}),\r\n    CheckAuthRedirect,\r\n)(profilePageContainer)\r\n","import s from \"./Friend.module.css\"\r\nimport standUserAva from \"../../../../Assets/standUserAva.png\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Friend = (props) => {\r\n    if (props.isWrote && props.currentDialogId) {\r\n        return <Redirect to={\"/AuthUser/DialogsPage/\" + props.currentDialogId}/>\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.friend}>\r\n            <div className={s.friendAva}>\r\n                <img\r\n                    src={props.img != null ? props.img : standUserAva}\r\n                    alt=\"userAva\"/>\r\n            </div>\r\n            <div className={s.friendInfo}>\r\n                <NavLink className={s.friendLink}\r\n                         to={\"/AuthUser/ProfilePage/\" + props.id}>{`${props.name}`}</NavLink>\r\n                <button disabled={props.isWroteInProgress.some(id => id == props.id)} onClick={() => {\r\n                    props.onMessage(props.id)\r\n                }} className={`${s.toMessageButton} ${s.button}`}>Написать\r\n                </button>\r\n                {props.followed ?\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => props.onUnfollow(props.id)}\r\n                            className={`${s.unfollowButton} ${s.button}`}>Удалить</button> :\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => props.onFollow(props.id)}\r\n                            className={`${s.followButton} ${s.button}`}>Добавить</button>}\r\n                {!props.followed ? <div className={s.followedStatus}><p>Удален из друзей</p></div> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Friend)","import s from \"../FriendsPage.module.css\";\r\nimport React from \"react\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\nconst FriendList = (props) => {\r\n\r\n    let friendsItems = props.friendsData.map((f) =>\r\n        <Friend\r\n            key={f.id}\r\n            img={f.img}\r\n            id={f.id}\r\n            name={f.name}\r\n            onMessage={props.onMessage}\r\n            isWrote={props.isWrote}\r\n            currentDialogId={props.currentDialogId}\r\n            onUnfollow={props.onUnfollow}\r\n            onFollow={props.onFollow}\r\n            followed={f.followed}\r\n            followingInProgress = {props.followingInProgress}\r\n            isWroteInProgress ={props.isWroteInProgress} />\r\n    )\r\n\r\n    return (\r\n        <div className={s.friendList}>\r\n            {props.friendsData.length > 0 ? friendsItems : \"У вас пока нет друзей\"}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(FriendList)\r\n\r\n\r\n","import s from \"./FriendsPage.module.css\"\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendList from \"./FriendList/FriendList\";\r\nimport Pagination from \"../Pagination\";\r\n\r\nconst FriendsPage = (props) => {\r\n\r\n    return (\r\n        <div className={s.friendsPage}>\r\n            <div className={s.searchFriendsButtonWrap}>\r\n                <button className={s.searchFriendsButton}><NavLink className={s.searchFriends} to=\"/AuthUser/UsersPage\">Search\r\n                    new friends</NavLink></button>\r\n            </div>\r\n            <div className={s.usersListArea}><h2>Ваши друзья:</h2><FriendList friendsData={props.friendsData}\r\n                                                                              onMessage={props.onMessage}\r\n                                                                              isWrote={props.isWrote}\r\n                                                                              currentDialogId={props.currentDialogId}\r\n                                                                              onUnfollow={props.onUnfollow}\r\n                                                                              onFollow={props.onFollow}\r\n                                                                              followingInProgress={props.followingInProgress}\r\n                                                                              isWroteInProgress={props.isWroteInProgress}/>\r\n            </div>\r\n            <div className={s.selectingPageMenu}>{props.friendsData.length > 0 ?\r\n                <Pagination totalCount={props.totalFriendsCount}\r\n                            pageSize={props.pageSize}\r\n                            currentPage={props.currentPage}\r\n                            setCurrentPage={props.onSetCurrentPage}/> : null}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(FriendsPage)","import {\r\n    followRequest,\r\n    getFriendsRequest,\r\n    goToDialogRequest,\r\n    unFollowRequest\r\n} from \"../../DAL/ApiRequests\";\r\n\r\nimport {setCurrentDialog} from \"./DialogsPageReducer\";\r\n\r\nconst SET_FRIENDS = \"SET_FRIENDS\";\r\nconst SET_FRIENDS_TOTAL_COUNT = \"SET_FRIENDS_TOTAL_COUNT\";\r\nconst SET_CURRENT_FRIENDS_PAGE = \"SET_CURRENT_FRIENDS_PAGE\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_IS_WROTE = \"SET_IS_WROTE\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst FP_TOGGLE_FOLLOWING_PROGRESS = \"FP_TOGGLE_FOLLOWING_PROGRESS\";\r\nconst FP_TOGGLE_IS_WROTE_PROGRESS = \"FP_TOGGLE_IS_WROTE_PROGRESS\";\r\n\r\nlet initialFriendsPage = {\r\n    friendsData: [] as Array<FriendType>,\r\n    currentPage: 1 as number,\r\n    pageSize: 7,\r\n    totalFriendsCount: 0 as number,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<Number>,\r\n    isWrote: false,\r\n    isWroteInProgress: [] as Array<Number>,\r\n};\r\n\r\nexport type FriendType = {\r\n    id: number\r\n    name: string\r\n    img: string\r\n}\r\n\r\nexport type initialStateType = typeof initialFriendsPage\r\n\r\nconst friendsPageReducer = (friendsPage = initialFriendsPage, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case UNFOLLOW:\r\n            return {\r\n                ...friendsPage,\r\n                friendsData: friendsPage.friendsData.map((f: FriendType) => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...friendsPage,\r\n                friendsData: friendsPage.friendsData.map((f: FriendType) => {\r\n                    if (f.id === action.friendId) {\r\n                        return {...f, followed: true}\r\n                    }\r\n                    return f;\r\n                })\r\n            }\r\n\r\n        case SET_IS_WROTE:\r\n            return {...friendsPage, isWrote: action.isWrote}\r\n\r\n\r\n        case SET_FRIENDS:\r\n            if (action.friendsData) {\r\n                return {\r\n                    ...friendsPage, friendsData: [...action.friendsData]\r\n                }\r\n            }\r\n            else return friendsPage\r\n\r\n        case SET_CURRENT_FRIENDS_PAGE:\r\n            return {\r\n                ...friendsPage, currentPage: action.number\r\n            }\r\n\r\n        case SET_FRIENDS_TOTAL_COUNT:\r\n            return {\r\n                ...friendsPage, totalFriendsCount: action.count\r\n            }\r\n        case FP_TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...friendsPage,\r\n                followingInProgress: action.inProgress ? [...friendsPage.followingInProgress, action.userId] :\r\n                    friendsPage.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        case FP_TOGGLE_IS_WROTE_PROGRESS:\r\n            return {\r\n                ...friendsPage,\r\n                isWroteInProgress: action.inProgress ? [...friendsPage.isWroteInProgress, action.userId] :\r\n                    friendsPage.isWroteInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n\r\n        default: {\r\n            return friendsPage\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const setFriends = (friendsData: Array<FriendType>) => {\r\n    return {\r\n        type: SET_FRIENDS,\r\n        friendsData\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (number: number) => {\r\n    return {\r\n        type: SET_CURRENT_FRIENDS_PAGE,\r\n        number\r\n    }\r\n}\r\nexport const setFriendsTotalCount = (count: number) => {\r\n    return {\r\n        type: SET_FRIENDS_TOTAL_COUNT,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (isFetch: boolean) => {\r\n    return {\r\n        type: SET_IS_FETCHING,\r\n        isFetch\r\n    }\r\n}\r\nexport const setIsWrote = (isWrote: boolean) => {\r\n    return {\r\n        type: SET_IS_WROTE,\r\n        isWrote\r\n    }\r\n}\r\nexport const follow = (friendId: number, message: string) => {\r\n    return {\r\n        type: FOLLOW,\r\n        friendId,\r\n        message\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId: number, message: string) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n        message\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (inProgress: boolean, userId: number) => {\r\n    return {\r\n        type: FP_TOGGLE_FOLLOWING_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const toggleIsWroteProgress = (inProgress: boolean, userId: number) => {\r\n    return {\r\n        type: FP_TOGGLE_IS_WROTE_PROGRESS,\r\n        inProgress,\r\n        userId\r\n    }\r\n}\r\n\r\n\r\nexport const setFriendsThunkCreator = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(setIsFetching(true))\r\n        const data = await getFriendsRequest(currentPage, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        if (data) {\r\n            dispatch(setFriends(data.items))\r\n            dispatch(setFriendsTotalCount(data.totalCount))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const unFollowThunkActionCreator = (userId: number) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await unFollowRequest(userId)\r\n        dispatch(unFollow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const followThunkActionCreator = (userId: number) => {\r\n    return async (dispatch:Function) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await followRequest(userId)\r\n        dispatch(follow(userId, data.message))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const setCurrentPageThunkActionCreator = (number: number, pageSize: number) => {\r\n    return async (dispatch:Function) => {\r\n        dispatch(setCurrentPage(number))\r\n        dispatch(setIsFetching(true))\r\n        const data = await getFriendsRequest(number, pageSize)\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setFriends(data.items))\r\n        dispatch(setFriendsTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const goToDialogThunkActionCreator = (userId: number) => {\r\n    return async (dispatch:Function) => {\r\n        dispatch(toggleIsWroteProgress(true, userId))\r\n        const data = await goToDialogRequest(userId)\r\n        dispatch(setIsWrote(true))\r\n        dispatch(setCurrentDialog(data.idDialog))\r\n        dispatch(toggleIsWroteProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport default friendsPageReducer;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport FriendsPage from \"./FriendsPage\";\r\nimport {\r\n    followThunkActionCreator, goToDialogThunkActionCreator,\r\n    setCurrentPage, setCurrentPageThunkActionCreator,\r\n    setFriendsThunkCreator,\r\n    setIsWrote,\r\n    unFollowThunkActionCreator\r\n} from \"../../Redux/Reducers/FriendsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friendsData: state.friendsPage.friendsData,\r\n        pageSize: state.friendsPage.pageSize,\r\n        totalFriendsCount: state.friendsPage.totalFriendsCount,\r\n        currentPage: state.friendsPage.currentPage,\r\n        isFetching: state.friendsPage.isFetching,\r\n        isWrote: state.friendsPage.isWrote,\r\n        serverLink: state.authorizationPage.serverLink,\r\n        currentDialogId: state.dialogsPage.currentDialogId,\r\n        followingInProgress: state.friendsPage.followingInProgress,\r\n        isWroteInProgress: state.friendsPage.isWroteInProgress,\r\n        auth: state.authorizationPage.auth\r\n    }\r\n}\r\n\r\n\r\nclass FriendsPageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.setFriendsThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setIsWrote(false)\r\n        this.props.setCurrentPage(1)\r\n    }\r\n\r\n    onUnfollow = (userId) => {\r\n        this.props.unFollowThunkActionCreator(userId)\r\n    }\r\n\r\n    onFollow = (userId) => {\r\n        this.props.followThunkActionCreator(userId)\r\n    }\r\n\r\n    onSetCurrentPage = (number) => {\r\n        this.props.setCurrentPageThunkActionCreator(number, this.props.pageSize)\r\n    }\r\n\r\n    onMessage = (userId) => {\r\n        this.props.goToDialogThunkActionCreator(userId)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <FriendsPage\r\n                totalFriendsCount={this.props.totalFriendsCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                friendsData={this.props.friendsData}\r\n                currentDialogId={this.props.currentDialogId}\r\n                onSetCurrentPage={this.onSetCurrentPage}\r\n                isWrote={this.props.isWrote}\r\n                onUnfollow={this.onUnfollow}\r\n                onFollow={this.onFollow}\r\n                onMessage={this.onMessage}\r\n                followingInProgress={this.props.followingInProgress}\r\n                isWroteInProgress={this.props.isWroteInProgress}\r\n            />\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setIsWrote,\r\n        setCurrentPage,\r\n        setFriendsThunkCreator,\r\n        unFollowThunkActionCreator,\r\n        followThunkActionCreator,\r\n        setCurrentPageThunkActionCreator,\r\n        goToDialogThunkActionCreator\r\n    }),\r\n    CheckAuthRedirect\r\n)(FriendsPageContainer)\r\n","import React from 'react';\r\nimport s from \"./Nav.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to={\"/AuthUser/ProfilePage/\" + props.myId}>Профиль</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p onClick={() => props.onGoToDialogsPage(\"\")}><NavLink className={s.link}\r\n                                                                        activeClassName={s.activeLink}\r\n                                                                        to=\"/AuthUser/DialogsPage\">Диалоги</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to=\"/AuthUser/FriendsPage\">Друзья</NavLink></p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink} to=\"/AuthUser/NewsPage\">Новости</NavLink>\r\n                </p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n                <p><NavLink className={s.link} activeClassName={s.activeLink}\r\n                            to=\"/AuthUser/Settings\">Настройки</NavLink>\r\n                </p>\r\n            </div>\r\n            <div className={s.navItem}>\r\n\r\n                <button className={s.logoutButton} onClick={() => {\r\n                    props.onExit()\r\n                    // window.location.reload();\r\n                }}>\r\n                    Выйти\r\n                    {/*<NavLink className={`${s.link} ${s.logoutLink}`} to=\"/\">Выйти</NavLink>*/}\r\n                </button>\r\n\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import {userVerificationRequest} from \"../../DAL/ApiRequests\";\r\nimport {stopSubmit} from \"redux-form\"\r\n\r\nconst AuthPActionsTypes = {\r\n    USER_VERIFICATION: \"USER_VERIFICATION\",\r\n    RESET_VERIFICATION: \"RESET_VERIFICATION\",\r\n    SET_USER_TOKEN: \"SET_USER_TOKEN\",\r\n    SET_AUTH_USER_ID: \"SET_AUTH_USER_ID\",\r\n    TOGGLE_AUTHORISATION_PROGRESS: \"TOGGLE_AUTHORISATION_PROGRESS\",\r\n}\r\n\r\n\r\ntype ActionType = {\r\n    type: typeof AuthPActionsTypes.SET_AUTH_USER_ID |\r\n        typeof  AuthPActionsTypes.USER_VERIFICATION |\r\n        typeof  AuthPActionsTypes.RESET_VERIFICATION|\r\n        typeof  AuthPActionsTypes.SET_USER_TOKEN\r\n\r\n    authUserId?: number\r\n    token?: any\r\n    authorisationInProgress?: boolean\r\n}\r\n\r\nlet initialAuthorisationPage = {\r\n    auth: false as boolean,\r\n    authorisationInProgress: false as boolean | undefined,\r\n    authUserId: null as number | null | undefined,\r\n};\r\n\r\nexport type initialStateType = typeof initialAuthorisationPage\r\n\r\n\r\nconst authorisationPageReducer = (authorisationPage = initialAuthorisationPage, action: ActionType ): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case AuthPActionsTypes.USER_VERIFICATION:\r\n            return {\r\n                ...authorisationPage,\r\n                auth: true\r\n            }\r\n\r\n        case AuthPActionsTypes.SET_AUTH_USER_ID:\r\n            return {\r\n                ...authorisationPage,\r\n                authUserId: action.authUserId\r\n            }\r\n\r\n        case AuthPActionsTypes.RESET_VERIFICATION:\r\n            localStorage.removeItem(\"userToken\")\r\n            return {\r\n                ...authorisationPage,\r\n                auth: false\r\n            }\r\n        case AuthPActionsTypes.SET_USER_TOKEN:\r\n            localStorage.setItem(\"userToken\", action.token)\r\n            return authorisationPage\r\n        default: {\r\n            return authorisationPage\r\n        }\r\n        case AuthPActionsTypes.TOGGLE_AUTHORISATION_PROGRESS:\r\n            return {\r\n                ...authorisationPage,\r\n                authorisationInProgress: action.authorisationInProgress\r\n            }\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserId = (authUserId: number) => {\r\n    return {\r\n        type: AuthPActionsTypes.SET_AUTH_USER_ID,\r\n        authUserId\r\n    }\r\n}\r\n\r\n\r\nexport const userVerification = () => {\r\n    return {\r\n        type: AuthPActionsTypes.USER_VERIFICATION,\r\n    }\r\n}\r\nexport const resetVerification = () => {\r\n    return {\r\n        type: AuthPActionsTypes.RESET_VERIFICATION\r\n    }\r\n\r\n}\r\nexport const setUserToken = (token: string) => {\r\n    return {\r\n        type: AuthPActionsTypes.SET_USER_TOKEN,\r\n        token\r\n    }\r\n}\r\nexport const toggleAuthorisationProgress = (authorisationInProgress: boolean) => {\r\n    return {\r\n        type: AuthPActionsTypes.TOGGLE_AUTHORISATION_PROGRESS,\r\n        authorisationInProgress: authorisationInProgress\r\n    }\r\n}\r\n\r\nexport const userVerificationThunkCreator = (login: string, password: string) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleAuthorisationProgress(true))\r\n        let data = await userVerificationRequest(login, password)\r\n        if (data.key_type) {\r\n            dispatch(setUserToken(data.access_token))\r\n            dispatch(setAuthUserId(data.myId))\r\n            dispatch(userVerification())\r\n        } else {\r\n            let action = stopSubmit(\"authorization\", {_error: data.message})\r\n            dispatch(action)\r\n        }\r\n        dispatch(toggleAuthorisationProgress(false))\r\n    }\r\n}\r\n\r\n\r\nexport const resetVerificationThunkCreator = () => (dispatch: Function) => {\r\n    dispatch(resetVerification())\r\n}\r\n\r\nexport default authorisationPageReducer;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Nav from \"./Nav\";\r\nimport {setCurrentDialog} from \"../../Redux/Reducers/DialogsPageReducer\";\r\nimport {resetVerificationThunkCreator} from \"../../Redux/AuthoRegReducers/AuthorizationPageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        myId: state.profilePage.myId\r\n    }\r\n}\r\n\r\n\r\nclass NavService extends React.Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    onGoToDialogsPage = (number) => {\r\n        this.props.setCurrentDialog(number)\r\n    }\r\n\r\n    onExit = () => {\r\n        this.props.resetVerificationThunkCreator()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Nav onGoToDialogsPage={this.onGoToDialogsPage}\r\n                 myId = {this.props.myId}\r\n                 onExit = {this.onExit}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst NavContainer = connect(mapStateToProps, {\r\n    setCurrentDialog, resetVerificationThunkCreator,\r\n})(NavService)\r\n\r\nexport default NavContainer;","import s from \"./Message.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.senderAva}>\r\n                <img src={props.senderAva} alt=\"senderava\"/>\r\n            </div>\r\n            <div className={s.messageContent}>\r\n\r\n                <div className={s.senderName}>\r\n                    <NavLink className={s.senderLink}\r\n                                to={\"/AuthUser/ProfilePage/\" + props.senderId}>{props.senderName}</NavLink>\r\n                </div>\r\n                <div className={s.text}><p>{props.text}</p></div>\r\n                <div className={s.time}>{props.time}</div>\r\n            </div>\r\n            <div className={s.deleteMessage}><button disabled={props.deleteMessageInProgress} onClick={() => props.onDeleteMessage(props.idMessage)}><p>×</p></button></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Message);","import s from \"../DialogsPage.module.css\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator} from \"../../Common/Validators/Validators\";\r\n\r\n\r\nconst MessagesBar = (props) => {\r\n\r\n    const barBottom = useRef(null)\r\n\r\n    useEffect(() => {\r\n        barBottom.current.scrollIntoView();\r\n    })\r\n\r\n    const onSubmit = (formData, dispatch) => {\r\n        props.onSendNewMessage(formData.messageText)\r\n        dispatch(reset(\"sendMessage\"))\r\n    }\r\n\r\n\r\n    let messagesItems = props.messagesData.map(m => m.isDeleted ? null : <Message\r\n        deleteMessageInProgress={props.deleteMessageInProgress}\r\n        key={m.id}\r\n        senderName={m.name}\r\n        text={m.text}\r\n        senderAva={m.img}\r\n        time={m.time}\r\n        idMessage={m.id}\r\n        onDeleteMessage={props.onDeleteMassage}\r\n        senderId={m.senderId}\r\n    />)\r\n\r\n    return (\r\n        <div className={s.messagesBar}>\r\n            <div className={s.messagesList}>{props.messagesData.length > 0 ? messagesItems :\r\n                <p className={s.noMessagesMessage}>В этом диалоге пока нет сообщений</p>}\r\n                <div ref={barBottom}></div>\r\n            </div>\r\n            <ReduxSendingMessageForm sendMessageInProgress={props.sendMessageInProgress} onSubmit={onSubmit}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TextAreaForm = CreateFormItem(\"textarea\")\r\nconst requiredLength = checkLenghtCreator(0, 350)\r\n\r\nconst SendingMessageForm = (props) => {\r\n    return <form\r\n        className={s.sendMessageForm}\r\n        onSubmit={props.handleSubmit}>\r\n        <Field placeholder=\"Ваше сообщение\"\r\n               name=\"messageText\" validate={[requiredLength]} component={TextAreaForm}/>\r\n        <button disabled={props.sendMessageInProgress} className={s.sendMessageButton}>Send message\r\n        </button>\r\n    </form>\r\n}\r\n\r\nconst ReduxSendingMessageForm = reduxForm({\r\n    form: \"sendMessage\",\r\n})(SendingMessageForm)\r\n\r\n\r\nexport default React.memo(MessagesBar)","import {NavLink} from \"react-router-dom\";\r\nimport React from 'react';\r\nimport s from './Dialog.module.css'\r\n\r\nconst Dialog = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <div className={s.dialogAva}>\r\n                <img src={props.dialogAva} alt=\"dialogAva\"/>\r\n            </div>\r\n            <button\r\n                disabled={props.setCurrentDialogInProgress}\r\n                onClick={() => props.onSetCurrentDialog(props.idDialog)}\r\n                className={s.dialogLinkButton}><NavLink\r\n                className={s.dialogLink} activeClassName={s.activeDialog}\r\n                to={`/AuthUser/DialogsPage/${props.idDialog}`}>{props.chatName}</NavLink></button>\r\n            <div className={s.deleteDialog}><button disabled={props.deleteDialogInProgress} onClick={() => props.onDeleteDialog(props.idDialog)}><p>×</p></button></div>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Dialog);","import React from 'react';\r\nimport s from '../DialogsPage.module.css'\r\nimport Dialog from \"./Dialog/Dialog\"\r\n\r\n\r\nconst DialogList = (props) => {\r\n\r\n    let dialogsItems = props.dialogsData.map(d => d.isDeleted ? null :\r\n        <Dialog\r\n            deleteDialogInProgress={props.deleteDialogInProgress}\r\n            setCurrentDialogInProgress={props.setCurrentDialogInProgress}\r\n            key={d.idDialog}\r\n            onSetCurrentDialog={props.onSetCurrentDialog}\r\n            dialogAva={d.img} idDialog={d.idDialog}\r\n            chatName={d.name}\r\n            onDeleteDialog={props.onDeleteDialog}/>)\r\n\r\n    return (\r\n        <div className={s.dialogList}>\r\n            <h2>Список диалогов:</h2>\r\n            <div className={s.dialogsBar}>{props.dialogsData.length > 0 ? dialogsItems :\r\n                <p>У вас пока нет активых диалогов. Напишите кому - нибудь, и здесь появится диалог</p>}</div>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(DialogList)","import React, {useEffect} from 'react';\r\nimport s from './DialogsPage.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport MessagesBar from \"./MessagesBar/MessagesBar\";\r\nimport DialogList from \"./DialogList/DialogList\"\r\n\r\n// export let ws = new WebSocket(`ws://188.32.105.146:8000/ws`)\r\n\r\n\r\n\r\nlet DialogsPage = (props) => {\r\n\r\n    // useEffect(() => {\r\n    //     ws.addEventListener('message', (e) => {\r\n    //         let response = JSON.parse(e.data)\r\n    //         if (response.type === \"checkMessages\") {\r\n    //             console.log(\"Rabotayou\")\r\n    //             props.setMessages(response.items)\r\n    //         }\r\n    //\r\n    //     })\r\n    // })\r\n\r\n    return <>\r\n        {!props.currentDialogId ? <Redirect to={\"/AuthUser/DialogsPage\" + props.currentDialogId}/> : null}\r\n\r\n        <div className={s.wrapper}>\r\n            {props.currentDialogId ? <MessagesBar\r\n                sendMessageInProgress = {props.sendMessageInProgress}\r\n                deleteMessageInProgress ={props.deleteMessageInProgress}\r\n                messagesData={props.messagesData}\r\n                newMessageText={props.newMessageText}\r\n                onSendNewMessage={props.onSendNewMessage}\r\n                onDeleteMassage={props.onDeleteMassage}/> : null}\r\n\r\n            <DialogList\r\n                setCurrentDialogInProgress = {props.setCurrentDialogInProgress}\r\n                dialogsData={props.dialogsData}\r\n                onDeleteDialog = {props.onDeleteDialog}\r\n                onSetCurrentDialog={props.onSetCurrentDialog}\r\n                deleteDialogInProgress={props.deleteDialogInProgress}/>\r\n        </div>\r\n    </>\r\n\r\n}\r\n\r\n\r\nexport default React.memo(DialogsPage);","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DialogsPage from \"./DialogsPage\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {\r\n    cetCurrentDialogThunkCreator,\r\n    deleteDialogThunkCreator,\r\n    deleteMessageThunkCreator,\r\n    sendMessageThunkCreator,\r\n    setCurrentDialog,\r\n    setDialogsThunkCreator,\r\n\r\n\r\n} from \"../../Redux/Reducers/DialogsPageReducer\";\r\nimport {CheckAuthRedirect} from \"../../HOC/CheckAuth\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nclass DialogsPageContainer extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.setDialogsThunkCreator(this.props.dialogsPage.currentDialogId)\r\n    }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    //\r\n    //     if (this.props.dialogsPage.messagesData === nextProps.dialogsPage.messagesData &&\r\n    //         this.props.dialogsPage.dialogsData === nextProps.dialogsPage.dialogsData\r\n    //     ) {\r\n    //         return false\r\n    //     }\r\n    //     return true\r\n    // } \r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.props.setCurrentDialog(\"\")\r\n    }\r\n\r\n\r\n    onDeleteDialog = (idDialog) => {\r\n        this.props.deleteDialogThunkCreator(idDialog, this.props.dialogsPage.currentDialogId)\r\n    }\r\n\r\n    onDeleteMassage = (idMessage) => {\r\n        let dialogId = this.props.match.params.dialogId\r\n        this.props.deleteMessageThunkCreator(dialogId, idMessage)\r\n    }\r\n\r\n    onSetCurrentDialog = (selectedDialogId) => {\r\n        this.props.setCurrentDialog(selectedDialogId)\r\n        this.props.cetCurrentDialogThunkCreator(selectedDialogId)\r\n\r\n        // ws.send(JSON.stringify({\r\n        //     token: localStorage.getItem(\"userToken\"),\r\n        //     command: \"checkMessages\", idDialog: dialogId[a]\r\n        // }))\r\n\r\n    }\r\n\r\n\r\n    onSendNewMessage = (messageText) => {\r\n        if (messageText) {\r\n            let dialogId = this.props.match.params.dialogId\r\n            this.props.sendMessageThunkCreator(dialogId, messageText)\r\n\r\n            // ws.send(JSON.stringify({\r\n            //     token: localStorage.getItem(\"userToken\"),\r\n            //     command: \"sendMessage\", text: messageText,\r\n            //     idDialog: dialogId[a]\r\n            // }))\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <DialogsPage\r\n               dialogsData={this.props.dialogsPage.dialogsData}\r\n                messagesData={this.props.dialogsPage.messagesData}\r\n                onSendNewMessage={this.onSendNewMessage}\r\n                currentDialogId={this.props.dialogsPage.currentDialogId}\r\n                onSetCurrentDialog={this.onSetCurrentDialog}\r\n                onDeleteDialog={this.onDeleteDialog}\r\n                onDeleteMassage={this.onDeleteMassage}\r\n                setCurrentDialogInProgress={this.props.dialogsPage.setCurrentDialogInProgress}\r\n                deleteDialogInProgress={this.props.dialogsPage.deleteDialogInProgress}\r\n                deleteMessageInProgress={this.props.dialogsPage.deleteMessageInProgress}\r\n                sendMessageInProgress={this.props.dialogsPage.sendMessageInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setCurrentDialog,\r\n        setDialogsThunkCreator,\r\n        deleteDialogThunkCreator,\r\n        deleteMessageThunkCreator,\r\n        cetCurrentDialogThunkCreator,\r\n        sendMessageThunkCreator,\r\n    }),\r\n    CheckAuthRedirect,\r\n    withRouter\r\n)(DialogsPageContainer)\r\n\r\n\r\n","import {checkAuthMeRequest} from \"../../DAL/ApiRequests\";\r\nimport {userVerification} from \"../AuthoRegReducers/AuthorizationPageReducer\";\r\nimport {setMyId} from \"./ProfilePageReducer\";\r\n\r\nconst SET_SESSION_IS_START = \"SET_SESSION_IS_START\";\r\n\r\n\r\nexport type initialStateType = {\r\n    sessionIsStart: boolean\r\n}\r\nlet initialAppState: initialStateType = {\r\n    sessionIsStart: false,\r\n};\r\n\r\ntype actionType = {\r\n    type: string\r\n}\r\n\r\nconst appReducer = (appState = initialAppState, action: actionType): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_SESSION_IS_START:\r\n            return {\r\n                ...appState,\r\n                sessionIsStart: true\r\n            }\r\n        default:\r\n            return appState\r\n\r\n    }\r\n}\r\n\r\nexport type setSessionActionType = {\r\n    type: typeof SET_SESSION_IS_START\r\n}\r\n\r\nexport const setSessionIsStart = (): setSessionActionType => {\r\n    return {\r\n        type: SET_SESSION_IS_START,\r\n    }\r\n}\r\n\r\nexport const checkAuthMeThunkCreator = () => async (dispatch: Function) => {\r\n    let data = await checkAuthMeRequest()\r\n            if (data.auth) {\r\n                dispatch(userVerification())\r\n                dispatch(setMyId(data.myId))\r\n            }\r\n            return true\r\n}\r\n\r\nexport const setSessionIsStartThunkCreator = () => async (dispatch: Function) => {\r\n    await dispatch(checkAuthMeThunkCreator())\r\n    dispatch(setSessionIsStart())\r\n\r\n}\r\n\r\n\r\nexport default appReducer;","export default __webpack_public_path__ + \"static/media/mainPreloader.eb8b1ae0.svg\";","import React from \"react\";\r\nimport mainPreloader from \"../Preloaders/mainPreloader.svg\"\r\n\r\nexport const MainPreloader = () => {\r\n    return (\r\n            <img src={mainPreloader} alt=\"Preloader\"  height=\"100px\"\r\n                 width=\"100px\"/>\r\n    )\r\n}","import React, {Suspense} from 'react';\r\nimport s from './App.module.css';\r\nimport {Redirect, Route} from \"react-router-dom\";\r\nimport SettingsContainer from \"./Components/Settings/Settings\";\r\nimport NewsPageContainer from \"./Components/NewsPage/NewsPageContainer\";\r\nimport ProfilePageContainer from \"./Components/ProfilePage/ProfilePageContainer\";\r\nimport FriendsPageContainer from \"./Components/FriendsPage/FriendsPageContainer\";\r\nimport NavContainer from \"./Components/Nav/NavContainer\";\r\nimport WithRouterDialogsPageContainer from \"./Components/DialogsPage/DialogsPageContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {checkAuthMeThunkCreator, setSessionIsStartThunkCreator} from \"./Redux/Reducers/AppReducer\";\r\nimport {MainPreloader} from \"./Assets/Preloaders/mainPreloader\";\r\nimport {CheckAuthRedirect} from \"./HOC/CheckAuth\";\r\n\r\nconst UsersPageContainer = React.lazy(() => import('./Components/UsersPage/UsersPageContainer'))\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sessionIsStart: state.app.sessionIsStart\r\n    }\r\n}\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        if (localStorage.getItem(\"userToken\")) {\r\n            this.props.setSessionIsStartThunkCreator()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.sessionIsStart) {\r\n            if (!localStorage.getItem(\"userToken\")) {\r\n                return <Redirect to={\"/\"}/>\r\n            }\r\n            return <div className={s.preloaderBar}>\r\n                <MainPreloader/>\r\n            </div>\r\n        }\r\n        return (\r\n            <div className={s.wrapper}>\r\n                <NavContainer/>\r\n                <div className={s.content}>\r\n                    <Route path=\"/AuthUser/ProfilePage/:profileId?\" render={() => <ProfilePageContainer/>}/>\r\n                    <Route path=\"/AuthUser/DialogsPage/:dialogId?\"\r\n                           render={() => <WithRouterDialogsPageContainer/>}/>\r\n                    <Route exact path=\"/AuthUser/UsersPage\" render={() => <Suspense\r\n                        fallback={<div className={s.lazyLoadPreloaderBar}><MainPreloader/></div>}>\r\n                        <UsersPageContainer/>\r\n                    </Suspense>\r\n\r\n                    }/>\r\n\r\n                    <Route path=\"/AuthUser/NewsPage\" render={() => <NewsPageContainer/>}/>\r\n                    <Route path=\"/AuthUser/Settings\" render={() => <SettingsContainer/>}/>\r\n                    <Route exact path=\"/AuthUser/FriendsPage\" render={() => <FriendsPageContainer/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    checkAuthMeThunkCreator,\r\n    setSessionIsStartThunkCreator,\r\n    CheckAuthRedirect\r\n})(App);\r\n","import {userRegistrationRequest} from \"../../DAL/ApiRequests\";\r\n\r\nconst TOGGLE_REGISTRATION_PROGRESS = \"TOGGLE_REGISTRATION_PROGRESS\";\r\n\r\nexport type ActionType = {\r\n    type: typeof TOGGLE_REGISTRATION_PROGRESS\r\n    registrationInProgress?: boolean\r\n}\r\n\r\nlet initialRegistrationPage = {\r\n    registrationInProgress: false as boolean | undefined,\r\n};\r\nexport type initialStateType = typeof initialRegistrationPage\r\n\r\nconst registrationPageReducer = (registrationPage = initialRegistrationPage, action: ActionType): initialStateType => {\r\n    switch (action.type) {\r\n        case TOGGLE_REGISTRATION_PROGRESS:\r\n            return {\r\n                ...registrationPage,\r\n                registrationInProgress: action.registrationInProgress\r\n            }\r\n\r\n        default: {\r\n            return registrationPage\r\n        }\r\n    }\r\n}\r\n\r\nexport const toggleRegistrationProgress = (registrationInProgress: boolean) => {\r\n    return {\r\n        type: TOGGLE_REGISTRATION_PROGRESS,\r\n        registrationInProgress: registrationInProgress\r\n    }\r\n}\r\n\r\n\r\nexport const registrationUserThunkCreator = (login: string, password: string, firstName:string, lastName:string, address:string, age:number, email:string) => {\r\n    return async (dispatch: Function) => {\r\n        dispatch(toggleRegistrationProgress(true))\r\n        let data = await userRegistrationRequest(login, firstName, lastName, password, address, age, email)\r\n        if (data.itsFine) {\r\n            alert(\"Пользователь успешно зарегистрирован\")\r\n        } else (\r\n            alert(`Пользователь не был зарегистрирован - ${data.error}`)\r\n        )\r\n        dispatch(toggleRegistrationProgress(false))\r\n    }\r\n}\r\n\r\nexport default registrationPageReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport appReducer from \"./Reducers/AppReducer\";\r\nimport dialogsPageReducer from \"./Reducers/DialogsPageReducer\";\r\nimport profilePageReducer from \"./Reducers/ProfilePageReducer\";\r\nimport newsPageReducer from \"./Reducers/NewsPageReducer\";\r\nimport usersPageReducer from \"./Reducers/UsersPageReducer\";\r\nimport authorisationPageReducer from \"./AuthoRegReducers/AuthorizationPageReducer\";\r\nimport registrationPageReducer from \"./AuthoRegReducers/RegistrationPageReducer\";\r\nimport friendsPageReducer from \"./Reducers/FriendsPageReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\n\r\n\r\nconst enchansers = [applyMiddleware(thunkMiddleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n]\r\nlet reducers = combineReducers({\r\n    app: appReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    profilePage: profilePageReducer,\r\n    usersPage: usersPageReducer,\r\n    newsPage: newsPageReducer,\r\n    authorizationPage: authorisationPageReducer,\r\n    registrationPage: registrationPageReducer,\r\n    friendsPage: friendsPageReducer,\r\n    form: formReducer\r\n})\r\nconst store = createStore(reducers, compose(...enchansers));\r\n\r\n\r\nexport default store","import s from '../AuthoReg.module.css';\r\nimport sForm from '../../Common/FormsElements/FormsElements.module.css';\r\nimport React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField} from \"../../Common/Validators/Validators\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\n\r\ntype AuthPagePropsType = {\r\n    authorisationInProgress: boolean\r\n    onUserVerification: (login: string, password: string) => void\r\n}\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n}\r\n\r\nconst AuthorizationPage: React.FC<AuthPagePropsType> = ({authorisationInProgress, onUserVerification}) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        onUserVerification(formData.login, formData.password)\r\n    }\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.authorisation}>\r\n                <h3>Авторизация</h3>\r\n                <ReduxAuthorizationForm authorisationInProgress={authorisationInProgress} onSubmit={onSubmit}/>\r\n                <div className={s.regLink}>\r\n                    <p>Еще не зарегистрированы ? <NavLink className={s.link}\r\n                                                          to=\"/RegistrationPage\">Регистрация</NavLink></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst InputForm = CreateFormItem(\"input\")\r\n\r\nlet AuthorizationForm = (props: any) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.enterLogin}>\r\n                <p>Введите логин:</p>\r\n                <Field type=\"text\" placeholder=\"Логин\" name={\"login\"} validate={[requiredField]} component={InputForm}/>\r\n            </div>\r\n            <div className={s.enterPassword}>\r\n                <p>Введите пароль:</p>\r\n                <Field type=\"password\" placeholder=\"Пароль\" name={\"password\"} validate={[requiredField]}\r\n                       component={InputForm}/>\r\n            </div>\r\n            <div className={s.entryButton}>\r\n                {props.error ? <div className={s.summaryErrorBar}>\r\n                    <span className={sForm.summaryError}>\r\n                        {props.error}\r\n                    </span>\r\n                </div> : null}\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={props.authorisationInProgress}>\r\n                    Вход\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxAuthorizationForm: any = reduxForm({\r\n    form: \"authorization\"\r\n})(AuthorizationForm)\r\nexport default React.memo(AuthorizationPage);\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport AuthorizationPage from \"./AuthorizationPage\";\r\nimport {\r\n    toggleAuthorisationProgress, userVerificationThunkCreator\r\n} from \"../../../Redux/AuthoRegReducers/AuthorizationPageReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        authorizationPage: state.authorizationPage,\r\n        authUserId: state.authorizationPage.authUserId\r\n    }\r\n}\r\n\r\n\r\nclass AuthorizationPageService extends React.Component {\r\n\r\n    showSomeError = (reason, promise) => {\r\n        alert('Some untreated error =(')\r\n        this.props.toggleAuthorisationProgress(false)\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"unhandledrejection\", () => this.showSomeError())\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", () => this.showSomeError())\r\n    }\r\n\r\n    onUserVerification = (login, password) => {\r\n        this.props.userVerificationThunkCreator(login, password)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.authorizationPage.auth) {\r\n            return <Redirect to={\"/AuthUser/ProfilePage/\" + this.props.authUserId}/>\r\n        }\r\n        return (\r\n            <AuthorizationPage\r\n                onUserVerification={this.onUserVerification}\r\n                authorisationInProgress={this.props.authorizationPage.authorisationInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst AuthorizationPageContainer = connect(mapStateToProps, {\r\n    userVerificationThunkCreator,\r\n    toggleAuthorisationProgress\r\n\r\n})(AuthorizationPageService)\r\n\r\nexport default AuthorizationPageContainer","import s from \"../AuthoReg.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Header from \"../../Header/Header\";\r\nimport Footer from \"../../Footer/Footer\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {CreateFormItem} from \"../../Common/FormsElements/FormsElements\";\r\nimport {checkLenghtCreator, requiredField} from \"../../Common/Validators/Validators\";\r\n\r\ntype RegPagePropsType = {\r\n    onRegistrationUser: (login: string, password: string, firstName: string, lastName: string,\r\n                         address: string, age: string, email: string) => void\r\n    registrationInProgress: boolean\r\n}\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    firstName: string\r\n    lastName: string\r\n    address: string\r\n    age: string\r\n    email: string\r\n}\r\n\r\nconst RegistrationPage: React.FC<RegPagePropsType> = ({onRegistrationUser, registrationInProgress}) => {\r\n\r\n    let onSubmit = (formData: FormDataType) => {\r\n\r\n        onRegistrationUser(\r\n            formData.login,\r\n            formData.password,\r\n            formData.firstName,\r\n            formData.lastName,\r\n            formData.address,\r\n            formData.age,\r\n            formData.email\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.registration}>\r\n                <h3>Регистрация</h3>\r\n                <ReduxRegistrationPageForm onSubmit={onSubmit}\r\n                                           registrationInProgress={registrationInProgress}/>\r\n                <div className={s.authLink}>\r\n                    <p>Уже есть аккаунт ? <NavLink className={s.link} to=\"/\">Авторизация</NavLink></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nlet requiredLengthFrom3to20 = checkLenghtCreator(3, 20)\r\nlet requiredLengthFrom5to30 = checkLenghtCreator(5, 30)\r\n\r\nconst InputForm = CreateFormItem(\"input\")\r\n\r\n\r\nconst RegistrationPageForm = (props: any) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={s.interLogin}>\r\n            <p>Придумайте логин:</p>\r\n            <Field name={\"login\"} validate={[requiredField, requiredLengthFrom3to20]} component={InputForm} type=\"text\"\r\n                   placeholder=\"Логин\"/>\r\n        </div>\r\n        <div className={s.interEmail}>\r\n            <p>Введите ваш Email:</p>\r\n            <Field name={\"email\"} validate={[requiredField]} component={InputForm} type=\"text\" placeholder=\"Email\"/>\r\n        </div>\r\n        <div className={s.interName}>\r\n            <p>Введите имя:</p>\r\n            <Field name={\"firstName\"} validate={[requiredField,]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Имя\"/>\r\n        </div>\r\n        <div className={s.interFirstname}>\r\n            <p>Введите фамилию:</p>\r\n            <Field name={\"lastName\"} validate={[requiredField,]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Фамилия\"/>\r\n        </div>\r\n        <div className={s.interAddress}>\r\n            <p>Введите ваш город:</p>\r\n            <Field name={\"address\"} validate={[requiredField]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Город\"/>\r\n        </div>\r\n        <div className={s.interAge}>\r\n            <p>Укажите ваш возраст:</p>\r\n            <Field name={\"age\"} validate={[requiredField]} component={InputForm}\r\n                   type=\"text\" placeholder=\"Возраст\"/>\r\n        </div>\r\n        <div className={s.interPassword}>\r\n            <p>Придумайте пароль:</p>\r\n            <Field name={\"password\"} validate={[requiredField, requiredLengthFrom5to30]} component={InputForm}\r\n                   type=\"password\" placeholder=\"Пароль\"/>\r\n        </div>\r\n        <div className={s.regButton}>\r\n            <button disabled={props.registrationInProgress}\r\n            >Регистрация\r\n            </button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxRegistrationPageForm: any = reduxForm({\r\n    form: \"registration\"\r\n})(RegistrationPageForm)\r\n\r\nexport default React.memo(RegistrationPage)","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport RegistrationPage from \"./RegistrationPage\";\r\nimport {\r\n    registrationUserThunkCreator,\r\n}\r\n    from \"../../../Redux/AuthoRegReducers/RegistrationPageReducer\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        registrationPage: state.registrationPage,\r\n    }\r\n}\r\n\r\nclass RegistrationGageService extends React.Component {\r\n\r\n    onRegistrationUser = (login, password, firstName, lastName, address, age, email) => {\r\n        this.props.registrationUserThunkCreator(login, password, firstName, lastName, address, age, email)\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <RegistrationPage\r\n                onRegistrationUser = {this.onRegistrationUser}\r\n                registrationInProgress = {this.props.registrationPage.registrationInProgress}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst RegistrationPageContainer = connect(mapStateToProps, {\r\n    registrationUserThunkCreator,\r\n})(RegistrationGageService)\r\n\r\nexport default RegistrationPageContainer","import React from 'react';\r\nimport s from \"./Header.module.css\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.headerWRap}>\r\n                <div className={s.logo}><img\r\n                    src='https://wonder-day.com/wp-content/uploads/2020/10/wonder-day-among-us-21.png'/></div>\r\n                <div className={s.title}><p>VLopatiche</p></div>\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport s from \"./Footer.module.css\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            FOOTER\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import React from 'react';\r\nimport s from './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./Redux/ReduxStore\";\r\nimport {BrowserRouter, HashRouter, Route} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport AuthorizationPageContainer from \"./Components/AuthoRegComponents/AuthorizationPage/AuthorizationPageContainer\";\r\nimport RegistrationPageContainer from \"./Components/AuthoRegComponents/RegistrationPage/RegistrarionPageContainer\";\r\nimport Header from \"./Components/Header/Header\";\r\nimport Footer from \"./Components/Footer/Footer\";\r\n\r\n\r\nReactDOM.render(\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <Header/>\r\n                <Route path=\"/AuthUser\" render={() => <App/>}/>\r\n                <Route exact path=\"/\" render={() => <AuthorizationPageContainer/>}/>\r\n                <Route path=\"/RegistrationPage\" render={() => <RegistrationPageContainer/>}/>\r\n            <Footer/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import * as React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nexport const CheckAuthRedirect = (Component) => {\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            auth: state.authorizationPage.auth\r\n        }\r\n    }\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.auth) return <Redirect to={\"/\"}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, {})(RedirectComponent)\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__hhmQm\",\"friendAva\":\"Friend_friendAva__wIJRW\",\"friendLink\":\"Friend_friendLink__3a-17\",\"button\":\"Friend_button__3Jcdh\",\"toMessageButton\":\"Friend_toMessageButton__1iuDh\",\"unfollowButton\":\"Friend_unfollowButton__3LdZ7\",\"followButton\":\"Friend_followButton__P8n0h\",\"friendInfo\":\"Friend_friendInfo__2ABPU\",\"followedStatus\":\"Friend_followedStatus__1AtIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogsPage_wrapper__2fzhY\",\"messagesBar\":\"DialogsPage_messagesBar__ZbU-U\",\"messagesList\":\"DialogsPage_messagesList__TsCSl\",\"dialogList\":\"DialogsPage_dialogList__2i7dp\",\"dialogsBar\":\"DialogsPage_dialogsBar__33xn5\",\"noMessagesMessage\":\"DialogsPage_noMessagesMessage__3n11N\",\"sendMessageForm\":\"DialogsPage_sendMessageForm__3Hgur\",\"sendMessageButton\":\"DialogsPage_sendMessageButton__FxC33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsPage\":\"FriendsPage_friendsPage__2__WV\",\"pageNumber\":\"FriendsPage_pageNumber__ZZooW\",\"selectedPage\":\"FriendsPage_selectedPage__1Ik_A\",\"searchFriends\":\"FriendsPage_searchFriends__10eGX\",\"selectingPageMenu\":\"FriendsPage_selectingPageMenu__2anNU\",\"searchFriendsButtonWrap\":\"FriendsPage_searchFriendsButtonWrap__1seXZ\",\"usersListArea\":\"FriendsPage_usersListArea__2865d\",\"searchFriendsButton\":\"FriendsPage_searchFriendsButton__3IwF3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Message_wrapper__30nih\",\"deleteMessage\":\"Message_deleteMessage__W3MBy\",\"senderLink\":\"Message_senderLink__rpyek\",\"text\":\"Message_text__4g4z6\",\"senderAva\":\"Message_senderAva__N6CrW\",\"messageContent\":\"Message_messageContent__1yUuw\",\"time\":\"Message_time__1yfKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorText\":\"FormsElements_errorText__MHg2Q\",\"formBar\":\"FormsElements_formBar__1exTu\",\"inputForm\":\"FormsElements_inputForm__TYzSU\",\"textareaForm\":\"FormsElements_textareaForm__flmM9\",\"summaryError\":\"FormsElements_summaryError__urlex\",\"error\":\"FormsElements_error__PrWf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__1ieh9\",\"newsContent\":\"News_newsContent__3BXBY\",\"resourceLink\":\"News_resourceLink__3bx45\",\"avaNews\":\"News_avaNews__2NWVq\",\"resourceName\":\"News_resourceName__1bP5U\",\"newsText\":\"News_newsText__1MPVe\",\"dateTime\":\"News_dateTime__2v-at\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Post_wrapper__3xYGp\",\"postText\":\"Post_postText__jm-Em\",\"avaPost\":\"Post_avaPost__1_U2f\",\"postContent\":\"Post_postContent__1t9rt\",\"dateTime\":\"Post_dateTime__3rtNB\",\"deletePost\":\"Post_deletePost__15fqT\",\"name\":\"Post_name__10Cgx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__UCfD3\",\"deleteDialog\":\"Dialog_deleteDialog__3kNAa\",\"dialogLink\":\"Dialog_dialogLink__1XMu5\",\"dialogLinkButton\":\"Dialog_dialogLinkButton__1oCXm\",\"activeDialog\":\"Dialog_activeDialog__CITXG\",\"dialogAva\":\"Dialog_dialogAva__2pHzv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__3F1xP\",\"content\":\"App_content__3TdWw\",\"preloaderBar\":\"App_preloaderBar__3yzbO\",\"lazyLoadPreloaderBar\":\"App_lazyLoadPreloaderBar__3BKQI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyPosts_wrapper__GQRWU\",\"addPostButton\":\"MyPosts_addPostButton__1qNDF\",\"addPostForm\":\"MyPosts_addPostForm__u7fQD\",\"inputPostText\":\"MyPosts_inputPostText__3DcDZ\",\"postsList\":\"MyPosts_postsList__1IU3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3OQZO\",\"headerWRap\":\"Header_headerWRap__39axr\",\"logo\":\"Header_logo__2EqNj\",\"title\":\"Header_title__3CEcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"UsersPage_usersPage__1kzV_\",\"user\":\"UsersPage_user__2JE67\",\"userAva\":\"UsersPage_userAva__oAJ_2\",\"userLink\":\"UsersPage_userLink__3sSfT\",\"button\":\"UsersPage_button__3fPc6\",\"toMessageButton\":\"UsersPage_toMessageButton__2unoZ\",\"unfollowButton\":\"UsersPage_unfollowButton__6Nzr0\",\"followButton\":\"UsersPage_followButton__1eSn7\",\"userInfo\":\"UsersPage_userInfo__2bSxh\",\"pageNumber\":\"UsersPage_pageNumber__zEOE5\",\"selectedPage\":\"UsersPage_selectedPage__PoJB9\",\"selectingPageMenu\":\"UsersPage_selectingPageMenu__3Pbm8\",\"followedStatus\":\"UsersPage_followedStatus__2djeD\",\"usersListBar\":\"UsersPage_usersListBar__3e_9m\",\"searchUsersForm\":\"UsersPage_searchUsersForm__3SqAW\",\"searchTextArea\":\"UsersPage_searchTextArea__2jSwh\",\"searchButtonWrap\":\"UsersPage_searchButtonWrap__RrfM1\",\"searchButton\":\"UsersPage_searchButton__24hzN\",\"inputSearchText\":\"UsersPage_inputSearchText__sJE8k\"};","import * as axios from \"axios\";\r\n\r\n\r\n//AUTH\r\n\r\nexport let serverLink = \"https://188.32.105.146:8123\"\r\n\r\nexport const userVerificationRequest = (login, password) => {\r\n    return axios.post(`${serverLink}/auth`, {\"login\": login, \"password\": password})\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const checkAuthMeRequest = () => {\r\n    return axios.get(`${serverLink}/checkAuthMe?token=${localStorage.getItem(\"userToken\")}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//REG\r\n\r\nexport const userRegistrationRequest = (login, firstName, lastName, password, address, age, email) => {\r\n    return axios.post(`${serverLink}/reg`, {\r\n        \"login\": login,\r\n        \"firstName\": firstName,\r\n        \"lastName\": lastName,\r\n        \"password\": password,\r\n        \"address\": address,\r\n        \"age\": age,\r\n        \"email\": email,\r\n    },)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//DIALOGS_PAGE\r\n\r\nexport const getDialogsRequest = () => {\r\n    return axios.get(`${serverLink}/dialogs?token=${localStorage.getItem(\"userToken\")}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getMessagesRequest = (idDialog) => {\r\n    return axios.get(`${serverLink}/messages?token=${localStorage.getItem(\"userToken\")}&idDialog=${idDialog}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const deleteDialogRequest = (idDialog) => {\r\n    return axios.delete(`${serverLink}/deleteDialog`, {\r\n        data: {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"idDialog\": idDialog,\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const deleteMessageRequest = (dialogId, idMessage) => {\r\n    return axios.delete(`${serverLink}/deleteMessage`,\r\n        {\r\n            data: {\r\n                \"token\": localStorage.getItem(\"userToken\"),\r\n                \"idDialog\": dialogId,\r\n                \"idMessage\": idMessage,\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const goToDialogRequest = (userId) => {\r\n    return axios.post(`${serverLink}/createDialog`, {\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"userId\": userId\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const sendNewMessageRequest = (dialogId, messageText) => {\r\n    return axios.post(`${serverLink}/sendMessage`,\r\n        {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"idDialog\": dialogId,\r\n            \"text\": messageText,\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//FRIENDS_PAGE\r\n\r\nexport const getFriendsRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/friends?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const unFollowRequest = (userId) => {\r\n    return axios.delete(`${serverLink}/unFollowFriend`,\r\n        {\r\n            data: {\r\n                \"token\": localStorage.getItem(\"userToken\"),\r\n                \"userId\": userId,\r\n\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const followRequest = (userId) => {\r\n    return axios.post(`${serverLink}/followFriend`,\r\n\r\n        {\r\n            \"token\": localStorage.getItem(\"userToken\"),\r\n            \"userId\": userId,\r\n\r\n        }\r\n    )\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\n//USERS_PAGE\r\n\r\nexport const getUsersRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/users?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const searchUsersRequest = (page, count, isSearch, searchText) => {\r\n    if (searchText.length > 0) {\r\n        return axios.get(`${serverLink}/users?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}&isSearch=${isSearch}&searchText=${searchText}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n    return getUsersRequest(page, count)\r\n}\r\n\r\n//NEWS_PAGE\r\n\r\nexport const getNewsRequest = (page, count) => {\r\n    return axios.get(`${serverLink}/news?token=${localStorage.getItem(\"userToken\")}&page=${page}&count=${count}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//PROFILE_PAGE\r\n\r\n\r\nexport const getProfileInfoRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/profileInfo?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getPostsRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/posts?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const addNewPostRequest = (postText) => {\r\n    return axios.post(`${serverLink}/addPost`, {\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"postText\": postText\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const deletePostRequest = (idPost) => {\r\n    return axios.delete(`${serverLink}/deletePost`, {\r\n            data: {\r\n                \"token\":\r\n                    localStorage.getItem(\"userToken\"),\r\n                \"idPost\": idPost\r\n            }\r\n        }\r\n    )\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const updateUserStatusRequest = (newStatusText) => {\r\n    return axios.put(`${serverLink}/updUserStatus`, {\r\n\r\n        \"token\": localStorage.getItem(\"userToken\"),\r\n        \"statusText\": newStatusText\r\n    })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getStatusRequest = (profileId) => {\r\n    return axios.get(`${serverLink}/status?token=${localStorage.getItem(\"userToken\")}&${profileId?`profileId=${profileId}`:\"\"}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n//SELECTED_PROFILE_PAGE\r\n\r\nexport const getSelectedUserProfileRequest = (id) => {\r\n    return axios.get(`${serverLink}/user?token=${localStorage.getItem(\"userToken\")}&id=${id}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const getSelectedUserStatusRequest = (userId) => {\r\n    return axios.get(`${serverLink}/status?token=${localStorage.getItem(\"userToken\")}&userId=${userId}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\n","import s from \"./UsersPage/UsersPage.module.css\";\r\nimport React, {useState} from \"react\";\r\ntype PropsType = {\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    setCurrentPage: (n: number) => void\r\n    laidPortionSize?: number\r\n}\r\nconst Pagination: React.FC<PropsType> = ({totalCount, pageSize, currentPage, setCurrentPage,  laidPortionSize }) => {\r\n    let pagesCount = Math.ceil(totalCount / pageSize)\r\n    let pageNumbers: Array<number> = []\r\n    let portionSize = laidPortionSize || 5\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    let leftPortionBorder = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionBorder = portionNumber * portionSize\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pageNumbers.push(i)\r\n    }\r\n    let pageNumbersList = pageNumbers\r\n        .filter((n) => n >= leftPortionBorder && n <= rightPortionBorder)\r\n        .map((n) => <span\r\n            key={n}\r\n            className={n === currentPage ? `${s.selectedPage} ${s.pageNumber}` : s.pageNumber}\r\n            onClick={() => {\r\n                setCurrentPage(n)\r\n            }}>{n}</span>)\r\n\r\n    return <div>\r\n        {portionNumber > 1 ?\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n                setCurrentPage(leftPortionBorder - 1)\r\n            }}>{`<<`}</button> : null}\r\n        {pageNumbersList}\r\n        {portionNumber < portionCount ?\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n                setCurrentPage(rightPortionBorder + 1)\r\n            }}>{`>>`}</button> : null}\r\n    </div>\r\n}\r\n\r\nexport default Pagination","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsPage\":\"NewsPage_newsPage__34zRM\",\"newsList\":\"NewsPage_newsList__2TDW0\",\"selectingPageMenu\":\"NewsPage_selectingPageMenu__8Gdbm\",\"selectedPage\":\"NewsPage_selectedPage__3w1EZ\",\"pageNumber\":\"NewsPage_pageNumber__1ZPep\"};"],"sourceRoot":""}