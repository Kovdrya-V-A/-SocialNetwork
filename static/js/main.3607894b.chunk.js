(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{134:function(e,t,n){"use strict";t.a=n.p+"static/media/standUserAva.ab7efdc7.png"},135:function(e,t,n){"use strict";n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return T})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return M}));var r=n(4),a=n.n(r),s=n(9),o=n(25),i=n(2),c=n(7),u=n(24),l="UNFOLLOW",d="FOLLOW",g="SET_USERS",f="SET_USERS_TOTAL_COUNT",p="SET_CURRENT_USERS_PAGE",j="SET_IS_WROTE",h="UP_TOGGLE_IS_WROTE_PROGRESS",b="UP_TOGGLE_FOLLOWING_PROGRESS",O="TOGGLE_SEARCH_USERS_PROGRESS",m={usersData:[],currentPage:1,pageSize:7,totalUsersCount:0,isFetching:!1,isWrote:!1,followingInProgress:[],setIsWroteInProgress:[],searchUsersInProgress:!1},_=function(e,t){return{type:l,userId:e,message:t}},P=function(e,t,n){return{type:d,userId:e,message:t,error:n}},v=function(e){return{type:g,usersData:e}},I=function(e){return{type:p,number:e}},x=function(e){return{type:f,count:e}},w=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},D=function(e){return{type:j,isWrote:e}},S=function(e,t){return{type:h,inProgress:e,userId:t}},N=function(e,t){return{type:b,inProgress:e,userId:t}},k=function(e){return{type:O,searchUsersInProgress:e}},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),n.next=3,Object(c.n)(e,t);case 3:s=n.sent,r(w(!1)),r(v(s.items)),r(x(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return k(!0),r.next=3,Object(c.p)(e,t,!0,n);case 3:o=r.sent,s(v(o.items)),s(x(o.totalCount)),s(k(!1));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(c.s)(e);case 3:r=t.sent,n(_(e,r.message)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0,e)),t.next=3,Object(c.f)(e);case 3:r=t.sent,n(P(e,r.message,r.error)),n(N(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(I(e)),r(w(!0)),n.next=4,Object(c.n)(e,t);case 4:s=n.sent,r(w(!1)),r(v(s.items)),r(x(s.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0,e)),t.next=3,Object(c.o)(e);case 3:r=t.sent,n(D(!0)),n(Object(u.f)(r.idDialog)),n(S(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!t.error}):e}))});case g:return Object(i.a)(Object(i.a)({},e),{},{usersData:Object(o.a)(t.usersData)});case p:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.number});case f:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.count});case j:return Object(i.a)(Object(i.a)({},e),{},{isWrote:t.isWrote});case h:return Object(i.a)(Object(i.a)({},e),{},{setIsWroteInProgress:t.inProgress?[].concat(Object(o.a)(e.setIsWroteInProgress),[t.userId]):e.setIsWroteInProgress.filter((function(e){return e!=t.userId}))});case b:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case O:return Object(i.a)(Object(i.a)({},e),{},{searchUsersInProgress:t.searchUsersInProgress});default:return e}}},139:function(e,t,n){e.exports={settings:"Settings_settings__37aTB"}},142:function(e,t,n){e.exports={profilePage:"ProfilePage_profilePage__1v0sS"}},146:function(e,t,n){e.exports={footer:"Footer_footer__3GEEm"}},174:function(e,t,n){},19:function(e,t,n){e.exports={profileInfoWrap:"ProfileInfo_profileInfoWrap__21npk",profileInfo:"ProfileInfo_profileInfo__37NZF",ProfileStatus:"ProfileInfo_ProfileStatus__kWrzt",statusValue:"ProfileInfo_statusValue__3-Pw3",strangerStatusValue:"ProfileInfo_strangerStatusValue__J5rsx",inputStatus:"ProfileInfo_inputStatus__2r1-C",followedStatus:"ProfileInfo_followedStatus__3dRvw",ava:"ProfileInfo_ava__2MQDi",userData:"ProfileInfo_userData__3M54u",name:"ProfileInfo_name__lNL1_",modal:"ProfileInfo_modal__28SLg",modalName:"ProfileInfo_modalName__1fTWo",choiceFile:"ProfileInfo_choiceFile__2X3Rr",modalContent:"ProfileInfo_modalContent__DXr_w",addImgInput:"ProfileInfo_addImgInput__YUEp_",submitInput:"ProfileInfo_submitInput__2D1ZT",changeAvaStatus:"ProfileInfo_changeAvaStatus__1YHab",loadedImg:"ProfileInfo_loadedImg__1IYp9",activity:"ProfileInfo_activity__3513U",activityButton:"ProfileInfo_activityButton__3bT-Y"}},22:function(e,t,n){e.exports={wrapper:"AuthoReg_wrapper__3pGu9",authorisation:"AuthoReg_authorisation__2sirQ",entryButton:"AuthoReg_entryButton__3joip",registration:"AuthoReg_registration__1DiEh",regButton:"AuthoReg_regButton__3wMbq",authLink:"AuthoReg_authLink__3AwIA",link:"AuthoReg_link__1ADaR"}},23:function(e,t,n){e.exports={nav:"Nav_nav__1IZr-",navItem:"Nav_navItem__1qv9U",link:"Nav_link__1BqEI",logoutLink:"Nav_logoutLink__N7lpE",activeLink:"Nav_activeLink__1kvgm",logoutButton:"Nav_logoutButton__3A0cD"}},24:function(e,t,n){"use strict";n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return C}));var r=n(4),a=n.n(r),s=n(9),o=n(25),i=n(2),c=n(7),u="SEND_MESSAGE",l="SET_MESSAGES",d="SET_DIALOGS",g="SET_CURRENT_DIALOG",f="DELETE_DIALOG",p="DELETE_MESSAGE",j="TOGGLE_SET_CURRENT_DIALOG_PROGRESS",h="TOGGLE_DELETE_DIALOG_PROGRESS",b="TOGGLE_DELETE_MESSAGE_PROGRESS",O="TOGGLE_SEND_MESSAGE_PROGRESS",m={dialogsData:[],messagesData:[],currentDialogId:"",setCurrentDialogInProgress:!1,deleteDialogInProgress:!1,deleteMessageInProgress:!1,sendMessageInProgress:!1},_=function(e,t){return{type:f,idDialog:e,message:t}},P=function(e){return{type:l,messagesData:e}},v=function(e,t){return{type:p,idMessage:e,message:t}},I=function(e){return{type:g,selectedDialogId:e}},x=function(e){return{type:j,setCurrentDialogInProgress:e}},w=function(e){return{type:h,deleteDialogInProgress:e}},D=function(e){return{type:b,deleteMessageInProgress:e}},S=function(e){return{type:O,sendMessageInProgress:e}},N=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.g)();case 2:if((r=t.sent)&&n((a=r.items,{type:d,dialogsData:a})),!e){t.next=9;break}return t.next=7,Object(c.i)(e);case 7:(s=t.sent)?n(P(s.items)):null===s&&n(P([]));case 9:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),n.next=3,Object(c.c)(e);case 3:s=n.sent,r(_(e,s.message)),t===e&&r(I("")),r(w(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),n.next=3,Object(c.d)(e,t);case 3:s=n.sent,r(v(t,s.message)),r(D(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(x(!0)),t.next=3,Object(c.i)(e);case 3:(r=t.sent)?n(P(r.items)):null===r&&n(P([])),n(x(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(S(!0)),n.next=3,Object(c.q)(e,t);case 3:s=n.sent,r((a=s[0].name,o=s[0].img,i=s[0].id,l=s[0].text,d=s[0].time,g=s[0].senderId,{type:u,name:a,img:o,id:i,text:l,time:d,senderId:g})),r(S(!1));case 6:case"end":return n.stop()}var a,o,i,l,d,g}),n)})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:t.id,name:t.name,text:t.text,img:t.img,time:t.time,senderId:t.senderId};return Object(i.a)(Object(i.a)({},e),{},{messagesData:[].concat(Object(o.a)(e.messagesData),[n])});case l:return Object(i.a)(Object(i.a)({},e),{},{messagesData:Object(o.a)(t.messagesData)});case f:return Object(i.a)(Object(i.a)({},e),{},{dialogsData:e.dialogsData.map((function(e){return e.idDialog===t.idDialog?Object(i.a)(Object(i.a)({},e),{},{isDeleted:!0}):e}))});case p:return Object(i.a)(Object(i.a)({},e),{},{messagesData:e.messagesData.map((function(e){return e.id===t.idMessage?Object(i.a)(Object(i.a)({},e),{},{isDeleted:!0}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{dialogsData:Object(o.a)(t.dialogsData)});case g:return Object(i.a)(Object(i.a)({},e),{},{currentDialogId:t.selectedDialogId});case j:return Object(i.a)(Object(i.a)({},e),{},{setCurrentDialogInProgress:t.setCurrentDialogInProgress});case h:return Object(i.a)(Object(i.a)({},e),{},{deleteDialogInProgress:t.deleteDialogInProgress});case b:return Object(i.a)(Object(i.a)({},e),{},{deleteMessageInProgress:t.deleteMessageInProgress});case O:return Object(i.a)(Object(i.a)({},e),{},{sendMessageInProgress:t.sendMessageInProgress});default:return e}}},307:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=(n(174),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,308)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))}),o=n(78),i=n.n(o),c=n(15),u=n(16),l=n(18),d=n(17),g=n(66),f=n.n(g),p=n(21),j=n(139),h=n.n(j),b=n(10),O=n(11),m=n(32),_=n(0),P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)(v,{})}}]),n}(a.a.Component),v=function(){return Object(_.jsx)("div",{className:h.a.settings,children:Object(_.jsx)("h1",{children:"\u0421\u0422\u0420\u0410\u041d\u0418\u0426\u0410 \u041d\u0410\u0421\u0422\u0420\u041e\u0415\u041a (\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415)"})})},I=Object(O.d)(Object(b.b)((function(e){return{}}),{}),m.a)(P),x=n(83),w=n.n(x),D=n(46),S=n.n(D),N=n(13),k=function(e){return Object(_.jsxs)("div",{className:S.a.news,children:[Object(_.jsx)("div",{className:S.a.avaNews,children:Object(_.jsx)("img",{src:e.img,alt:"avaNews"})}),Object(_.jsxs)("div",{className:S.a.newsContent,children:[Object(_.jsx)("div",{className:S.a.resourceName,children:Object(_.jsx)(N.b,{className:S.a.resourceLink,to:"/AuthUser/ProfilePage/"+e.resourceId,children:Object(_.jsx)("h2",{children:e.name})})}),Object(_.jsx)("div",{className:S.a.newsText,children:Object(_.jsx)("p",{children:e.text})}),Object(_.jsx)("div",{className:S.a.dateTime,children:Object(_.jsx)("p",{children:e.dateTime})})]})]})},T=a.a.memo(k),y=n(79),C=function(e){var t=e.newsData.map((function(e){return Object(_.jsx)(T,{id:e.idPost,resourceId:e.resourceId,img:e.img,name:e.name,text:e.text,dateTime:e.dateTime},e.idPost)}));return Object(_.jsx)("div",{className:w.a.newsPage,children:Object(_.jsxs)("div",{className:w.a.newsList,children:[t.length>0?t:Object(_.jsx)("p",{children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439. \u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u043a\u043e\u0433\u043e-\u043d\u0438\u0431\u0443\u0434\u044c, \u0447\u0442\u043e\u0431\u044b \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0435\u0433\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438"}),Object(_.jsx)("div",{className:w.a.selectingPageMenu,children:Object(_.jsx)(y.a,{totalCount:e.totalNewsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage})})]})})},A=a.a.memo(C),E=n(4),M=n.n(E),U=n(9),F=n(25),L=n(2),W=n(7),R="SET_NEWS",B="SET_CURRENT_NEWS_PAGE",G="SET_NEWS_TOTAL_COUNT",z={newsData:[],currentPage:1,pageSize:10,totalNewsCount:0},V=function(e){return{type:R,newsData:e}},H=function(e){return{type:B,number:e}},Z=function(e){return{type:G,count:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(L.a)(Object(L.a)({},e),{},{newsData:Object(F.a)(t.newsData)});case B:return Object(L.a)(Object(L.a)({},e),{},{currentPage:t.number});case G:return Object(L.a)(Object(L.a)({},e),{},{totalNewsCount:t.count});default:return e}},q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onSetCurrentPage=function(t){e.props.setCurrentPageThunkCreator(t,e.props.newsPage.pageSize)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){this.props.setNewsThunkCreator(this.props.newsPage.currentPage,this.props.newsPage.pageSize)}},{key:"render",value:function(){return Object(_.jsx)(A,{onSetCurrentPage:this.onSetCurrentPage,currentPage:this.props.newsPage.currentPage,totalNewsCount:this.props.newsPage.totalNewsCount,pageSize:this.props.newsPage.pageSize,newsData:this.props.newsPage.newsData})}}]),n}(a.a.Component),J=Object(O.d)(Object(b.b)((function(e){return{newsPage:e.newsPage}}),{setNewsThunkCreator:function(e,t){return function(){var n=Object(U.a)(M.a.mark((function n(r){var a;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(W.j)(e,t);case 2:(a=n.sent)&&(r(V(a.items)),r(Z(a.totalCount)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setCurrentPageThunkCreator:function(e,t){return function(){var n=Object(U.a)(M.a.mark((function n(r){var a;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(H(e)),n.next=3,Object(W.j)(e,t);case 3:a=n.sent,r(V(a.items)),r(Z(a.totalCount));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),m.a)(q),Y=n(142),Q=n.n(Y),K=n(67),$=n.n(K),ee=n(47),te=n.n(ee),ne=function(e){return Object(_.jsxs)("div",{className:te.a.wrapper,children:[Object(_.jsx)("div",{className:te.a.avaPost,children:Object(_.jsx)("img",{src:e.avaImg,alt:"avapost"})}),Object(_.jsxs)("div",{className:te.a.postContent,children:[Object(_.jsx)("div",{className:te.a.name,children:Object(_.jsx)("p",{children:e.name})}),Object(_.jsx)("div",{className:te.a.postText,children:Object(_.jsx)("p",{children:e.text})}),Object(_.jsx)("div",{className:te.a.dateTime,children:Object(_.jsx)("p",{children:e.dateTime})})]}),e.isMyProfile?Object(_.jsx)("div",{className:te.a.deletePost,children:Object(_.jsx)("button",{disabled:e.deletePostInProgress,onClick:function(){return e.onDeletePost(e.idPost)},children:Object(_.jsx)("p",{children:"\xd7"})})}):null]})},re=a.a.memo(ne),ae=n(38),se=n(136),oe=n(137),ie=n(147),ce=n(45),ue=n.n(ce),le=["input","meta"],de=function(e){return function(t){var n=t.input,r=t.meta,a=Object(ie.a)(t,le),s=r.touched&&r.error;return Object(_.jsxs)("div",{className:ue.a.formBar,children:[Object(_.jsx)(e,Object(L.a)(Object(L.a)(Object(L.a)({},n),a),{},{className:"textarea"===e?ue.a.textareaForm:ue.a.inputForm+" "+(s?ue.a.error:null)})),s?Object(_.jsx)("span",{className:ue.a.errorText,children:r.error}):null]})}},ge=function(e){if(!e)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},fe=function(e,t){return function(n){return n&&n.length>t?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(t):n&&n.length<e?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 - ".concat(e):void 0}},pe=function(e){var t=e.postsData.map((function(t){return t.isDeleted?null:Object(_.jsx)(re,{avaImg:e.avaImg,name:e.name,text:t.text,dateTime:t.dateTime,idPost:t.idPost,onDeletePost:e.onDeletePost,deletePostInProgress:e.deletePostInProgress,isMyProfile:e.isMyProfile},t.idPost)}));return Object(_.jsxs)("div",{className:$.a.wrapper,children:[e.isMyProfile?Object(_.jsx)(be,{addPostInProgress:e.addPostInProgress,onSubmit:function(t,n){e.onAddNewPost(t.postText),n(Object(ae.a)("addPost"))}}):null,Object(_.jsx)("h2",{children:e.isMyProfile?"\u0412\u0430\u0448\u0438 \u043f\u043e\u0441\u0442\u044b:":"\u041f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),Object(_.jsx)("div",{className:$.a.postsList,children:e.postsData.length>0?t:"\u0412 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432"})]})},je=de("textarea"),he=fe(0,500),be=Object(oe.a)({form:"addPost"})((function(e){return Object(_.jsxs)("form",{className:$.a.addPostForm,onSubmit:e.handleSubmit,children:[Object(_.jsx)(se.a,{placeholder:"\u0415\u0441\u0442\u044c \u0447\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e ?",name:"postText",validate:[he],component:je}),Object(_.jsx)("button",{disabled:e.addPostInProgress,className:$.a.addPostButton,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})),Oe=a.a.memo(pe),me=n(24),_e="ADD_POST",Pe="SET_POSTS",ve="SET_PROFILE_INFO",Ie="DELETE_POST",xe="SET_CHANGE_AVA_IS_ACTIVE",we="SET_CHANGE_AVA_STATUS",De="TOGGLE_ADD_POST_PROGRESS",Se="TOGGLE_DELETE_POST_PROGRESS",Ne="SET_STATUS",ke="SP_TOGGLE_IS_WROTE_PROGRESS",Te="SP_TOGGLE_FOLLOWING_PROGRESS",ye="SET_IS_WROTE",Ce="UNFOLLOW",Ae="FOLLOW",Ee="SET_MY_ID",Me={postsData:[],profileData:[{}],changeAvaIsActive:!1,changeAvaStatus:null,addPostInProgress:!1,deletePostInProgress:!1,status:"",isWrote:!1,setIsWroteInProgress:!1,followingInProgress:!1,myId:null},Ue=function(e){return{type:ye,isWrote:e}},Fe=function(e){return{type:Ne,statusText:e}},Le=function(e,t){return{type:Ie,idPost:e,message:t}},We=function(e){return{type:Pe,postsData:e}},Re=function(e){return{type:xe,changeAvaIsActive:e}},Be=function(e){return{type:De,addPostInProgress:e}},Ge=function(e){return{type:Se,deletePostInProgress:e}},ze=function(e){return{type:ke,setIsWroteInProgress:e}},Ve=function(e){return{type:Te,followingInProgress:e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(L.a)(Object(L.a)({},e),{},{myId:t.myId});case Ce:return Object(L.a)(Object(L.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(L.a)(Object(L.a)({},e),{},{followed:!1})}))});case Ae:return Object(L.a)(Object(L.a)({},e),{},{profileData:e.profileData.map((function(e){return Object(L.a)(Object(L.a)({},e),{},{followed:!0})}))});case ye:return Object(L.a)(Object(L.a)({},e),{},{isWrote:t.isWrote});case _e:var n={idPost:t.idPost,text:t.text,dateTime:t.dateTime};return Object(L.a)(Object(L.a)({},e),{},{postsData:[n].concat(Object(F.a)(e.postsData))});case xe:return Object(L.a)(Object(L.a)({},e),{},{changeAvaIsActive:t.changeAvaIsActive});case we:return Object(L.a)(Object(L.a)({},e),{},{changeAvaStatus:t.status});case Ie:return Object(L.a)(Object(L.a)({},e),{},{postsData:e.postsData.map((function(e){return e.idPost===t.idPost?Object(L.a)(Object(L.a)({},e),{},{isDeleted:!0}):e}))});case ve:return Object(L.a)(Object(L.a)({},e),{},{profileData:[t.profileData]});case Pe:return t.postsData?Object(L.a)(Object(L.a)({},e),{},{postsData:Object(F.a)(t.postsData)}):e;case De:return Object(L.a)(Object(L.a)({},e),{},{addPostInProgress:t.addPostInProgress});case Se:return Object(L.a)(Object(L.a)({},e),{},{deletePostInProgress:t.deletePostInProgress});case Ne:return Object(L.a)(Object(L.a)({},e),{},{status:t.statusText});case ke:return Object(L.a)(Object(L.a)({},e),{},{setIsWroteInProgress:t.setIsWroteInProgress});case Te:return Object(L.a)(Object(L.a)({},e),{},{followingInProgress:t.followingInProgress});default:return e}},Ze=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAddNewPost=function(t){t&&e.props.addPostThunkCreator(t)},e.onDeletePost=function(t){e.props.deletePostThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setPostsThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setPostsThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(_.jsx)(Oe,{postsData:this.props.profilePage.postsData,onAddNewPost:this.onAddNewPost,onDeletePost:this.onDeletePost,avaImg:this.props.profilePage.profileData[0].img,name:this.props.profilePage.profileData[0].name,addPostInProgress:this.props.profilePage.addPostInProgress,deletePostInProgress:this.props.profilePage.deletePostInProgress,isMyProfile:this.props.isMyProfile})}}]),n}(a.a.Component),Xe=Object(b.b)((function(e){return{profilePage:e.profilePage}}),{setPostsThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.k)(e);case 2:r=t.sent,n(We(r?r.items:[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPostThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Be(!0)),t.next=3,Object(W.a)(e);case 3:r=t.sent,n((a=r[0].idPost,s=r[0].text,o=r[0].dateTime,{type:_e,idPost:a,text:s,dateTime:o})),n(Be(!1));case 6:case"end":return t.stop()}var a,s,o}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePostThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ge(!0)),t.next=3,Object(W.e)(e);case 3:r=t.sent,n(Le(e,r.message)),n(Ge(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ze),qe=n(19),Je=n.n(qe),Ye=n(20),Qe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).custom_file_upload_url="".concat(W.r,"/uploadImg"),r.onSetChangeAvaIsActive=function(e){r.props.setChangeAvaIsActive(e),!e&&r.props.changeAvaStatus&&window.location.reload()},r.onSetChangeAvaStatus=function(e){r.props.setChangeAvaStatus(e)},r.handleImagePreview=function(e){var t=URL.createObjectURL(e.target.files[0]),n=e.target.files[0];r.setState({image_preview:t,image_file:n})},r.handleSubmitFile=function(){if(null!==r.state.image_file){var e=new FormData;e.append("file",r.state.image_file),e.append("token",localStorage.getItem("userToken")),Ye.post(r.custom_file_upload_url,e,{headers:{Accept:"application/json","Content-type":"multipart/form-data"}}).then((function(e){r.onSetChangeAvaStatus(e.data.message||e.data.error)}))}},r.state={image_file:null,image_preview:""},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(_.jsx)("div",{className:Je.a.modal,onClick:function(){return e.onSetChangeAvaIsActive(!1)},children:Object(_.jsxs)("div",{className:Je.a.modalContent,onClick:function(e){return e.stopPropagation()},children:[Object(_.jsx)("div",{className:Je.a.modalName,children:Object(_.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u043e\u0442\u043e"})}),Object(_.jsx)("input",{className:Je.a.addImgInput,type:"file",onChange:this.handleImagePreview}),Object(_.jsx)("img",{className:Je.a.loadedImg,src:this.state.image_preview}),Object(_.jsx)("div",{className:Je.a.changeAvaStatus,children:Object(_.jsx)("p",{children:this.props.changeAvaStatus})}),Object(_.jsx)("input",{className:Je.a.submitInput,type:"submit",onClick:this.handleSubmitFile,value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})})}}]),n}(a.a.Component),Ke=Object(b.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,changeAvaStatus:e.profilePage.changeAvaStatus,registrationPage:e.registrationPage,serverLink:e.authorizationPage.serverLink}}),(function(e){return{setChangeAvaIsActive:function(t){e(Re(t))},setChangeAvaStatus:function(t){e(function(e){return{type:we,status:e}}(t))}}}))(Qe),$e=n(65),et=function(e){var t=Object(r.useState)(!1),n=Object($e.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.status),i=Object($e.a)(o,2),c=i[0],u=i[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(_.jsx)("div",{className:Je.a.ProfileStatus,children:a?Object(_.jsx)("div",{className:Je.a.inputStatusArea,children:Object(_.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.onSetNewStatus(c)},className:Je.a.inputStatus,value:c})}):Object(_.jsx)("div",{children:Object(_.jsx)("span",{className:e.isMyProfile?Je.a.statusValue:Je.a.strangerStatusValue,onDoubleClick:e.isMyProfile?function(){s(!0)}:null,children:e.status})})})},tt=a.a.memo(et),nt=function(e){return Object(_.jsxs)("div",{className:Je.a.profileInfoWrap,children:[Object(_.jsxs)("div",{className:Je.a.profileInfo,children:[Object(_.jsx)("div",{className:Je.a.ava,children:Object(_.jsx)("img",{alt:"ava",src:e.profileData[0].img})}),Object(_.jsxs)("div",{className:Je.a.userData,children:[Object(_.jsx)("p",{className:Je.a.name,children:e.profileData[0].name}),Object(_.jsx)(tt,{onSetNewStatus:e.onSetNewStatus,status:e.status,isMyProfile:e.isMyProfile}),Object(_.jsxs)("p",{children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",e.profileData[0].age]}),Object(_.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441: ",e.profileData[0].address]}),e.profileData[0].followed?Object(_.jsx)("div",{className:Je.a.followedStatus,children:Object(_.jsx)("p",{children:"\u0412\u0430\u0448 \u0434\u0440\u0443\u0433"})}):null]})]}),Object(_.jsxs)("div",{className:Je.a.activity,children:[e.isMyProfile?Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:function(){return e.onSetChangeAvaIsActive(!0)},className:Je.a.activityButton,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})}):Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{disabled:e.setIsWroteInProgress,onClick:function(){e.onMessage(e.profileData[0].userId)},className:Je.a.activityButton,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.profileData[0].followed?Object(_.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onUnfollow(e.profileData[0].userId)},className:Je.a.activityButton,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(_.jsx)("button",{disabled:e.followingInProgress,onClick:function(){return e.onFollow(e.profileData[0].userId)},className:Je.a.activityButton,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),e.changeAvaIsActive?Object(_.jsx)(Ke,{}):null]})]})},rt=a.a.memo(nt),at=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUnfollow=function(t){e.props.unFollowThunkCreator(t)},e.onFollow=function(t){e.props.followThunkCreator(t)},e.onMessage=function(t){e.props.goToDialogThunkCreator(t)},e.onSetChangeAvaIsActive=function(t){e.props.setChangeAvaIsActive(t)},e.onSetNewStatus=function(t){e.props.setNewStatusThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"componentDidUpdate",value:function(e,t,n){e.profileId!==this.props.profileId&&this.props.setProfileInfoThunkCreator(this.props.profileId)}},{key:"render",value:function(){return Object(_.jsx)(rt,{isMyProfile:this.props.isMyProfile,changeAvaIsActive:this.props.changeAvaIsActive,profileData:this.props.profileData,status:this.props.status,onSetChangeAvaIsActive:this.onSetChangeAvaIsActive,onSetNewStatus:this.onSetNewStatus,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,setIsWroteInProgress:this.props.setIsWroteInProgress,followingInProgress:this.props.followingInProgress})}}]),n}(a.a.Component),st=Object(O.d)(Object(b.b)((function(e){return{changeAvaIsActive:e.profilePage.changeAvaIsActive,profileData:e.profilePage.profileData,status:e.profilePage.status,setIsWroteInProgress:e.profilePage.setIsWroteInProgress,followingInProgress:e.profilePage.followingInProgress}}),{setChangeAvaIsActive:Re,setProfileInfoThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r,a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.l)(e);case 2:return r=t.sent,n({type:ve,profileData:r}),t.next=6,Object(W.m)(e);case 6:a=t.sent,n(Fe(a.userStatus));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewStatusThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.t)(e);case 2:(r=t.sent).error||n(Fe(r.userStatus));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ve(!0)),t.next=3,Object(W.s)(e);case 3:r=t.sent,n((a=r.message,{type:Ce,message:a})),n(Ve(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ve(!0)),t.next=3,Object(W.f)(e);case 3:r=t.sent,n((a=r.message,{type:Ae,message:a})),n(Ve(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},goToDialogThunkCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ze(!0)),t.next=3,Object(W.o)(e);case 3:r=t.sent,n(Ue(!0)),n(Object(me.f)(r.idDialog)),n(ze(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(at),ot=function(e){return Object(_.jsxs)("div",{className:Q.a.profilePage,children:[Object(_.jsx)(st,{isMyProfile:e.isMyProfile,profileId:e.profileId}),Object(_.jsx)(Xe,{isMyProfile:e.isMyProfile,profileId:e.profileId})]})},it=a.a.memo(ot),ct=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.isWrote&&this.props.setIsWrote(!1)}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){var e=this.props.match.params.profileId,t=+this.props.match.params.profileId===this.props.myId||!e;return this.props.isWrote&&this.props.currentDialogId?Object(_.jsx)(p.a,{to:"/AuthUser/DialogsPage/"+this.props.currentDialogId}):Object(_.jsx)(it,{profileId:e,isMyProfile:t})}}]),n}(a.a.Component),ut=Object(O.d)(p.f,Object(b.b)((function(e){return{isWrote:e.profilePage.isWrote,currentDialogId:e.dialogsPage.currentDialogId,myId:e.profilePage.myId}}),{setIsWrote:Ue}),m.a)(ct),lt=n(39),dt=n.n(lt),gt=n(33),ft=n.n(gt),pt=n(134),jt=function(e){return e.isWrote&&e.currentDialogId?Object(_.jsx)(p.a,{to:"/AuthUser/DialogsPage/"+e.currentDialogId}):Object(_.jsxs)("div",{className:ft.a.friend,children:[Object(_.jsx)("div",{className:ft.a.friendAva,children:Object(_.jsx)("img",{src:null!=e.img?e.img:pt.a,alt:"userAva"})}),Object(_.jsxs)("div",{className:ft.a.friendInfo,children:[Object(_.jsx)(N.b,{className:ft.a.friendLink,to:"/AuthUser/ProfilePage/"+e.id,children:"".concat(e.name)}),Object(_.jsx)("button",{disabled:e.isWroteInProgress.some((function(t){return t==e.id})),onClick:function(){e.onMessage(e.id)},className:"".concat(ft.a.toMessageButton," ").concat(ft.a.button),children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),e.followed?Object(_.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onUnfollow(e.id)},className:"".concat(ft.a.unfollowButton," ").concat(ft.a.button),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(_.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.id})),onClick:function(){return e.onFollow(e.id)},className:"".concat(ft.a.followButton," ").concat(ft.a.button),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),e.followed?null:Object(_.jsx)("div",{className:ft.a.followedStatus,children:Object(_.jsx)("p",{children:"\u0423\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})})]})]})},ht=a.a.memo(jt),bt=function(e){var t=e.friendsData.map((function(t){return Object(_.jsx)(ht,{img:t.img,id:t.id,name:t.name,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followed:t.followed,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress},t.id)}));return Object(_.jsx)("div",{className:dt.a.friendList,children:e.friendsData.length>0?t:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439"})},Ot=a.a.memo(bt),mt=function(e){return Object(_.jsxs)("div",{className:dt.a.friendsPage,children:[Object(_.jsx)("div",{className:dt.a.searchFriendsButtonWrap,children:Object(_.jsx)("button",{className:dt.a.searchFriendsButton,children:Object(_.jsx)(N.b,{className:dt.a.searchFriends,to:"/AuthUser/UsersPage",children:"Search new friends"})})}),Object(_.jsxs)("div",{className:dt.a.usersListArea,children:[Object(_.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f:"}),Object(_.jsx)(Ot,{friendsData:e.friendsData,onMessage:e.onMessage,isWrote:e.isWrote,currentDialogId:e.currentDialogId,onUnfollow:e.onUnfollow,onFollow:e.onFollow,followingInProgress:e.followingInProgress,isWroteInProgress:e.isWroteInProgress})]}),Object(_.jsx)("div",{className:dt.a.selectingPageMenu,children:e.friendsData.length>0?Object(_.jsx)(y.a,{totalCount:e.totalFriendsCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.onSetCurrentPage}):null})]})},_t=a.a.memo(mt),Pt="SET_FRIENDS",vt="SET_FRIENDS_TOTAL_COUNT",It="SET_CURRENT_FRIENDS_PAGE",xt="SET_IS_WROTE",wt="UNFOLLOW",Dt="FOLLOW",St="FP_TOGGLE_FOLLOWING_PROGRESS",Nt="FP_TOGGLE_IS_WROTE_PROGRESS",kt={friendsData:[],currentPage:1,pageSize:7,totalFriendsCount:0,isFetching:!1,followingInProgress:[],isWrote:!1,isWroteInProgress:[]},Tt=function(e){return{type:Pt,friendsData:e}},yt=function(e){return{type:It,number:e}},Ct=function(e){return{type:vt,count:e}},At=function(e){return{type:"SET_IS_FETCHING",isFetch:e}},Et=function(e){return{type:xt,isWrote:e}},Mt=function(e,t){return{type:wt,userId:e,message:t}},Ut=function(e,t){return{type:St,inProgress:e,userId:t}},Ft=function(e,t){return{type:Nt,inProgress:e,userId:t}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return Object(L.a)(Object(L.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.userId?Object(L.a)(Object(L.a)({},e),{},{followed:!1}):e}))});case Dt:return Object(L.a)(Object(L.a)({},e),{},{friendsData:e.friendsData.map((function(e){return e.id===t.friendId?Object(L.a)(Object(L.a)({},e),{},{followed:!0}):e}))});case xt:return Object(L.a)(Object(L.a)({},e),{},{isWrote:t.isWrote});case Pt:return t.friendsData?Object(L.a)(Object(L.a)({},e),{},{friendsData:Object(F.a)(t.friendsData)}):e;case It:return Object(L.a)(Object(L.a)({},e),{},{currentPage:t.number});case vt:return Object(L.a)(Object(L.a)({},e),{},{totalFriendsCount:t.count});case St:return Object(L.a)(Object(L.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(F.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});case Nt:return Object(L.a)(Object(L.a)({},e),{},{isWroteInProgress:t.inProgress?[].concat(Object(F.a)(e.isWroteInProgress),[t.userId]):e.isWroteInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Wt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUnfollow=function(t){e.props.unFollowThunkActionCreator(t)},e.onFollow=function(t){e.props.followThunkActionCreator(t)},e.onSetCurrentPage=function(t){e.props.setCurrentPageThunkActionCreator(t,e.props.pageSize)},e.onMessage=function(t){e.props.goToDialogThunkActionCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.setFriendsThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.setIsWrote(!1),this.props.setCurrentPage(1)}},{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(_t,{totalFriendsCount:this.props.totalFriendsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,friendsData:this.props.friendsData,currentDialogId:this.props.currentDialogId,onSetCurrentPage:this.onSetCurrentPage,isWrote:this.props.isWrote,onUnfollow:this.onUnfollow,onFollow:this.onFollow,onMessage:this.onMessage,followingInProgress:this.props.followingInProgress,isWroteInProgress:this.props.isWroteInProgress})})}}]),n}(a.a.Component),Rt=Object(O.d)(Object(b.b)((function(e){return{friendsData:e.friendsPage.friendsData,pageSize:e.friendsPage.pageSize,totalFriendsCount:e.friendsPage.totalFriendsCount,currentPage:e.friendsPage.currentPage,isFetching:e.friendsPage.isFetching,isWrote:e.friendsPage.isWrote,serverLink:e.authorizationPage.serverLink,currentDialogId:e.dialogsPage.currentDialogId,followingInProgress:e.friendsPage.followingInProgress,isWroteInProgress:e.friendsPage.isWroteInProgress,auth:e.authorizationPage.auth}}),{setIsWrote:Et,setCurrentPage:yt,setFriendsThunkCreator:function(e,t){return function(){var n=Object(U.a)(M.a.mark((function n(r){var a;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(At(!0)),n.next=3,Object(W.h)(e,t);case 3:a=n.sent,r(At(!1)),a&&(r(Tt(a.items)),r(Ct(a.totalCount)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unFollowThunkActionCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ut(!0,e)),t.next=3,Object(W.s)(e);case 3:r=t.sent,n(Mt(e,r.message)),n(Ut(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkActionCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ut(!0,e)),t.next=3,Object(W.f)(e);case 3:r=t.sent,n((a=e,s=r.message,{type:Dt,friendId:a,message:s})),n(Ut(!1,e));case 6:case"end":return t.stop()}var a,s}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPageThunkActionCreator:function(e,t){return function(){var n=Object(U.a)(M.a.mark((function n(r){var a;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(yt(e)),r(At(!0)),n.next=4,Object(W.h)(e,t);case 4:a=n.sent,r(At(!1)),r(Tt(a.items)),r(Ct(a.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},goToDialogThunkActionCreator:function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ft(!0,e)),t.next=3,Object(W.o)(e);case 3:r=t.sent,n(Et(!0)),n(Object(me.f)(r.idDialog)),n(Ft(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m.a)(Wt),Bt=n(23),Gt=n.n(Bt),zt=function(e){return Object(_.jsxs)("nav",{className:Gt.a.nav,children:[Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("p",{children:Object(_.jsx)(N.b,{className:Gt.a.link,activeClassName:Gt.a.activeLink,to:"/AuthUser/ProfilePage/"+e.myId,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("p",{onClick:function(){return e.onGoToDialogsPage("")},children:Object(_.jsx)(N.b,{className:Gt.a.link,activeClassName:Gt.a.activeLink,to:"/AuthUser/DialogsPage",children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"})})}),Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("p",{children:Object(_.jsx)(N.b,{className:Gt.a.link,activeClassName:Gt.a.activeLink,to:"/AuthUser/FriendsPage",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})})}),Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("p",{children:Object(_.jsx)(N.b,{className:Gt.a.link,activeClassName:Gt.a.activeLink,to:"/AuthUser/NewsPage",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})})}),Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("p",{children:Object(_.jsx)(N.b,{className:Gt.a.link,activeClassName:Gt.a.activeLink,to:"/AuthUser/Settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})}),Object(_.jsx)("div",{className:Gt.a.navItem,children:Object(_.jsx)("button",{className:Gt.a.logoutButton,onClick:function(){e.onExit()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})},Vt="USER_VERIFICATION",Ht="RESET_VERIFICATION",Zt="SET_USER_TOKEN",Xt="SET_AUTH_USER_ID",qt="TOGGLE_AUTHORISATION_PROGRESS",Jt={auth:!1,authorisationInProgress:!1,authUserId:null},Yt=function(){return{type:Vt}},Qt=function(e){return{type:qt,authorisationInProgress:e}},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:return Object(L.a)(Object(L.a)({},e),{},{auth:!0});case Xt:return Object(L.a)(Object(L.a)({},e),{},{authUserId:t.authUserId});case Ht:return localStorage.removeItem("userToken"),Object(L.a)(Object(L.a)({},e),{},{auth:!1});case Zt:return localStorage.setItem("userToken",t.token),e;default:return e;case qt:return Object(L.a)(Object(L.a)({},e),{},{authorisationInProgress:t.authorisationInProgress})}},$t=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onGoToDialogsPage=function(t){e.props.setCurrentDialog(t)},e.onExit=function(){e.props.resetVerificationThunkCreator()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(_.jsx)(zt,{onGoToDialogsPage:this.onGoToDialogsPage,myId:this.props.myId,onExit:this.onExit})}}]),n}(a.a.Component),en=Object(b.b)((function(e){return{myId:e.profilePage.myId}}),{setCurrentDialog:me.f,resetVerificationThunkCreator:function(){return function(e){e({type:Ht})}}})($t),tn=n(35),nn=n.n(tn),rn=n(40),an=n.n(rn),sn=function(e){return Object(_.jsxs)("div",{className:an.a.wrapper,children:[Object(_.jsx)("div",{className:an.a.senderAva,children:Object(_.jsx)("img",{src:e.senderAva,alt:"senderava"})}),Object(_.jsxs)("div",{className:an.a.messageContent,children:[Object(_.jsx)("div",{className:an.a.senderName,children:Object(_.jsx)(N.b,{className:an.a.senderLink,to:"/AuthUser/ProfilePage/"+e.senderId,children:e.senderName})}),Object(_.jsx)("div",{className:an.a.text,children:Object(_.jsx)("p",{children:e.text})}),Object(_.jsx)("div",{className:an.a.time,children:e.time})]}),Object(_.jsx)("div",{className:an.a.deleteMessage,children:Object(_.jsx)("button",{disabled:e.deleteMessageInProgress,onClick:function(){return e.onDeleteMessage(e.idMessage)},children:Object(_.jsx)("p",{children:"\xd7"})})})]})},on=a.a.memo(sn),cn=function(e){var t=Object(r.useRef)(null);Object(r.useEffect)((function(){t.current.scrollIntoView()}));var n=e.messagesData.map((function(t){return t.isDeleted?null:Object(_.jsx)(on,{deleteMessageInProgress:e.deleteMessageInProgress,senderName:t.name,text:t.text,senderAva:t.img,time:t.time,idMessage:t.id,onDeleteMessage:e.onDeleteMassage,senderId:t.senderId},t.id)}));return Object(_.jsxs)("div",{className:nn.a.messagesBar,children:[Object(_.jsxs)("div",{className:nn.a.messagesList,children:[e.messagesData.length>0?n:Object(_.jsx)("p",{className:nn.a.noMessagesMessage,children:"\u0412 \u044d\u0442\u043e\u043c \u0434\u0438\u0430\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"}),Object(_.jsx)("div",{ref:t})]}),Object(_.jsx)(dn,{sendMessageInProgress:e.sendMessageInProgress,onSubmit:function(t,n){e.onSendNewMessage(t.messageText),n(Object(ae.a)("sendMessage"))}})]})},un=de("textarea"),ln=fe(0,350),dn=Object(oe.a)({form:"sendMessage"})((function(e){return Object(_.jsxs)("form",{className:nn.a.sendMessageForm,onSubmit:e.handleSubmit,children:[Object(_.jsx)(se.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"messageText",validate:[ln],component:un}),Object(_.jsx)("button",{disabled:e.sendMessageInProgress,className:nn.a.sendMessageButton,children:"Send message"})]})})),gn=a.a.memo(cn),fn=n(51),pn=n.n(fn),jn=function(e){return Object(_.jsxs)("div",{className:pn.a.dialog,children:[Object(_.jsx)("div",{className:pn.a.dialogAva,children:Object(_.jsx)("img",{src:e.dialogAva,alt:"dialogAva"})}),Object(_.jsx)("button",{disabled:e.setCurrentDialogInProgress,onClick:function(){return e.onSetCurrentDialog(e.idDialog)},className:pn.a.dialogLinkButton,children:Object(_.jsx)(N.b,{className:pn.a.dialogLink,activeClassName:pn.a.activeDialog,to:"/AuthUser/DialogsPage/".concat(e.idDialog),children:e.chatName})}),Object(_.jsx)("div",{className:pn.a.deleteDialog,children:Object(_.jsx)("button",{disabled:e.deleteDialogInProgress,onClick:function(){return e.onDeleteDialog(e.idDialog)},children:Object(_.jsx)("p",{children:"\xd7"})})})]})},hn=a.a.memo(jn),bn=function(e){var t=e.dialogsData.map((function(t){return t.isDeleted?null:Object(_.jsx)(hn,{deleteDialogInProgress:e.deleteDialogInProgress,setCurrentDialogInProgress:e.setCurrentDialogInProgress,onSetCurrentDialog:e.onSetCurrentDialog,dialogAva:t.img,idDialog:t.idDialog,chatName:t.name,onDeleteDialog:e.onDeleteDialog},t.idDialog)}));return Object(_.jsxs)("div",{className:nn.a.dialogList,children:[Object(_.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432:"}),Object(_.jsx)("div",{className:nn.a.dialogsBar,children:e.dialogsData.length>0?t:Object(_.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u044b\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432. \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u0443 - \u043d\u0438\u0431\u0443\u0434\u044c, \u0438 \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0434\u0438\u0430\u043b\u043e\u0433"})})]})},On=a.a.memo(bn),mn=function(e){return Object(_.jsxs)(_.Fragment,{children:[e.currentDialogId?null:Object(_.jsx)(p.a,{to:"/AuthUser/DialogsPage"+e.currentDialogId}),Object(_.jsxs)("div",{className:nn.a.wrapper,children:[e.currentDialogId?Object(_.jsx)(gn,{sendMessageInProgress:e.sendMessageInProgress,deleteMessageInProgress:e.deleteMessageInProgress,messagesData:e.messagesData,newMessageText:e.newMessageText,onSendNewMessage:e.onSendNewMessage,onDeleteMassage:e.onDeleteMassage}):null,Object(_.jsx)(On,{setCurrentDialogInProgress:e.setCurrentDialogInProgress,dialogsData:e.dialogsData,onDeleteDialog:e.onDeleteDialog,onSetCurrentDialog:e.onSetCurrentDialog,deleteDialogInProgress:e.deleteDialogInProgress})]})]})},_n=a.a.memo(mn),Pn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.setDialogsThunkCreator(e.props.dialogsPage.currentDialogId)},e.componentWillUnmount=function(){e.props.setCurrentDialog("")},e.onDeleteDialog=function(t){e.props.deleteDialogThunkCreator(t,e.props.dialogsPage.currentDialogId)},e.onDeleteMassage=function(t){var n=e.props.match.params.dialogId;e.props.deleteMessageThunkCreator(n,t)},e.onSetCurrentDialog=function(t){e.props.setCurrentDialog(t),e.props.cetCurrentDialogThunkCreator(t)},e.onSendNewMessage=function(t){if(t){var n=e.props.match.params.dialogId;e.props.sendMessageThunkCreator(n,t)}},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){return Object(_.jsx)(_n,{dialogsData:this.props.dialogsPage.dialogsData,messagesData:this.props.dialogsPage.messagesData,onSendNewMessage:this.onSendNewMessage,currentDialogId:this.props.dialogsPage.currentDialogId,onSetCurrentDialog:this.onSetCurrentDialog,onDeleteDialog:this.onDeleteDialog,onDeleteMassage:this.onDeleteMassage,setCurrentDialogInProgress:this.props.dialogsPage.setCurrentDialogInProgress,deleteDialogInProgress:this.props.dialogsPage.deleteDialogInProgress,deleteMessageInProgress:this.props.dialogsPage.deleteMessageInProgress,sendMessageInProgress:this.props.dialogsPage.sendMessageInProgress})}}]),n}(a.a.Component),vn=Object(O.d)(Object(b.b)((function(e){return{dialogsPage:e.dialogsPage}}),{setCurrentDialog:me.f,setDialogsThunkCreator:me.g,deleteDialogThunkCreator:me.c,deleteMessageThunkCreator:me.d,cetCurrentDialogThunkCreator:me.a,sendMessageThunkCreator:me.e}),m.a,p.f)(Pn),In="SET_SESSION_IS_START",xn={sessionIsStart:!1},wn=function(){return function(){var e=Object(U.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.b)();case 2:return(n=e.sent).auth&&(t(Yt()),t((r=n.myId,{type:Ee,myId:r}))),e.abrupt("return",!0);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case In:return Object(L.a)(Object(L.a)({},e),{},{sessionIsStart:!0});default:return e}},Sn=n.p+"static/media/mainPreloader.eb8b1ae0.svg",Nn=function(){return Object(_.jsx)("img",{src:Sn,alt:"Preloader",height:"100px",width:"100px"})},kn=a.a.lazy((function(){return n.e(3).then(n.bind(null,309))})),Tn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("userToken")&&this.props.setSessionIsStartThunkCreator()}},{key:"render",value:function(){return this.props.sessionIsStart?Object(_.jsxs)("div",{className:f.a.wrapper,children:[Object(_.jsx)(en,{}),Object(_.jsxs)("div",{className:f.a.content,children:[Object(_.jsx)(p.b,{path:"/AuthUser/ProfilePage/:profileId?",render:function(){return Object(_.jsx)(ut,{})}}),Object(_.jsx)(p.b,{path:"/AuthUser/DialogsPage/:dialogId?",render:function(){return Object(_.jsx)(vn,{})}}),Object(_.jsx)(p.b,{exact:!0,path:"/AuthUser/UsersPage",render:function(){return Object(_.jsx)(r.Suspense,{fallback:Object(_.jsx)("div",{className:f.a.lazyLoadPreloaderBar,children:Object(_.jsx)(Nn,{})}),children:Object(_.jsx)(kn,{})})}}),Object(_.jsx)(p.b,{path:"/AuthUser/NewsPage",render:function(){return Object(_.jsx)(J,{})}}),Object(_.jsx)(p.b,{path:"/AuthUser/Settings",render:function(){return Object(_.jsx)(I,{})}}),Object(_.jsx)(p.b,{exact:!0,path:"/AuthUser/FriendsPage",render:function(){return Object(_.jsx)(Rt,{})}})]})]}):localStorage.getItem("userToken")?Object(_.jsx)("div",{className:f.a.preloaderBar,children:Object(_.jsx)(Nn,{})}):Object(_.jsx)(p.a,{to:"/"})}}]),n}(a.a.Component),yn=Object(b.b)((function(e){return{sessionIsStart:e.app.sessionIsStart}}),{checkAuthMeThunkCreator:wn,setSessionIsStartThunkCreator:function(){return function(){var e=Object(U.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(wn());case 2:t({type:In});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},CheckAuthRedirect:m.a})(Tn),Cn=n(135),An="TOGGLE_REGISTRATION_PROGRESS",En={registrationInProgress:!1},Mn=function(e){return{type:An,registrationInProgress:e}},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An:return Object(L.a)(Object(L.a)({},e),{},{registrationInProgress:t.registrationInProgress});default:return e}},Fn=n(145),Ln=n(138),Wn=[Object(O.a)(Fn.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()],Rn=Object(O.c)({app:Dn,dialogsPage:me.b,profilePage:He,usersPage:Cn.a,newsPage:X,authorizationPage:Kt,registrationPage:Un,friendsPage:Lt,form:Ln.a}),Bn=Object(O.e)(Rn,O.d.apply(void 0,Wn)),Gn=n(22),zn=n.n(Gn),Vn=function(e){var t=e.authorisationInProgress,n=e.onUserVerification;return Object(_.jsx)("div",{className:zn.a.wrapper,children:Object(_.jsxs)("div",{className:zn.a.authorisation,children:[Object(_.jsx)("h3",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(_.jsx)(Zn,{authorisationInProgress:t,onSubmit:function(e){n(e.login,e.password)}}),Object(_.jsx)("div",{className:zn.a.regLink,children:Object(_.jsxs)("p",{children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b ? ",Object(_.jsx)(N.b,{className:zn.a.link,to:"/RegistrationPage",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})]})})},Hn=de("input"),Zn=Object(oe.a)({form:"authorization"})((function(e){return Object(_.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(_.jsxs)("div",{className:zn.a.enterLogin,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(_.jsx)(se.a,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",validate:[ge],component:Hn})]}),Object(_.jsxs)("div",{className:zn.a.enterPassword,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(_.jsx)(se.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",validate:[ge],component:Hn})]}),Object(_.jsxs)("div",{className:zn.a.entryButton,children:[e.error?Object(_.jsx)("div",{className:zn.a.summaryErrorBar,children:Object(_.jsx)("span",{className:ue.a.summaryError,children:e.error})}):null,Object(_.jsx)("button",{type:"submit",disabled:e.authorisationInProgress,children:"\u0412\u0445\u043e\u0434"})]})]})})),Xn=a.a.memo(Vn),qn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).showSomeError=function(t,n){alert("Some untreated error =("),e.props.toggleAuthorisationProgress(!1)},e.onUserVerification=function(t,n){e.props.userVerificationThunkCreator(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("unhandledrejection",(function(){return e.showSomeError()}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("unhandledrejection",(function(){return e.showSomeError()}))}},{key:"render",value:function(){return this.props.authorizationPage.auth?Object(_.jsx)(p.a,{to:"/AuthUser/ProfilePage/"+this.props.authUserId}):Object(_.jsx)(Xn,{onUserVerification:this.onUserVerification,authorisationInProgress:this.props.authorizationPage.authorisationInProgress})}}]),n}(a.a.Component),Jn=Object(b.b)((function(e){return{authorizationPage:e.authorizationPage,authUserId:e.authorizationPage.authUserId}}),{userVerificationThunkCreator:function(e,t){return function(){var n=Object(U.a)(M.a.mark((function n(r){var a,s;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Qt(!0)),n.next=3,Object(W.v)(e,t);case 3:(a=n.sent).key_type?(r((i=a.access_token,{type:Zt,token:i})),r((o=a.myId,{type:Xt,authUserId:o})),r(Yt())):(s=Object(ae.b)("authorization",{_error:a.message}),r(s)),r(Qt(!1));case 6:case"end":return n.stop()}var o,i}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleAuthorisationProgress:Qt})(qn),Yn=function(e){var t=e.onRegistrationUser,n=e.registrationInProgress;return Object(_.jsx)("div",{className:zn.a.wrapper,children:Object(_.jsxs)("div",{className:zn.a.registration,children:[Object(_.jsx)("h3",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsx)(er,{onSubmit:function(e){t(e.login,e.password,e.firstName,e.lastName,e.address,e.age,e.email)},registrationInProgress:n}),Object(_.jsx)("div",{className:zn.a.authLink,children:Object(_.jsxs)("p",{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 ? ",Object(_.jsx)(N.b,{className:zn.a.link,to:"/",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})]})})},Qn=fe(3,20),Kn=fe(5,30),$n=de("input"),er=Object(oe.a)({form:"registration"})((function(e){return Object(_.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(_.jsxs)("div",{className:zn.a.interLogin,children:[Object(_.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043b\u043e\u0433\u0438\u043d:"}),Object(_.jsx)(se.a,{name:"login",validate:[ge,Qn],component:$n,type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(_.jsxs)("div",{className:zn.a.interEmail,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email:"}),Object(_.jsx)(se.a,{name:"email",validate:[ge],component:$n,type:"text",placeholder:"Email"})]}),Object(_.jsxs)("div",{className:zn.a.interName,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f:"}),Object(_.jsx)(se.a,{name:"firstName",validate:[ge],component:$n,type:"text",placeholder:"\u0418\u043c\u044f"})]}),Object(_.jsxs)("div",{className:zn.a.interFirstname,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e:"}),Object(_.jsx)(se.a,{name:"lastName",validate:[ge],component:$n,type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]}),Object(_.jsxs)("div",{className:zn.a.interAddress,children:[Object(_.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0433\u043e\u0440\u043e\u0434:"}),Object(_.jsx)(se.a,{name:"address",validate:[ge],component:$n,type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434"})]}),Object(_.jsxs)("div",{className:zn.a.interAge,children:[Object(_.jsx)("p",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442:"}),Object(_.jsx)(se.a,{name:"age",validate:[ge],component:$n,type:"text",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})]}),Object(_.jsxs)("div",{className:zn.a.interPassword,children:[Object(_.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(_.jsx)(se.a,{name:"password",validate:[ge,Kn],component:$n,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(_.jsx)("div",{className:zn.a.regButton,children:Object(_.jsx)("button",{disabled:e.registrationInProgress,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})),tr=a.a.memo(Yn),nr=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onRegistrationUser=function(t,n,r,a,s,o,i){e.props.registrationUserThunkCreator(t,n,r,a,s,o,i)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)(tr,{onRegistrationUser:this.onRegistrationUser,registrationInProgress:this.props.registrationPage.registrationInProgress})}}]),n}(a.a.Component),rr=Object(b.b)((function(e){return{registrationPage:e.registrationPage}}),{registrationUserThunkCreator:function(e,t,n,r,a,s,o){return function(){var i=Object(U.a)(M.a.mark((function i(c){var u;return M.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c(Mn(!0)),i.next=3,Object(W.u)(e,n,r,t,a,s,o);case 3:(u=i.sent).itsFine?alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"):alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d - ".concat(u.error)),c(Mn(!1));case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}})(nr),ar=n(68),sr=n.n(ar),or=function(){return Object(_.jsx)("header",{className:sr.a.header,children:Object(_.jsxs)("div",{className:sr.a.headerWRap,children:[Object(_.jsx)("div",{className:sr.a.logo,children:Object(_.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/10/wonder-day-among-us-21.png"})}),Object(_.jsx)("div",{className:sr.a.title,children:Object(_.jsx)("p",{children:"VLopatiche"})})]})})},ir=n(146),cr=n.n(ir),ur=function(){return Object(_.jsx)("footer",{className:cr.a.footer,children:"FOOTER"})};i.a.render(Object(_.jsx)(N.a,{basename:"/-SocialNetwork",children:Object(_.jsxs)(b.a,{store:Bn,children:[Object(_.jsx)(or,{}),Object(_.jsx)(p.b,{path:"/AuthUser",render:function(){return Object(_.jsx)(yn,{})}}),Object(_.jsx)(p.b,{exact:!0,path:"/",render:function(){return Object(_.jsx)(Jn,{})}}),Object(_.jsx)(p.b,{path:"/RegistrationPage",render:function(){return Object(_.jsx)(rr,{})}}),Object(_.jsx)(ur,{})]})}),document.getElementById("root")),s()},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(2),a=n(15),s=n(16),o=n(18),i=n(17),c=n(1),u=n(21),l=n(10),d=n(0),g=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(i.a)(c);function c(){return Object(a.a)(this,c),n.apply(this,arguments)}return Object(s.a)(c,[{key:"render",value:function(){return this.props.auth?Object(d.jsx)(e,Object(r.a)({},this.props)):Object(d.jsx)(u.a,{to:"/"})}}]),c}(c.Component);return Object(l.b)((function(e){return{auth:e.authorizationPage.auth}}),{})(t)}},33:function(e,t,n){e.exports={friend:"Friend_friend__hhmQm",friendAva:"Friend_friendAva__wIJRW",friendLink:"Friend_friendLink__3a-17",button:"Friend_button__3Jcdh",toMessageButton:"Friend_toMessageButton__1iuDh",unfollowButton:"Friend_unfollowButton__3LdZ7",followButton:"Friend_followButton__P8n0h",friendInfo:"Friend_friendInfo__2ABPU",followedStatus:"Friend_followedStatus__1AtIP"}},35:function(e,t,n){e.exports={wrapper:"DialogsPage_wrapper__2fzhY",messagesBar:"DialogsPage_messagesBar__ZbU-U",messagesList:"DialogsPage_messagesList__TsCSl",dialogList:"DialogsPage_dialogList__2i7dp",dialogsBar:"DialogsPage_dialogsBar__33xn5",noMessagesMessage:"DialogsPage_noMessagesMessage__3n11N",sendMessageForm:"DialogsPage_sendMessageForm__3Hgur",sendMessageButton:"DialogsPage_sendMessageButton__FxC33"}},39:function(e,t,n){e.exports={friendsPage:"FriendsPage_friendsPage__2__WV",pageNumber:"FriendsPage_pageNumber__ZZooW",selectedPage:"FriendsPage_selectedPage__1Ik_A",searchFriends:"FriendsPage_searchFriends__10eGX",selectingPageMenu:"FriendsPage_selectingPageMenu__2anNU",searchFriendsButtonWrap:"FriendsPage_searchFriendsButtonWrap__1seXZ",usersListArea:"FriendsPage_usersListArea__2865d",searchFriendsButton:"FriendsPage_searchFriendsButton__3IwF3"}},40:function(e,t,n){e.exports={wrapper:"Message_wrapper__30nih",deleteMessage:"Message_deleteMessage__W3MBy",senderLink:"Message_senderLink__rpyek",text:"Message_text__4g4z6",senderAva:"Message_senderAva__N6CrW",messageContent:"Message_messageContent__1yUuw",time:"Message_time__1yfKo"}},45:function(e,t,n){e.exports={errorText:"FormsElements_errorText__MHg2Q",formBar:"FormsElements_formBar__1exTu",inputForm:"FormsElements_inputForm__TYzSU",textareaForm:"FormsElements_textareaForm__flmM9",summaryError:"FormsElements_summaryError__urlex",error:"FormsElements_error__PrWf4"}},46:function(e,t,n){e.exports={news:"News_news__1ieh9",newsContent:"News_newsContent__3BXBY",resourceLink:"News_resourceLink__3bx45",avaNews:"News_avaNews__2NWVq",resourceName:"News_resourceName__1bP5U",newsText:"News_newsText__1MPVe",dateTime:"News_dateTime__2v-at"}},47:function(e,t,n){e.exports={wrapper:"Post_wrapper__3xYGp",postText:"Post_postText__jm-Em",avaPost:"Post_avaPost__1_U2f",postContent:"Post_postContent__1t9rt",dateTime:"Post_dateTime__3rtNB",deletePost:"Post_deletePost__15fqT",name:"Post_name__10Cgx"}},51:function(e,t,n){e.exports={dialog:"Dialog_dialog__UCfD3",deleteDialog:"Dialog_deleteDialog__3kNAa",dialogLink:"Dialog_dialogLink__1XMu5",dialogLinkButton:"Dialog_dialogLinkButton__1oCXm",activeDialog:"Dialog_activeDialog__CITXG",dialogAva:"Dialog_dialogAva__2pHzv"}},66:function(e,t,n){e.exports={wrapper:"App_wrapper__3F1xP",content:"App_content__3TdWw",preloaderBar:"App_preloaderBar__3yzbO",lazyLoadPreloaderBar:"App_lazyLoadPreloaderBar__3BKQI"}},67:function(e,t,n){e.exports={wrapper:"MyPosts_wrapper__GQRWU",addPostButton:"MyPosts_addPostButton__1qNDF",addPostForm:"MyPosts_addPostForm__u7fQD",inputPostText:"MyPosts_inputPostText__3DcDZ",postsList:"MyPosts_postsList__1IU3E"}},68:function(e,t,n){e.exports={header:"Header_header__3OQZO",headerWRap:"Header_headerWRap__39axr",logo:"Header_logo__2EqNj",title:"Header_title__3CEcM"}},69:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__1kzV_",user:"UsersPage_user__2JE67",userAva:"UsersPage_userAva__oAJ_2",userLink:"UsersPage_userLink__3sSfT",button:"UsersPage_button__3fPc6",toMessageButton:"UsersPage_toMessageButton__2unoZ",unfollowButton:"UsersPage_unfollowButton__6Nzr0",followButton:"UsersPage_followButton__1eSn7",userInfo:"UsersPage_userInfo__2bSxh",pageNumber:"UsersPage_pageNumber__zEOE5",selectedPage:"UsersPage_selectedPage__PoJB9",selectingPageMenu:"UsersPage_selectingPageMenu__3Pbm8",followedStatus:"UsersPage_followedStatus__2djeD",usersListBar:"UsersPage_usersListBar__3e_9m",searchUsersForm:"UsersPage_searchUsersForm__3SqAW",searchTextArea:"UsersPage_searchTextArea__2jSwh",searchButtonWrap:"UsersPage_searchButtonWrap__RrfM1",searchButton:"UsersPage_searchButton__24hzN",inputSearchText:"UsersPage_inputSearchText__sJE8k"}},7:function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"u",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"s",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return I})),n.d(t,"t",(function(){return x})),n.d(t,"m",(function(){return w}));var r=n(20),a="https://188.32.105.146:8123",s=function(e,t){return r.post("".concat(a,"/auth"),{login:e,password:t}).then((function(e){return e.data}))},o=function(){return r.get("".concat(a,"/checkAuthMe?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},i=function(e,t,n,s,o,i,c){return r.post("".concat(a,"/reg"),{login:e,firstName:t,lastName:n,password:s,address:o,age:i,email:c}).then((function(e){return e.data}))},c=function(){return r.get("".concat(a,"/dialogs?token=").concat(localStorage.getItem("userToken"))).then((function(e){return e.data}))},u=function(e){return r.get("".concat(a,"/messages?token=").concat(localStorage.getItem("userToken"),"&idDialog=").concat(e)).then((function(e){return e.data}))},l=function(e){return r.delete("".concat(a,"/deleteDialog"),{data:{token:localStorage.getItem("userToken"),idDialog:e}}).then((function(e){return e.data}))},d=function(e,t){return r.delete("".concat(a,"/deleteMessage"),{data:{token:localStorage.getItem("userToken"),idDialog:e,idMessage:t}}).then((function(e){return e.data}))},g=function(e){return r.post("".concat(a,"/createDialog"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},f=function(e,t){return r.post("".concat(a,"/sendMessage"),{token:localStorage.getItem("userToken"),idDialog:e,text:t}).then((function(e){return e.data}))},p=function(e,t){return r.get("".concat(a,"/friends?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},j=function(e){return r.delete("".concat(a,"/unFollowFriend"),{data:{token:localStorage.getItem("userToken"),userId:e}}).then((function(e){return e.data}))},h=function(e){return r.post("".concat(a,"/followFriend"),{token:localStorage.getItem("userToken"),userId:e}).then((function(e){return e.data}))},b=function(e,t){return r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},O=function(e,t,n,s){return s.length>0?r.get("".concat(a,"/users?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t,"&isSearch=").concat(n,"&searchText=").concat(s)).then((function(e){return e.data})):b(e,t)},m=function(e,t){return r.get("".concat(a,"/news?token=").concat(localStorage.getItem("userToken"),"&page=").concat(e,"&count=").concat(t)).then((function(e){return e.data}))},_=function(e){return r.get("".concat(a,"/profileInfo?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},P=function(e){return r.get("".concat(a,"/posts?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))},v=function(e){return r.post("".concat(a,"/addPost"),{token:localStorage.getItem("userToken"),postText:e}).then((function(e){return e.data}))},I=function(e){return r.delete("".concat(a,"/deletePost"),{data:{token:localStorage.getItem("userToken"),idPost:e}}).then((function(e){return e.data}))},x=function(e){return r.put("".concat(a,"/updUserStatus"),{token:localStorage.getItem("userToken"),statusText:e}).then((function(e){return e.data}))},w=function(e){return r.get("".concat(a,"/status?token=").concat(localStorage.getItem("userToken"),"&").concat(e?"profileId=".concat(e):"")).then((function(e){return e.data}))}},79:function(e,t,n){"use strict";var r=n(65),a=n(69),s=n.n(a),o=n(1),i=n(0);t.a=function(e){for(var t=e.totalCount,n=e.pageSize,a=e.currentPage,c=e.setCurrentPage,u=e.laidPortionSize,l=Math.ceil(t/n),d=[],g=u||5,f=Math.ceil(l/g),p=Object(o.useState)(1),j=Object(r.a)(p,2),h=j[0],b=j[1],O=(h-1)*g+1,m=h*g,_=1;_<=l;_++)d.push(_);var P=d.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(i.jsx)("span",{className:e===a?"".concat(s.a.selectedPage," ").concat(s.a.pageNumber):s.a.pageNumber,onClick:function(){c(e)},children:e},e)}));return Object(i.jsxs)("div",{children:[h>1?Object(i.jsx)("button",{onClick:function(){b(h-1),c(O-1)},children:"<<"}):null,P,h<f?Object(i.jsx)("button",{onClick:function(){b(h+1),c(m+1)},children:">>"}):null]})}},83:function(e,t,n){e.exports={newsPage:"NewsPage_newsPage__34zRM",newsList:"NewsPage_newsList__2TDW0",selectingPageMenu:"NewsPage_selectingPageMenu__8Gdbm",selectedPage:"NewsPage_selectedPage__3w1EZ",pageNumber:"NewsPage_pageNumber__1ZPep"}}},[[307,1,2]]]);
//# sourceMappingURL=main.3607894b.chunk.js.map